# 🚗 停車挑戰 - 關卡設計計劃

## 關卡主題系統

每個關卡都有明確的停車場景和學習目標，逐步教導玩家不同的停車技巧。

---

### 🟢 初級關卡 (Levels 1-5) - 基礎停車技巧

#### Level 1: 直線倒車入庫
**場景**: 空曠停車場，無障礙物
**主題**: Basic Reverse Parking
**目標**: 學習基本倒車和定位
**障礙物**:
- 停車格後方有牆（wall）
**難度**: ⭐

#### Level 2: 前方停車
**場景**: 路邊停車，前方無車
**主題**: Forward Curb Parking
**目標**: 學習向前停車對齊
**障礙物**:
- 人行道（sidewalk）- 不可駛上
- 路緣（curb）
**難度**: ⭐

#### Level 3: 斜角停車
**場景**: 購物中心停車場
**主題**: Angled Parking
**目標**: 45度角停車位技巧
**障礙物**:
- 兩側各一輛車
**難度**: ⭐⭐

#### Level 4: 前方有車的路邊停車
**場景**: 城市街道
**主題**: Street Parking (Front Car Only)
**目標**: 前方有車時的停車定位
**障礙物**:
- 前方停放的車輛
- 人行道（sidewalk）
- 牆壁限制後方空間
**難度**: ⭐⭐

#### Level 5: 後方有車的路邊停車
**場景**: 城市街道
**主題**: Street Parking (Rear Car Only)
**目標**: 後方有車時的倒車停車
**障礙物**:
- 後方停放的車輛
- 人行道（sidewalk）
**難度**: ⭐⭐

---

### 🟡 中級關卡 (Levels 6-10) - 進階停車場景

#### Level 6: 完整平行停車
**場景**: 繁忙街道
**主題**: Full Parallel Parking
**目標**: 前後都有車的經典平行停車
**障礙物**:
- 前方車輛
- 後方車輛
- 人行道（sidewalk）
- 路燈柱（pillar）
**難度**: ⭐⭐⭐

#### Level 7: 垂直倒車入庫
**場景**: 地下停車場
**主題**: Perpendicular Reverse Parking
**目標**: 90度倒車入庫
**障礙物**:
- 兩側各一輛車
- 後方牆壁
- 柱子（pillar）
**難度**: ⭐⭐⭐

#### Level 8: 窄巷道停車
**場景**: 老城區窄巷
**主題**: Narrow Alley Parking
**目標**: 有限空間內的精準停車
**障礙物**:
- 兩側牆壁
- 前方車輛
- 垃圾桶（barrier）
**難度**: ⭐⭐⭐

#### Level 9: 購物中心繁忙停車場
**場景**: 週末購物中心
**主題**: Busy Mall Parking
**目標**: 多障礙物環境停車
**障礙物**:
- 多輛停放的車
- 購物推車（barrier）
- 路障（cone）
**難度**: ⭐⭐⭐

#### Level 10: 地下室轉角停車
**場景**: 地下停車場轉角處
**主題**: Corner Parking in Basement
**目標**: 轉彎後立即停車
**障礙物**:
- 牆壁形成L型角落
- 側邊柱子（pillar）
- 後方車輛
**難度**: ⭐⭐⭐

---

### 🟠 高級關卡 (Levels 11-13) - 挑戰性場景

#### Level 11: 斜坡停車
**場景**: 山坡住宅區
**主題**: Hill Parking (視覺模擬)
**目標**: 坡道上的停車挑戰
**障礙物**:
- 前後各一輛車
- 人行道
- 更嚴格的角度要求
**難度**: ⭐⭐⭐⭐

#### Level 12: 豪華轎車停車
**場景**: 高級住宅區
**主題**: Luxury Car Parking
**目標**: 加長車輛停車（車身 1.5x 長度）
**障礙物**:
- 緊密排列的車輛
- 花壇（barrier）
- 多個柱子
**難度**: ⭐⭐⭐⭐

#### Level 13: 代客泊車挑戰
**場景**: 五星級飯店
**主題**: Valet Parking Challenge
**目標**: 快速精準停車
**障礙物**:
- 複雜的斜角車輛排列
- 路障（cone）
- 嚴格的時間限制
**難度**: ⭐⭐⭐⭐

---

### 🔴 專家關卡 (Levels 14-15) - 大師級挑戰

#### Level 14: 機械停車場
**場景**: 自動化機械停車系統
**主題**: Mechanical Parking
**目標**: 極窄空間精準停車
**障礙物**:
- 四周都是牆壁（極小空間）
- 只有 105% 車長的空間
- 柱子
- 機械設備（barrier）
**難度**: ⭐⭐⭐⭐⭐

#### Level 15: 終極停車大師
**場景**: 綜合挑戰
**主題**: Ultimate Parking Master
**目標**: 集合所有技巧
**障礙物**:
- 多輛車
- 人行道
- 柱子
- 路障
- 牆壁
- 極嚴格的時間和精準度要求
**難度**: ⭐⭐⭐⭐⭐

---

## 障礙物類型定義

### 已實現的類型：
- **car**: 停放的車輛
- **wall**: 牆壁/屏障
- **pillar**: 柱子（圓形）
- **cone**: 交通錐

### 新增類型需求：
- **sidewalk**: 人行道（不可駛上，矩形區域）
  - 顏色: #94A3B8（淺灰）+ 斑馬紋理
  - 高度略高於道路
- **curb**: 路緣（人行道邊緣）
- **barrier**: 障礙物（垃圾桶、購物車等）

---

## 實現計劃

### Phase 1: 支援新障礙物類型
1. 在 Level.jsx 中添加 sidewalk 繪製邏輯
2. 在碰撞檢測中處理 sidewalk（不可駛上）
3. 添加視覺區分（顏色、紋理）

### Phase 2: 重新設計關卡
1. 根據上述主題重寫 level01.json ~ level15.json
2. 確保每個關卡有明確的學習目標
3. 調整難度曲線

### Phase 3: 測試與平衡
1. 測試每個關卡的可玩性
2. 調整障礙物位置
3. 平衡時間限制和 par 值

---

## 設計原則

1. **漸進式學習**: 從簡單到複雜
2. **真實場景**: 模擬實際停車情境
3. **多樣化**: 每關有不同的挑戰
4. **公平性**: 所有關卡都可以通關（95% 重疊率）
5. **趣味性**: 保持遊戲樂趣，不過度困難
