(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function m2(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Tm={exports:{}},uu={};var Zv;function g2(){if(Zv)return uu;Zv=1;var o=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,a){var u=null;if(a!==void 0&&(u=""+a),s.key!==void 0&&(u=""+s.key),"key"in s){a={};for(var f in s)f!=="key"&&(a[f]=s[f])}else a=s;return s=a.ref,{$$typeof:o,type:r,key:u,ref:s!==void 0?s:null,props:a}}return uu.Fragment=e,uu.jsx=n,uu.jsxs=n,uu}var Jv;function p2(){return Jv||(Jv=1,Tm.exports=g2()),Tm.exports}var k=p2(),Em={exports:{}},ze={};var e_;function y2(){if(e_)return ze;e_=1;var o=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),x=Symbol.iterator;function p(Y){return Y===null||typeof Y!="object"?null:(Y=x&&Y[x]||Y["@@iterator"],typeof Y=="function"?Y:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function V(Y,H,$){this.props=Y,this.context=H,this.refs=E,this.updater=$||T}V.prototype.isReactComponent={},V.prototype.setState=function(Y,H){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,H,"setState")},V.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function L(){}L.prototype=V.prototype;function z(Y,H,$){this.props=Y,this.context=H,this.refs=E,this.updater=$||T}var U=z.prototype=new L;U.constructor=z,S(U,V.prototype),U.isPureReactComponent=!0;var N=Array.isArray;function j(){}var R={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(Y,H,$){var J=$.ref;return{$$typeof:o,type:Y,key:H,ref:J!==void 0?J:null,props:$}}function w(Y,H){return C(Y.type,H,Y.props)}function M(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===o}function I(Y){var H={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function($){return H[$]})}var P=/\/+/g;function ee(Y,H){return typeof Y=="object"&&Y!==null&&Y.key!=null?I(""+Y.key):H.toString(36)}function te(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(j,j):(Y.status="pending",Y.then(function(H){Y.status==="pending"&&(Y.status="fulfilled",Y.value=H)},function(H){Y.status==="pending"&&(Y.status="rejected",Y.reason=H)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function q(Y,H,$,J,he){var ge=typeof Y;(ge==="undefined"||ge==="boolean")&&(Y=null);var xe=!1;if(Y===null)xe=!0;else switch(ge){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(Y.$$typeof){case o:case e:xe=!0;break;case g:return xe=Y._init,q(xe(Y._payload),H,$,J,he)}}if(xe)return he=he(Y),xe=J===""?"."+ee(Y,0):J,N(he)?($="",xe!=null&&($=xe.replace(P,"$&/")+"/"),q(he,H,$,"",function(Oe){return Oe})):he!=null&&(M(he)&&(he=w(he,$+(he.key==null||Y&&Y.key===he.key?"":(""+he.key).replace(P,"$&/")+"/")+xe)),H.push(he)),1;xe=0;var Me=J===""?".":J+":";if(N(Y))for(var Se=0;Se<Y.length;Se++)J=Y[Se],ge=Me+ee(J,Se),xe+=q(J,H,$,ge,he);else if(Se=p(Y),typeof Se=="function")for(Y=Se.call(Y),Se=0;!(J=Y.next()).done;)J=J.value,ge=Me+ee(J,Se++),xe+=q(J,H,$,ge,he);else if(ge==="object"){if(typeof Y.then=="function")return q(te(Y),H,$,J,he);throw H=String(Y),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return xe}function W(Y,H,$){if(Y==null)return Y;var J=[],he=0;return q(Y,J,"","",function(ge){return H.call($,ge,he++)}),J}function ce(Y){if(Y._status===-1){var H=Y._result;H=H(),H.then(function($){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=$)},function($){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=$)}),Y._status===-1&&(Y._status=0,Y._result=H)}if(Y._status===1)return Y._result.default;throw Y._result}var ve=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},we={map:W,forEach:function(Y,H,$){W(Y,function(){H.apply(this,arguments)},$)},count:function(Y){var H=0;return W(Y,function(){H++}),H},toArray:function(Y){return W(Y,function(H){return H})||[]},only:function(Y){if(!M(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return ze.Activity=_,ze.Children=we,ze.Component=V,ze.Fragment=n,ze.Profiler=s,ze.PureComponent=z,ze.StrictMode=r,ze.Suspense=h,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,ze.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return R.H.useMemoCache(Y)}},ze.cache=function(Y){return function(){return Y.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(Y,H,$){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var J=S({},Y.props),he=Y.key;if(H!=null)for(ge in H.key!==void 0&&(he=""+H.key),H)!b.call(H,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&H.ref===void 0||(J[ge]=H[ge]);var ge=arguments.length-2;if(ge===1)J.children=$;else if(1<ge){for(var xe=Array(ge),Me=0;Me<ge;Me++)xe[Me]=arguments[Me+2];J.children=xe}return C(Y.type,he,J)},ze.createContext=function(Y){return Y={$$typeof:u,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:a,_context:Y},Y},ze.createElement=function(Y,H,$){var J,he={},ge=null;if(H!=null)for(J in H.key!==void 0&&(ge=""+H.key),H)b.call(H,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(he[J]=H[J]);var xe=arguments.length-2;if(xe===1)he.children=$;else if(1<xe){for(var Me=Array(xe),Se=0;Se<xe;Se++)Me[Se]=arguments[Se+2];he.children=Me}if(Y&&Y.defaultProps)for(J in xe=Y.defaultProps,xe)he[J]===void 0&&(he[J]=xe[J]);return C(Y,ge,he)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(Y){return{$$typeof:f,render:Y}},ze.isValidElement=M,ze.lazy=function(Y){return{$$typeof:g,_payload:{_status:-1,_result:Y},_init:ce}},ze.memo=function(Y,H){return{$$typeof:d,type:Y,compare:H===void 0?null:H}},ze.startTransition=function(Y){var H=R.T,$={};R.T=$;try{var J=Y(),he=R.S;he!==null&&he($,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(j,ve)}catch(ge){ve(ge)}finally{H!==null&&$.types!==null&&(H.types=$.types),R.T=H}},ze.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},ze.use=function(Y){return R.H.use(Y)},ze.useActionState=function(Y,H,$){return R.H.useActionState(Y,H,$)},ze.useCallback=function(Y,H){return R.H.useCallback(Y,H)},ze.useContext=function(Y){return R.H.useContext(Y)},ze.useDebugValue=function(){},ze.useDeferredValue=function(Y,H){return R.H.useDeferredValue(Y,H)},ze.useEffect=function(Y,H){return R.H.useEffect(Y,H)},ze.useEffectEvent=function(Y){return R.H.useEffectEvent(Y)},ze.useId=function(){return R.H.useId()},ze.useImperativeHandle=function(Y,H,$){return R.H.useImperativeHandle(Y,H,$)},ze.useInsertionEffect=function(Y,H){return R.H.useInsertionEffect(Y,H)},ze.useLayoutEffect=function(Y,H){return R.H.useLayoutEffect(Y,H)},ze.useMemo=function(Y,H){return R.H.useMemo(Y,H)},ze.useOptimistic=function(Y,H){return R.H.useOptimistic(Y,H)},ze.useReducer=function(Y,H,$){return R.H.useReducer(Y,H,$)},ze.useRef=function(Y){return R.H.useRef(Y)},ze.useState=function(Y){return R.H.useState(Y)},ze.useSyncExternalStore=function(Y,H,$){return R.H.useSyncExternalStore(Y,H,$)},ze.useTransition=function(){return R.H.useTransition()},ze.version="19.2.0",ze}var t_;function Dg(){return t_||(t_=1,Em.exports=y2()),Em.exports}var ae=Dg(),bm={exports:{}},cu={},Am={exports:{}},wm={};var n_;function v2(){return n_||(n_=1,(function(o){function e(q,W){var ce=q.length;q.push(W);e:for(;0<ce;){var ve=ce-1>>>1,we=q[ve];if(0<s(we,W))q[ve]=W,q[ce]=we,ce=ve;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var W=q[0],ce=q.pop();if(ce!==W){q[0]=ce;e:for(var ve=0,we=q.length,Y=we>>>1;ve<Y;){var H=2*(ve+1)-1,$=q[H],J=H+1,he=q[J];if(0>s($,ce))J<we&&0>s(he,$)?(q[ve]=he,q[J]=ce,ve=J):(q[ve]=$,q[H]=ce,ve=H);else if(J<we&&0>s(he,ce))q[ve]=he,q[J]=ce,ve=J;else break e}}return W}function s(q,W){var ce=q.sortIndex-W.sortIndex;return ce!==0?ce:q.id-W.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;o.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();o.unstable_now=function(){return u.now()-f}}var h=[],d=[],g=1,_=null,x=3,p=!1,T=!1,S=!1,E=!1,V=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function U(q){for(var W=n(d);W!==null;){if(W.callback===null)r(d);else if(W.startTime<=q)r(d),W.sortIndex=W.expirationTime,e(h,W);else break;W=n(d)}}function N(q){if(S=!1,U(q),!T)if(n(h)!==null)T=!0,j||(j=!0,I());else{var W=n(d);W!==null&&te(N,W.startTime-q)}}var j=!1,R=-1,b=5,C=-1;function w(){return E?!0:!(o.unstable_now()-C<b)}function M(){if(E=!1,j){var q=o.unstable_now();C=q;var W=!0;try{e:{T=!1,S&&(S=!1,L(R),R=-1),p=!0;var ce=x;try{t:{for(U(q),_=n(h);_!==null&&!(_.expirationTime>q&&w());){var ve=_.callback;if(typeof ve=="function"){_.callback=null,x=_.priorityLevel;var we=ve(_.expirationTime<=q);if(q=o.unstable_now(),typeof we=="function"){_.callback=we,U(q),W=!0;break t}_===n(h)&&r(h),U(q)}else r(h);_=n(h)}if(_!==null)W=!0;else{var Y=n(d);Y!==null&&te(N,Y.startTime-q),W=!1}}break e}finally{_=null,x=ce,p=!1}W=void 0}}finally{W?I():j=!1}}}var I;if(typeof z=="function")I=function(){z(M)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,ee=P.port2;P.port1.onmessage=M,I=function(){ee.postMessage(null)}}else I=function(){V(M,0)};function te(q,W){R=V(function(){q(o.unstable_now())},W)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(q){q.callback=null},o.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<q?Math.floor(1e3/q):5},o.unstable_getCurrentPriorityLevel=function(){return x},o.unstable_next=function(q){switch(x){case 1:case 2:case 3:var W=3;break;default:W=x}var ce=x;x=W;try{return q()}finally{x=ce}},o.unstable_requestPaint=function(){E=!0},o.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ce=x;x=q;try{return W()}finally{x=ce}},o.unstable_scheduleCallback=function(q,W,ce){var ve=o.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ve+ce:ve):ce=ve,q){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ce+we,q={id:g++,callback:W,priorityLevel:q,startTime:ce,expirationTime:we,sortIndex:-1},ce>ve?(q.sortIndex=ce,e(d,q),n(h)===null&&q===n(d)&&(S?(L(R),R=-1):S=!0,te(N,ce-ve))):(q.sortIndex=we,e(h,q),T||p||(T=!0,j||(j=!0,I()))),q},o.unstable_shouldYield=w,o.unstable_wrapCallback=function(q){var W=x;return function(){var ce=x;x=W;try{return q.apply(this,arguments)}finally{x=ce}}}})(wm)),wm}var i_;function _2(){return i_||(i_=1,Am.exports=v2()),Am.exports}var Rm={exports:{}},Mn={};var r_;function x2(){if(r_)return Mn;r_=1;var o=Dg();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,d,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:h,containerInfo:d,implementation:g}}var u=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Mn.createPortal=function(h,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(h,d,null,g)},Mn.flushSync=function(h){var d=u.T,g=r.p;try{if(u.T=null,r.p=2,h)return h()}finally{u.T=d,r.p=g,r.d.f()}},Mn.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},Mn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Mn.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var g=d.as,_=f(g,d.crossOrigin),x=typeof d.integrity=="string"?d.integrity:void 0,p=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:x,fetchPriority:p}):g==="script"&&r.d.X(h,{crossOrigin:_,integrity:x,fetchPriority:p,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Mn.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=f(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},Mn.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,_=f(g,d.crossOrigin);r.d.L(h,g,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Mn.preloadModule=function(h,d){if(typeof h=="string")if(d){var g=f(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},Mn.requestFormReset=function(h){r.d.r(h)},Mn.unstable_batchedUpdates=function(h,d){return h(d)},Mn.useFormState=function(h,d,g){return u.H.useFormState(h,d,g)},Mn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Mn.version="19.2.0",Mn}var s_;function S2(){if(s_)return Rm.exports;s_=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),Rm.exports=x2(),Rm.exports}var a_;function T2(){if(a_)return cu;a_=1;var o=_2(),e=Dg(),n=S2();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function a(t){var i=t,l=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(l=i.return),t=i.return;while(t)}return i.tag===3?l:null}function u(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function f(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(a(t)!==t)throw Error(r(188))}function d(t){var i=t.alternate;if(!i){if(i=a(t),i===null)throw Error(r(188));return i!==t?null:t}for(var l=t,c=i;;){var y=l.return;if(y===null)break;var v=y.alternate;if(v===null){if(c=y.return,c!==null){l=c;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===l)return h(y),t;if(v===c)return h(y),i;v=v.sibling}throw Error(r(188))}if(l.return!==c.return)l=y,c=v;else{for(var D=!1,B=y.child;B;){if(B===l){D=!0,l=y,c=v;break}if(B===c){D=!0,c=y,l=v;break}B=B.sibling}if(!D){for(B=v.child;B;){if(B===l){D=!0,l=v,c=y;break}if(B===c){D=!0,c=v,l=y;break}B=B.sibling}if(!D)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var _=Object.assign,x=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),z=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),w=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function I(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var P=Symbol.for("react.client.reference");function ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===P?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case S:return"Fragment";case V:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case j:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case T:return"Portal";case z:return t.displayName||"Context";case L:return(t._context.displayName||"Context")+".Consumer";case U:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return i=t.displayName||null,i!==null?i:ee(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return ee(t(i))}catch{}}return null}var te=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},ve=[],we=-1;function Y(t){return{current:t}}function H(t){0>we||(t.current=ve[we],ve[we]=null,we--)}function $(t,i){we++,ve[we]=t.current,t.current=i}var J=Y(null),he=Y(null),ge=Y(null),xe=Y(null);function Me(t,i){switch($(ge,i),$(he,t),$(J,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?xv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=xv(i),t=Sv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}H(J),$(J,t)}function Se(){H(J),H(he),H(ge)}function Oe(t){t.memoizedState!==null&&$(xe,t);var i=J.current,l=Sv(i,t.type);i!==l&&($(he,t),$(J,l))}function Ue(t){he.current===t&&(H(J),H(he)),xe.current===t&&(H(xe),su._currentValue=ce)}var Ge,Pn;function yn(t){if(Ge===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Ge=i&&i[1]||"",Pn=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ge+t+Pn}var ki=!1;function di(t,i){if(!t||ki)return"";ki=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(oe){var se=oe}Reflect.construct(t,[],de)}else{try{de.call()}catch(oe){se=oe}t.call(de.prototype)}}else{try{throw Error()}catch(oe){se=oe}(de=t())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(oe){if(oe&&se&&typeof oe.stack=="string")return[oe.stack,se.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),D=v[0],B=v[1];if(D&&B){var Q=D.split(`
`),re=B.split(`
`);for(y=c=0;c<Q.length&&!Q[c].includes("DetermineComponentFrameRoot");)c++;for(;y<re.length&&!re[y].includes("DetermineComponentFrameRoot");)y++;if(c===Q.length||y===re.length)for(c=Q.length-1,y=re.length-1;1<=c&&0<=y&&Q[c]!==re[y];)y--;for(;1<=c&&0<=y;c--,y--)if(Q[c]!==re[y]){if(c!==1||y!==1)do if(c--,y--,0>y||Q[c]!==re[y]){var ue=`
`+Q[c].replace(" at new "," at ");return t.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",t.displayName)),ue}while(1<=c&&0<=y);break}}}finally{ki=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?yn(l):""}function G(t,i){switch(t.tag){case 26:case 27:case 5:return yn(t.type);case 16:return yn("Lazy");case 13:return t.child!==i&&i!==null?yn("Suspense Fallback"):yn("Suspense");case 19:return yn("SuspenseList");case 0:case 15:return di(t.type,!1);case 11:return di(t.type.render,!1);case 1:return di(t.type,!0);case 31:return yn("Activity");default:return""}}function pe(t){try{var i="",l=null;do i+=G(t,l),l=t,t=t.return;while(t);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var K=Object.prototype.hasOwnProperty,be=o.unstable_scheduleCallback,Ce=o.unstable_cancelCallback,je=o.unstable_shouldYield,tt=o.unstable_requestPaint,Te=o.unstable_now,rt=o.unstable_getCurrentPriorityLevel,ft=o.unstable_ImmediatePriority,Et=o.unstable_UserBlockingPriority,_t=o.unstable_NormalPriority,Ct=o.unstable_LowPriority,cn=o.unstable_IdlePriority,Rn=o.log,Mr=o.unstable_setDisableYieldValue,Cn=null,Qt=null;function mi(t){if(typeof Rn=="function"&&Mr(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Cn,t)}catch{}}var Bt=Math.clz32?Math.clz32:Ju,Zu=Math.log,Ya=Math.LN2;function Ju(t){return t>>>=0,t===0?32:31-(Zu(t)/Ya|0)|0}var $i=256,Js=262144,Xt=4194304;function Wi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zi(t,i,l){var c=t.pendingLanes;if(c===0)return 0;var y=0,v=t.suspendedLanes,D=t.pingedLanes;t=t.warmLanes;var B=c&134217727;return B!==0?(c=B&~v,c!==0?y=Wi(c):(D&=B,D!==0?y=Wi(D):l||(l=B&~t,l!==0&&(y=Wi(l))))):(B=c&~v,B!==0?y=Wi(B):D!==0?y=Wi(D):l||(l=c&~t,l!==0&&(y=Wi(l)))),y===0?0:i!==0&&i!==y&&(i&v)===0&&(v=y&-y,l=i&-i,v>=l||v===32&&(l&4194048)!==0)?i:y}function Li(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function wh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ec(){var t=Xt;return Xt<<=1,(Xt&62914560)===0&&(Xt=4194304),t}function Ji(t){for(var i=[],l=0;31>l;l++)i.push(t);return i}function ea(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Rh(t,i,l,c,y,v){var D=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var B=t.entanglements,Q=t.expirationTimes,re=t.hiddenUpdates;for(l=D&~l;0<l;){var ue=31-Bt(l),de=1<<ue;B[ue]=0,Q[ue]=-1;var se=re[ue];if(se!==null)for(re[ue]=null,ue=0;ue<se.length;ue++){var oe=se[ue];oe!==null&&(oe.lane&=-536870913)}l&=~de}c!==0&&ta(t,c,0),v!==0&&y===0&&t.tag!==0&&(t.suspendedLanes|=v&~(D&~i))}function ta(t,i,l){t.pendingLanes|=i,t.suspendedLanes&=~i;var c=31-Bt(i);t.entangledLanes|=i,t.entanglements[c]=t.entanglements[c]|1073741824|l&261930}function uo(t,i){var l=t.entangledLanes|=i;for(t=t.entanglements;l;){var c=31-Bt(l),y=1<<c;y&i|t[c]&i&&(t[c]|=i),l&=~y}}function co(t,i){var l=i&-i;return l=(l&42)!==0?1:na(l),(l&(t.suspendedLanes|i))!==0?0:l}function na(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Dr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tc(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:qv(t.type))}function ji(t,i){var l=W.p;try{return W.p=t,i()}finally{W.p=l}}var zi=Math.random().toString(36).slice(2),Kt="__reactFiber$"+zi,fn="__reactProps$"+zi,er="__reactContainer$"+zi,Qa="__reactEvents$"+zi,Ch="__reactListeners$"+zi,nc="__reactHandles$"+zi,ic="__reactResources$"+zi,tr="__reactMarker$"+zi;function Xa(t){delete t[Kt],delete t[fn],delete t[Qa],delete t[Ch],delete t[nc]}function nr(t){var i=t[Kt];if(i)return i;for(var l=t.parentNode;l;){if(i=l[er]||l[Kt]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(t=Cv(t);t!==null;){if(l=t[Kt])return l;t=Cv(t)}return i}t=l,l=t.parentNode}return null}function gi(t){if(t=t[Kt]||t[er]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Zn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function ir(t){var i=t[ic];return i||(i=t[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function $t(t){t[tr]=!0}var fo=new Set,ho={};function rr(t,i){sr(t,i),sr(t+"Capture",i)}function sr(t,i){for(ho[t]=i,t=0;t<i.length;t++)fo.add(i[t])}var mo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),go={},po={};function rc(t){return K.call(po,t)?!0:K.call(go,t)?!1:mo.test(t)?po[t]=!0:(go[t]=!0,!1)}function Ka(t,i,l){if(rc(i))if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+l)}}function Jn(t,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+l)}}function Wt(t,i,l,c){if(c===null)t.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(i,l,""+c)}}function hn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function is(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function yo(t,i,l){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,v=c.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return y.call(this)},set:function(D){l=""+D,v.call(this,D)}}),Object.defineProperty(t,i,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(D){l=""+D},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ht(t){if(!t._valueTracker){var i=is(t)?"checked":"value";t._valueTracker=yo(t,i,""+t[i])}}function ia(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var l=i.getValue(),c="";return t&&(c=is(t)?t.checked?"true":"false":t.value),t=c,t!==l?(i.setValue(t),!0):!1}function ar(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ra=/[\n"\\]/g;function zn(t){return t.replace(ra,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function $a(t,i,l,c,y,v,D,B){t.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?t.type=D:t.removeAttribute("type"),i!=null?D==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+hn(i)):t.value!==""+hn(i)&&(t.value=""+hn(i)):D!=="submit"&&D!=="reset"||t.removeAttribute("value"),i!=null?vo(t,D,hn(i)):l!=null?vo(t,D,hn(l)):c!=null&&t.removeAttribute("value"),y==null&&v!=null&&(t.defaultChecked=!!v),y!=null&&(t.checked=y&&typeof y!="function"&&typeof y!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?t.name=""+hn(B):t.removeAttribute("name")}function sc(t,i,l,c,y,v,D,B){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.type=v),i!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||i!=null)){ht(t);return}l=l!=null?""+hn(l):"",i=i!=null?""+hn(i):l,B||i===t.value||(t.value=i),t.defaultValue=i}c=c??y,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=B?t.checked:!!c,t.defaultChecked=!!c,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(t.name=D),ht(t)}function vo(t,i,l){i==="number"&&ar(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function rs(t,i,l,c){if(t=t.options,i){i={};for(var y=0;y<l.length;y++)i["$"+l[y]]=!0;for(l=0;l<t.length;l++)y=i.hasOwnProperty("$"+t[l].value),t[l].selected!==y&&(t[l].selected=y),y&&c&&(t[l].defaultSelected=!0)}else{for(l=""+hn(l),i=null,y=0;y<t.length;y++){if(t[y].value===l){t[y].selected=!0,c&&(t[y].defaultSelected=!0);return}i!==null||t[y].disabled||(i=t[y])}i!==null&&(i.selected=!0)}}function ac(t,i,l){if(i!=null&&(i=""+hn(i),i!==t.value&&(t.value=i),l==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=l!=null?""+hn(l):""}function ss(t,i,l,c){if(i==null){if(c!=null){if(l!=null)throw Error(r(92));if(te(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),i=l}l=hn(i),t.defaultValue=l,c=t.textContent,c===l&&c!==""&&c!==null&&(t.value=c),ht(t)}function Bn(t,i){if(i){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=i;return}}t.textContent=i}var lc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _o(t,i,l){var c=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":c?t.setProperty(i,l):typeof l!="number"||l===0||lc.has(i)?i==="float"?t.cssFloat=l:t[i]=(""+l).trim():t[i]=l+"px"}function xo(t,i,l){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var y in i)c=i[y],i.hasOwnProperty(y)&&l[y]!==c&&_o(t,y,c)}else for(var v in i)i.hasOwnProperty(v)&&_o(t,v,i[v])}function Wa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),as=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Za(t){return as.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Bi(){}var So=null;function pi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ls=null,lr=null;function sa(t){var i=gi(t);if(i&&(t=i.stateNode)){var l=t[fn]||null;e:switch(t=i.stateNode,i.type){case"input":if($a(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+zn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var c=l[i];if(c!==t&&c.form===t.form){var y=c[fn]||null;if(!y)throw Error(r(90));$a(c,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(i=0;i<l.length;i++)c=l[i],c.form===t.form&&ia(c)}break e;case"textarea":ac(t,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&rs(t,!!l.multiple,i,!1)}}}var Ja=!1;function os(t,i,l){if(Ja)return t(i,l);Ja=!0;try{var c=t(i);return c}finally{if(Ja=!1,(ls!==null||lr!==null)&&(tf(),ls&&(i=ls,t=lr,lr=ls=null,sa(i),t)))for(i=0;i<t.length;i++)sa(t[i])}}function Ui(t,i){var l=t.stateNode;if(l===null)return null;var c=l[fn]||null;if(c===null)return null;l=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aa=!1;if(yi)try{var gt={};Object.defineProperty(gt,"passive",{get:function(){aa=!0}}),window.addEventListener("test",gt,gt),window.removeEventListener("test",gt,gt)}catch{aa=!1}var or=null,To=null,la=null;function Eo(){if(la)return la;var t,i=To,l=i.length,c,y="value"in or?or.value:or.textContent,v=y.length;for(t=0;t<l&&i[t]===y[t];t++);var D=l-t;for(c=1;c<=D&&i[l-c]===y[v-c];c++);return la=y.slice(t,1<c?1-c:void 0)}function oa(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Nr(){return!0}function Fi(){return!1}function vn(t){function i(l,c,y,v,D){this._reactName=l,this._targetInst=y,this.type=c,this.nativeEvent=v,this.target=D,this.currentTarget=null;for(var B in t)t.hasOwnProperty(B)&&(l=t[B],this[B]=l?l(v):v[B]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Nr:Fi,this.isPropagationStopped=Fi,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){},isPersistent:Nr}),i}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ur=vn(Ir),us=_({},Ir,{view:0,detail:0}),bo=vn(us),cs,el,cr,tl=_({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cr&&(cr&&t.type==="mousemove"?(cs=t.screenX-cr.screenX,el=t.screenY-cr.screenY):el=cs=0,cr=t),cs)},movementY:function(t){return"movementY"in t?t.movementY:el}}),Ao=vn(tl),ua=_({},tl,{dataTransfer:0}),uc=vn(ua),cc=_({},us,{relatedTarget:0}),ca=vn(cc),wo=_({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),fc=vn(wo),nl=_({},Ir,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hc=vn(nl),dc=_({},Ir,{data:0}),fr=vn(dc),mc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=pc[t])?!!i[t]:!1}function fs(){return yc}var kn=_({},us,{key:function(t){if(t.key){var i=mc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=oa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(t){return t.type==="keypress"?oa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vc=vn(kn),_c=_({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Or=vn(_c),m=_({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),A=vn(m),O=_({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),F=vn(O),ne=_({},tl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),le=vn(ne),_e=_({},Ir,{newState:0,oldState:0}),Fe=vn(_e),Ut=[9,13,27,32],lt=yi&&"CompositionEvent"in window,Mt=null;yi&&"documentMode"in document&&(Mt=document.documentMode);var vi=yi&&"TextEvent"in window&&!Mt,hr=yi&&(!lt||Mt&&8<Mt&&11>=Mt),Hi=" ",qi=!1;function fa(t,i){switch(t){case"keyup":return Ut.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function il(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rl=!1;function jT(t,i){switch(t){case"compositionend":return il(i);case"keypress":return i.which!==32?null:(qi=!0,Hi);case"textInput":return t=i.data,t===Hi&&qi?null:t;default:return null}}function zT(t,i){if(rl)return t==="compositionend"||!lt&&fa(t,i)?(t=Eo(),la=To=or=null,rl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return hr&&i.locale!=="ko"?null:i.data;default:return null}}var BT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Np(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!BT[t.type]:i==="textarea"}function Ip(t,i,l,c){ls?lr?lr.push(c):lr=[c]:ls=c,i=uf(i,"onChange"),0<i.length&&(l=new ur("onChange","change",null,l,c),t.push({event:l,listeners:i}))}var Ro=null,Co=null;function UT(t){mv(t,0)}function xc(t){var i=Zn(t);if(ia(i))return t}function Op(t,i){if(t==="change")return i}var Vp=!1;if(yi){var Mh;if(yi){var Dh="oninput"in document;if(!Dh){var Pp=document.createElement("div");Pp.setAttribute("oninput","return;"),Dh=typeof Pp.oninput=="function"}Mh=Dh}else Mh=!1;Vp=Mh&&(!document.documentMode||9<document.documentMode)}function kp(){Ro&&(Ro.detachEvent("onpropertychange",Lp),Co=Ro=null)}function Lp(t){if(t.propertyName==="value"&&xc(Co)){var i=[];Ip(i,Co,t,pi(t)),os(UT,i)}}function FT(t,i,l){t==="focusin"?(kp(),Ro=i,Co=l,Ro.attachEvent("onpropertychange",Lp)):t==="focusout"&&kp()}function HT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xc(Co)}function qT(t,i){if(t==="click")return xc(i)}function GT(t,i){if(t==="input"||t==="change")return xc(i)}function YT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var ei=typeof Object.is=="function"?Object.is:YT;function Mo(t,i){if(ei(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var l=Object.keys(t),c=Object.keys(i);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var y=l[c];if(!K.call(i,y)||!ei(t[y],i[y]))return!1}return!0}function jp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zp(t,i){var l=jp(t);t=0;for(var c;l;){if(l.nodeType===3){if(c=t+l.textContent.length,t<=i&&c>=i)return{node:l,offset:i-t};t=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=jp(l)}}function Bp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Bp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Up(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ar(t.document);i instanceof t.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)t=i.contentWindow;else break;i=ar(t.document)}return i}function Nh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var QT=yi&&"documentMode"in document&&11>=document.documentMode,sl=null,Ih=null,Do=null,Oh=!1;function Fp(t,i,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Oh||sl==null||sl!==ar(c)||(c=sl,"selectionStart"in c&&Nh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Do&&Mo(Do,c)||(Do=c,c=uf(Ih,"onSelect"),0<c.length&&(i=new ur("onSelect","select",null,i,l),t.push({event:i,listeners:c}),i.target=sl)))}function ha(t,i){var l={};return l[t.toLowerCase()]=i.toLowerCase(),l["Webkit"+t]="webkit"+i,l["Moz"+t]="moz"+i,l}var al={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},Vh={},Hp={};yi&&(Hp=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function da(t){if(Vh[t])return Vh[t];if(!al[t])return t;var i=al[t],l;for(l in i)if(i.hasOwnProperty(l)&&l in Hp)return Vh[t]=i[l];return t}var qp=da("animationend"),Gp=da("animationiteration"),Yp=da("animationstart"),XT=da("transitionrun"),KT=da("transitionstart"),$T=da("transitioncancel"),Qp=da("transitionend"),Xp=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function Gi(t,i){Xp.set(t,i),rr(i,[t])}var Sc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},_i=[],ll=0,kh=0;function Tc(){for(var t=ll,i=kh=ll=0;i<t;){var l=_i[i];_i[i++]=null;var c=_i[i];_i[i++]=null;var y=_i[i];_i[i++]=null;var v=_i[i];if(_i[i++]=null,c!==null&&y!==null){var D=c.pending;D===null?y.next=y:(y.next=D.next,D.next=y),c.pending=y}v!==0&&Kp(l,y,v)}}function Ec(t,i,l,c){_i[ll++]=t,_i[ll++]=i,_i[ll++]=l,_i[ll++]=c,kh|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Lh(t,i,l,c){return Ec(t,i,l,c),bc(t)}function ma(t,i){return Ec(t,null,null,i),bc(t)}function Kp(t,i,l){t.lanes|=l;var c=t.alternate;c!==null&&(c.lanes|=l);for(var y=!1,v=t.return;v!==null;)v.childLanes|=l,c=v.alternate,c!==null&&(c.childLanes|=l),v.tag===22&&(t=v.stateNode,t===null||t._visibility&1||(y=!0)),t=v,v=v.return;return t.tag===3?(v=t.stateNode,y&&i!==null&&(y=31-Bt(l),t=v.hiddenUpdates,c=t[y],c===null?t[y]=[i]:c.push(i),i.lane=l|536870912),v):null}function bc(t){if(50<Zo)throw Zo=0,Yd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ol={};function WT(t,i,l,c){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(t,i,l,c){return new WT(t,i,l,c)}function jh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vr(t,i){var l=t.alternate;return l===null?(l=ti(t.tag,i,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=i,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,i=t.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function $p(t,i){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,i=l.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ac(t,i,l,c,y,v){var D=0;if(c=t,typeof t=="function")jh(t)&&(D=1);else if(typeof t=="string")D=n2(t,l,J.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=ti(31,l,i,y),t.elementType=C,t.lanes=v,t;case S:return ga(l.children,y,v,i);case E:D=8,y|=24;break;case V:return t=ti(12,l,i,y|2),t.elementType=V,t.lanes=v,t;case N:return t=ti(13,l,i,y),t.elementType=N,t.lanes=v,t;case j:return t=ti(19,l,i,y),t.elementType=j,t.lanes=v,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z:D=10;break e;case L:D=9;break e;case U:D=11;break e;case R:D=14;break e;case b:D=16,c=null;break e}D=29,l=Error(r(130,t===null?"null":typeof t,"")),c=null}return i=ti(D,l,i,y),i.elementType=t,i.type=c,i.lanes=v,i}function ga(t,i,l,c){return t=ti(7,t,c,i),t.lanes=l,t}function zh(t,i,l){return t=ti(6,t,null,i),t.lanes=l,t}function Wp(t){var i=ti(18,null,null,0);return i.stateNode=t,i}function Bh(t,i,l){return i=ti(4,t.children!==null?t.children:[],t.key,i),i.lanes=l,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Zp=new WeakMap;function xi(t,i){if(typeof t=="object"&&t!==null){var l=Zp.get(t);return l!==void 0?l:(i={value:t,source:i,stack:pe(i)},Zp.set(t,i),i)}return{value:t,source:i,stack:pe(i)}}var ul=[],cl=0,wc=null,No=0,Si=[],Ti=0,hs=null,dr=1,mr="";function Pr(t,i){ul[cl++]=No,ul[cl++]=wc,wc=t,No=i}function Jp(t,i,l){Si[Ti++]=dr,Si[Ti++]=mr,Si[Ti++]=hs,hs=t;var c=dr;t=mr;var y=32-Bt(c)-1;c&=~(1<<y),l+=1;var v=32-Bt(i)+y;if(30<v){var D=y-y%5;v=(c&(1<<D)-1).toString(32),c>>=D,y-=D,dr=1<<32-Bt(i)+y|l<<y|c,mr=v+t}else dr=1<<v|l<<y|c,mr=t}function Uh(t){t.return!==null&&(Pr(t,1),Jp(t,1,0))}function Fh(t){for(;t===wc;)wc=ul[--cl],ul[cl]=null,No=ul[--cl],ul[cl]=null;for(;t===hs;)hs=Si[--Ti],Si[Ti]=null,mr=Si[--Ti],Si[Ti]=null,dr=Si[--Ti],Si[Ti]=null}function e0(t,i){Si[Ti++]=dr,Si[Ti++]=mr,Si[Ti++]=hs,dr=i.id,mr=i.overflow,hs=t}var _n=null,bt=null,Je=!1,ds=null,Ei=!1,Hh=Error(r(519));function ms(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Io(xi(i,t)),Hh}function t0(t){var i=t.stateNode,l=t.type,c=t.memoizedProps;switch(i[Kt]=t,i[fn]=c,l){case"dialog":Qe("cancel",i),Qe("close",i);break;case"iframe":case"object":case"embed":Qe("load",i);break;case"video":case"audio":for(l=0;l<eu.length;l++)Qe(eu[l],i);break;case"source":Qe("error",i);break;case"img":case"image":case"link":Qe("error",i),Qe("load",i);break;case"details":Qe("toggle",i);break;case"input":Qe("invalid",i),sc(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Qe("invalid",i);break;case"textarea":Qe("invalid",i),ss(i,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||c.suppressHydrationWarning===!0||vv(i.textContent,l)?(c.popover!=null&&(Qe("beforetoggle",i),Qe("toggle",i)),c.onScroll!=null&&Qe("scroll",i),c.onScrollEnd!=null&&Qe("scrollend",i),c.onClick!=null&&(i.onclick=Bi),i=!0):i=!1,i||ms(t,!0)}function n0(t){for(_n=t.return;_n;)switch(_n.tag){case 5:case 31:case 13:Ei=!1;return;case 27:case 3:Ei=!0;return;default:_n=_n.return}}function fl(t){if(t!==_n)return!1;if(!Je)return n0(t),Je=!0,!1;var i=t.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||lm(t.type,t.memoizedProps)),l=!l),l&&bt&&ms(t),n0(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));bt=Rv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));bt=Rv(t)}else i===27?(i=bt,Cs(t.type)?(t=hm,hm=null,bt=t):bt=i):bt=_n?Ai(t.stateNode.nextSibling):null;return!0}function pa(){bt=_n=null,Je=!1}function qh(){var t=ds;return t!==null&&(qn===null?qn=t:qn.push.apply(qn,t),ds=null),t}function Io(t){ds===null?ds=[t]:ds.push(t)}var Gh=Y(null),ya=null,kr=null;function gs(t,i,l){$(Gh,i._currentValue),i._currentValue=l}function Lr(t){t._currentValue=Gh.current,H(Gh)}function Yh(t,i,l){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===l)break;t=t.return}}function Qh(t,i,l,c){var y=t.child;for(y!==null&&(y.return=t);y!==null;){var v=y.dependencies;if(v!==null){var D=y.child;v=v.firstContext;e:for(;v!==null;){var B=v;v=y;for(var Q=0;Q<i.length;Q++)if(B.context===i[Q]){v.lanes|=l,B=v.alternate,B!==null&&(B.lanes|=l),Yh(v.return,l,t),c||(D=null);break e}v=B.next}}else if(y.tag===18){if(D=y.return,D===null)throw Error(r(341));D.lanes|=l,v=D.alternate,v!==null&&(v.lanes|=l),Yh(D,l,t),D=null}else D=y.child;if(D!==null)D.return=y;else for(D=y;D!==null;){if(D===t){D=null;break}if(y=D.sibling,y!==null){y.return=D.return,D=y;break}D=D.return}y=D}}function hl(t,i,l,c){t=null;for(var y=i,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var D=y.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var B=y.type;ei(y.pendingProps.value,D.value)||(t!==null?t.push(B):t=[B])}}else if(y===xe.current){if(D=y.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(t!==null?t.push(su):t=[su])}y=y.return}t!==null&&Qh(i,t,l,c),i.flags|=262144}function Rc(t){for(t=t.firstContext;t!==null;){if(!ei(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function va(t){ya=t,kr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function xn(t){return i0(ya,t)}function Cc(t,i){return ya===null&&va(t),i0(t,i)}function i0(t,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},kr===null){if(t===null)throw Error(r(308));kr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else kr=kr.next=i;return l}var ZT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(l,c){t.push(c)}};this.abort=function(){i.aborted=!0,t.forEach(function(l){return l()})}},JT=o.unstable_scheduleCallback,eE=o.unstable_NormalPriority,Zt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xh(){return{controller:new ZT,data:new Map,refCount:0}}function Oo(t){t.refCount--,t.refCount===0&&JT(eE,function(){t.controller.abort()})}var Vo=null,Kh=0,dl=0,ml=null;function tE(t,i){if(Vo===null){var l=Vo=[];Kh=0,dl=Zd(),ml={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Kh++,i.then(r0,r0),i}function r0(){if(--Kh===0&&Vo!==null){ml!==null&&(ml.status="fulfilled");var t=Vo;Vo=null,dl=0,ml=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function nE(t,i){var l=[],c={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return t.then(function(){c.status="fulfilled",c.value=i;for(var y=0;y<l.length;y++)(0,l[y])(i)},function(y){for(c.status="rejected",c.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),c}var s0=q.S;q.S=function(t,i){Fy=Te(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&tE(t,i),s0!==null&&s0(t,i)};var _a=Y(null);function $h(){var t=_a.current;return t!==null?t:xt.pooledCache}function Mc(t,i){i===null?$(_a,_a.current):$(_a,i.pool)}function a0(){var t=$h();return t===null?null:{parent:Zt._currentValue,pool:t}}var gl=Error(r(460)),Wh=Error(r(474)),Dc=Error(r(542)),Nc={then:function(){}};function l0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function o0(t,i,l){switch(l=t[l],l===void 0?t.push(i):l!==i&&(i.then(Bi,Bi),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,c0(t),t;default:if(typeof i.status=="string")i.then(Bi,Bi);else{if(t=xt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(c){if(i.status==="pending"){var y=i;y.status="fulfilled",y.value=c}},function(c){if(i.status==="pending"){var y=i;y.status="rejected",y.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,c0(t),t}throw Sa=i,gl}}function xa(t){try{var i=t._init;return i(t._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Sa=l,gl):l}}var Sa=null;function u0(){if(Sa===null)throw Error(r(459));var t=Sa;return Sa=null,t}function c0(t){if(t===gl||t===Dc)throw Error(r(483))}var pl=null,Po=0;function Ic(t){var i=Po;return Po+=1,pl===null&&(pl=[]),o0(pl,t,i)}function ko(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Oc(t,i){throw i.$$typeof===x?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function f0(t){function i(Z,X){if(t){var ie=Z.deletions;ie===null?(Z.deletions=[X],Z.flags|=16):ie.push(X)}}function l(Z,X){if(!t)return null;for(;X!==null;)i(Z,X),X=X.sibling;return null}function c(Z){for(var X=new Map;Z!==null;)Z.key!==null?X.set(Z.key,Z):X.set(Z.index,Z),Z=Z.sibling;return X}function y(Z,X){return Z=Vr(Z,X),Z.index=0,Z.sibling=null,Z}function v(Z,X,ie){return Z.index=ie,t?(ie=Z.alternate,ie!==null?(ie=ie.index,ie<X?(Z.flags|=67108866,X):ie):(Z.flags|=67108866,X)):(Z.flags|=1048576,X)}function D(Z){return t&&Z.alternate===null&&(Z.flags|=67108866),Z}function B(Z,X,ie,fe){return X===null||X.tag!==6?(X=zh(ie,Z.mode,fe),X.return=Z,X):(X=y(X,ie),X.return=Z,X)}function Q(Z,X,ie,fe){var Ne=ie.type;return Ne===S?ue(Z,X,ie.props.children,fe,ie.key):X!==null&&(X.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===b&&xa(Ne)===X.type)?(X=y(X,ie.props),ko(X,ie),X.return=Z,X):(X=Ac(ie.type,ie.key,ie.props,null,Z.mode,fe),ko(X,ie),X.return=Z,X)}function re(Z,X,ie,fe){return X===null||X.tag!==4||X.stateNode.containerInfo!==ie.containerInfo||X.stateNode.implementation!==ie.implementation?(X=Bh(ie,Z.mode,fe),X.return=Z,X):(X=y(X,ie.children||[]),X.return=Z,X)}function ue(Z,X,ie,fe,Ne){return X===null||X.tag!==7?(X=ga(ie,Z.mode,fe,Ne),X.return=Z,X):(X=y(X,ie),X.return=Z,X)}function de(Z,X,ie){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=zh(""+X,Z.mode,ie),X.return=Z,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case p:return ie=Ac(X.type,X.key,X.props,null,Z.mode,ie),ko(ie,X),ie.return=Z,ie;case T:return X=Bh(X,Z.mode,ie),X.return=Z,X;case b:return X=xa(X),de(Z,X,ie)}if(te(X)||I(X))return X=ga(X,Z.mode,ie,null),X.return=Z,X;if(typeof X.then=="function")return de(Z,Ic(X),ie);if(X.$$typeof===z)return de(Z,Cc(Z,X),ie);Oc(Z,X)}return null}function se(Z,X,ie,fe){var Ne=X!==null?X.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Ne!==null?null:B(Z,X,""+ie,fe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case p:return ie.key===Ne?Q(Z,X,ie,fe):null;case T:return ie.key===Ne?re(Z,X,ie,fe):null;case b:return ie=xa(ie),se(Z,X,ie,fe)}if(te(ie)||I(ie))return Ne!==null?null:ue(Z,X,ie,fe,null);if(typeof ie.then=="function")return se(Z,X,Ic(ie),fe);if(ie.$$typeof===z)return se(Z,X,Cc(Z,ie),fe);Oc(Z,ie)}return null}function oe(Z,X,ie,fe,Ne){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Z=Z.get(ie)||null,B(X,Z,""+fe,Ne);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case p:return Z=Z.get(fe.key===null?ie:fe.key)||null,Q(X,Z,fe,Ne);case T:return Z=Z.get(fe.key===null?ie:fe.key)||null,re(X,Z,fe,Ne);case b:return fe=xa(fe),oe(Z,X,ie,fe,Ne)}if(te(fe)||I(fe))return Z=Z.get(ie)||null,ue(X,Z,fe,Ne,null);if(typeof fe.then=="function")return oe(Z,X,ie,Ic(fe),Ne);if(fe.$$typeof===z)return oe(Z,X,ie,Cc(X,fe),Ne);Oc(X,fe)}return null}function Ae(Z,X,ie,fe){for(var Ne=null,st=null,Re=X,qe=X=0,Ke=null;Re!==null&&qe<ie.length;qe++){Re.index>qe?(Ke=Re,Re=null):Ke=Re.sibling;var at=se(Z,Re,ie[qe],fe);if(at===null){Re===null&&(Re=Ke);break}t&&Re&&at.alternate===null&&i(Z,Re),X=v(at,X,qe),st===null?Ne=at:st.sibling=at,st=at,Re=Ke}if(qe===ie.length)return l(Z,Re),Je&&Pr(Z,qe),Ne;if(Re===null){for(;qe<ie.length;qe++)Re=de(Z,ie[qe],fe),Re!==null&&(X=v(Re,X,qe),st===null?Ne=Re:st.sibling=Re,st=Re);return Je&&Pr(Z,qe),Ne}for(Re=c(Re);qe<ie.length;qe++)Ke=oe(Re,Z,qe,ie[qe],fe),Ke!==null&&(t&&Ke.alternate!==null&&Re.delete(Ke.key===null?qe:Ke.key),X=v(Ke,X,qe),st===null?Ne=Ke:st.sibling=Ke,st=Ke);return t&&Re.forEach(function(Os){return i(Z,Os)}),Je&&Pr(Z,qe),Ne}function Ve(Z,X,ie,fe){if(ie==null)throw Error(r(151));for(var Ne=null,st=null,Re=X,qe=X=0,Ke=null,at=ie.next();Re!==null&&!at.done;qe++,at=ie.next()){Re.index>qe?(Ke=Re,Re=null):Ke=Re.sibling;var Os=se(Z,Re,at.value,fe);if(Os===null){Re===null&&(Re=Ke);break}t&&Re&&Os.alternate===null&&i(Z,Re),X=v(Os,X,qe),st===null?Ne=Os:st.sibling=Os,st=Os,Re=Ke}if(at.done)return l(Z,Re),Je&&Pr(Z,qe),Ne;if(Re===null){for(;!at.done;qe++,at=ie.next())at=de(Z,at.value,fe),at!==null&&(X=v(at,X,qe),st===null?Ne=at:st.sibling=at,st=at);return Je&&Pr(Z,qe),Ne}for(Re=c(Re);!at.done;qe++,at=ie.next())at=oe(Re,Z,qe,at.value,fe),at!==null&&(t&&at.alternate!==null&&Re.delete(at.key===null?qe:at.key),X=v(at,X,qe),st===null?Ne=at:st.sibling=at,st=at);return t&&Re.forEach(function(d2){return i(Z,d2)}),Je&&Pr(Z,qe),Ne}function vt(Z,X,ie,fe){if(typeof ie=="object"&&ie!==null&&ie.type===S&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case p:e:{for(var Ne=ie.key;X!==null;){if(X.key===Ne){if(Ne=ie.type,Ne===S){if(X.tag===7){l(Z,X.sibling),fe=y(X,ie.props.children),fe.return=Z,Z=fe;break e}}else if(X.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===b&&xa(Ne)===X.type){l(Z,X.sibling),fe=y(X,ie.props),ko(fe,ie),fe.return=Z,Z=fe;break e}l(Z,X);break}else i(Z,X);X=X.sibling}ie.type===S?(fe=ga(ie.props.children,Z.mode,fe,ie.key),fe.return=Z,Z=fe):(fe=Ac(ie.type,ie.key,ie.props,null,Z.mode,fe),ko(fe,ie),fe.return=Z,Z=fe)}return D(Z);case T:e:{for(Ne=ie.key;X!==null;){if(X.key===Ne)if(X.tag===4&&X.stateNode.containerInfo===ie.containerInfo&&X.stateNode.implementation===ie.implementation){l(Z,X.sibling),fe=y(X,ie.children||[]),fe.return=Z,Z=fe;break e}else{l(Z,X);break}else i(Z,X);X=X.sibling}fe=Bh(ie,Z.mode,fe),fe.return=Z,Z=fe}return D(Z);case b:return ie=xa(ie),vt(Z,X,ie,fe)}if(te(ie))return Ae(Z,X,ie,fe);if(I(ie)){if(Ne=I(ie),typeof Ne!="function")throw Error(r(150));return ie=Ne.call(ie),Ve(Z,X,ie,fe)}if(typeof ie.then=="function")return vt(Z,X,Ic(ie),fe);if(ie.$$typeof===z)return vt(Z,X,Cc(Z,ie),fe);Oc(Z,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,X!==null&&X.tag===6?(l(Z,X.sibling),fe=y(X,ie),fe.return=Z,Z=fe):(l(Z,X),fe=zh(ie,Z.mode,fe),fe.return=Z,Z=fe),D(Z)):l(Z,X)}return function(Z,X,ie,fe){try{Po=0;var Ne=vt(Z,X,ie,fe);return pl=null,Ne}catch(Re){if(Re===gl||Re===Dc)throw Re;var st=ti(29,Re,null,Z.mode);return st.lanes=fe,st.return=Z,st}finally{}}}var Ta=f0(!0),h0=f0(!1),ps=!1;function Zh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jh(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ys(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function vs(t,i,l){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(ot&2)!==0){var y=c.pending;return y===null?i.next=i:(i.next=y.next,y.next=i),c.pending=i,i=bc(t),Kp(t,null,l),i}return Ec(t,c,i,l),bc(t)}function Lo(t,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var c=i.lanes;c&=t.pendingLanes,l|=c,i.lanes=l,uo(t,l)}}function ed(t,i){var l=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var y=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var D={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?y=v=D:v=v.next=D,l=l.next}while(l!==null);v===null?y=v=i:v=v.next=i}else y=v=i;l={baseState:c.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=i:t.next=i,l.lastBaseUpdate=i}var td=!1;function jo(){if(td){var t=ml;if(t!==null)throw t}}function zo(t,i,l,c){td=!1;var y=t.updateQueue;ps=!1;var v=y.firstBaseUpdate,D=y.lastBaseUpdate,B=y.shared.pending;if(B!==null){y.shared.pending=null;var Q=B,re=Q.next;Q.next=null,D===null?v=re:D.next=re,D=Q;var ue=t.alternate;ue!==null&&(ue=ue.updateQueue,B=ue.lastBaseUpdate,B!==D&&(B===null?ue.firstBaseUpdate=re:B.next=re,ue.lastBaseUpdate=Q))}if(v!==null){var de=y.baseState;D=0,ue=re=Q=null,B=v;do{var se=B.lane&-536870913,oe=se!==B.lane;if(oe?(Xe&se)===se:(c&se)===se){se!==0&&se===dl&&(td=!0),ue!==null&&(ue=ue.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var Ae=t,Ve=B;se=i;var vt=l;switch(Ve.tag){case 1:if(Ae=Ve.payload,typeof Ae=="function"){de=Ae.call(vt,de,se);break e}de=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ve.payload,se=typeof Ae=="function"?Ae.call(vt,de,se):Ae,se==null)break e;de=_({},de,se);break e;case 2:ps=!0}}se=B.callback,se!==null&&(t.flags|=64,oe&&(t.flags|=8192),oe=y.callbacks,oe===null?y.callbacks=[se]:oe.push(se))}else oe={lane:se,tag:B.tag,payload:B.payload,callback:B.callback,next:null},ue===null?(re=ue=oe,Q=de):ue=ue.next=oe,D|=se;if(B=B.next,B===null){if(B=y.shared.pending,B===null)break;oe=B,B=oe.next,oe.next=null,y.lastBaseUpdate=oe,y.shared.pending=null}}while(!0);ue===null&&(Q=de),y.baseState=Q,y.firstBaseUpdate=re,y.lastBaseUpdate=ue,v===null&&(y.shared.lanes=0),Es|=D,t.lanes=D,t.memoizedState=de}}function d0(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function m0(t,i){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)d0(l[t],i)}var yl=Y(null),Vc=Y(0);function g0(t,i){t=Yr,$(Vc,t),$(yl,i),Yr=t|i.baseLanes}function nd(){$(Vc,Yr),$(yl,yl.current)}function id(){Yr=Vc.current,H(yl),H(Vc)}var ni=Y(null),bi=null;function _s(t){var i=t.alternate;$(Ft,Ft.current&1),$(ni,t),bi===null&&(i===null||yl.current!==null||i.memoizedState!==null)&&(bi=t)}function rd(t){$(Ft,Ft.current),$(ni,t),bi===null&&(bi=t)}function p0(t){t.tag===22?($(Ft,Ft.current),$(ni,t),bi===null&&(bi=t)):xs()}function xs(){$(Ft,Ft.current),$(ni,ni.current)}function ii(t){H(ni),bi===t&&(bi=null),H(Ft)}var Ft=Y(0);function Pc(t){for(var i=t;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||cm(l)||fm(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var jr=0,He=null,pt=null,Jt=null,kc=!1,vl=!1,Ea=!1,Lc=0,Bo=0,_l=null,iE=0;function Lt(){throw Error(r(321))}function sd(t,i){if(i===null)return!1;for(var l=0;l<i.length&&l<t.length;l++)if(!ei(t[l],i[l]))return!1;return!0}function ad(t,i,l,c,y,v){return jr=v,He=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=t===null||t.memoizedState===null?J0:Sd,Ea=!1,v=l(c,y),Ea=!1,vl&&(v=v0(i,l,c,y)),y0(t),v}function y0(t){q.H=Ho;var i=pt!==null&&pt.next!==null;if(jr=0,Jt=pt=He=null,kc=!1,Bo=0,_l=null,i)throw Error(r(300));t===null||en||(t=t.dependencies,t!==null&&Rc(t)&&(en=!0))}function v0(t,i,l,c){He=t;var y=0;do{if(vl&&(_l=null),Bo=0,vl=!1,25<=y)throw Error(r(301));if(y+=1,Jt=pt=null,t.updateQueue!=null){var v=t.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}q.H=ey,v=i(l,c)}while(vl);return v}function rE(){var t=q.H,i=t.useState()[0];return i=typeof i.then=="function"?Uo(i):i,t=t.useState()[0],(pt!==null?pt.memoizedState:null)!==t&&(He.flags|=1024),i}function ld(){var t=Lc!==0;return Lc=0,t}function od(t,i,l){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~l}function ud(t){if(kc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}kc=!1}jr=0,Jt=pt=He=null,vl=!1,Bo=Lc=0,_l=null}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?He.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function Ht(){if(pt===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var i=Jt===null?He.memoizedState:Jt.next;if(i!==null)Jt=i,pt=t;else{if(t===null)throw He.alternate===null?Error(r(467)):Error(r(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Jt===null?He.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uo(t){var i=Bo;return Bo+=1,_l===null&&(_l=[]),t=o0(_l,t,i),i=He,(Jt===null?i.memoizedState:Jt.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?J0:Sd),t}function zc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Uo(t);if(t.$$typeof===z)return xn(t)}throw Error(r(438,String(t)))}function cd(t){var i=null,l=He.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var c=He.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(y){return y.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=jc(),He.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(t),c=0;c<t;c++)l[c]=w;return i.index++,l}function zr(t,i){return typeof i=="function"?i(t):i}function Bc(t){var i=Ht();return fd(i,pt,t)}function fd(t,i,l){var c=t.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var y=t.baseQueue,v=c.pending;if(v!==null){if(y!==null){var D=y.next;y.next=v.next,v.next=D}i.baseQueue=y=v,c.pending=null}if(v=t.baseState,y===null)t.memoizedState=v;else{i=y.next;var B=D=null,Q=null,re=i,ue=!1;do{var de=re.lane&-536870913;if(de!==re.lane?(Xe&de)===de:(jr&de)===de){var se=re.revertLane;if(se===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),de===dl&&(ue=!0);else if((jr&se)===se){re=re.next,se===dl&&(ue=!0);continue}else de={lane:0,revertLane:re.revertLane,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},Q===null?(B=Q=de,D=v):Q=Q.next=de,He.lanes|=se,Es|=se;de=re.action,Ea&&l(v,de),v=re.hasEagerState?re.eagerState:l(v,de)}else se={lane:de,revertLane:re.revertLane,gesture:re.gesture,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},Q===null?(B=Q=se,D=v):Q=Q.next=se,He.lanes|=de,Es|=de;re=re.next}while(re!==null&&re!==i);if(Q===null?D=v:Q.next=B,!ei(v,t.memoizedState)&&(en=!0,ue&&(l=ml,l!==null)))throw l;t.memoizedState=v,t.baseState=D,t.baseQueue=Q,c.lastRenderedState=v}return y===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function hd(t){var i=Ht(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=t;var c=l.dispatch,y=l.pending,v=i.memoizedState;if(y!==null){l.pending=null;var D=y=y.next;do v=t(v,D.action),D=D.next;while(D!==y);ei(v,i.memoizedState)||(en=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,c]}function _0(t,i,l){var c=He,y=Ht(),v=Je;if(v){if(l===void 0)throw Error(r(407));l=l()}else l=i();var D=!ei((pt||y).memoizedState,l);if(D&&(y.memoizedState=l,en=!0),y=y.queue,gd(T0.bind(null,c,y,t),[t]),y.getSnapshot!==i||D||Jt!==null&&Jt.memoizedState.tag&1){if(c.flags|=2048,xl(9,{destroy:void 0},S0.bind(null,c,y,l,i),null),xt===null)throw Error(r(349));v||(jr&127)!==0||x0(c,i,l)}return l}function x0(t,i,l){t.flags|=16384,t={getSnapshot:i,value:l},i=He.updateQueue,i===null?(i=jc(),He.updateQueue=i,i.stores=[t]):(l=i.stores,l===null?i.stores=[t]:l.push(t))}function S0(t,i,l,c){i.value=l,i.getSnapshot=c,E0(i)&&b0(t)}function T0(t,i,l){return l(function(){E0(i)&&b0(t)})}function E0(t){var i=t.getSnapshot;t=t.value;try{var l=i();return!ei(t,l)}catch{return!0}}function b0(t){var i=ma(t,2);i!==null&&Gn(i,t,2)}function dd(t){var i=Ln();if(typeof t=="function"){var l=t;if(t=l(),Ea){mi(!0);try{l()}finally{mi(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:t},i}function A0(t,i,l,c){return t.baseState=l,fd(t,pt,typeof c=="function"?c:zr)}function sE(t,i,l,c,y){if(Hc(t))throw Error(r(485));if(t=i.action,t!==null){var v={payload:y,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){v.listeners.push(D)}};q.T!==null?l(!0):v.isTransition=!1,c(v),l=i.pending,l===null?(v.next=i.pending=v,w0(i,v)):(v.next=l.next,i.pending=l.next=v)}}function w0(t,i){var l=i.action,c=i.payload,y=t.state;if(i.isTransition){var v=q.T,D={};q.T=D;try{var B=l(y,c),Q=q.S;Q!==null&&Q(D,B),R0(t,i,B)}catch(re){md(t,i,re)}finally{v!==null&&D.types!==null&&(v.types=D.types),q.T=v}}else try{v=l(y,c),R0(t,i,v)}catch(re){md(t,i,re)}}function R0(t,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){C0(t,i,c)},function(c){return md(t,i,c)}):C0(t,i,l)}function C0(t,i,l){i.status="fulfilled",i.value=l,M0(i),t.state=l,i=t.pending,i!==null&&(l=i.next,l===i?t.pending=null:(l=l.next,i.next=l,w0(t,l)))}function md(t,i,l){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=l,M0(i),i=i.next;while(i!==c)}t.action=null}function M0(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function D0(t,i){return i}function N0(t,i){if(Je){var l=xt.formState;if(l!==null){e:{var c=He;if(Je){if(bt){t:{for(var y=bt,v=Ei;y.nodeType!==8;){if(!v){y=null;break t}if(y=Ai(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){bt=Ai(y.nextSibling),c=y.data==="F!";break e}}ms(c)}c=!1}c&&(i=l[0])}}return l=Ln(),l.memoizedState=l.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:D0,lastRenderedState:i},l.queue=c,l=$0.bind(null,He,c),c.dispatch=l,c=dd(!1),v=xd.bind(null,He,!1,c.queue),c=Ln(),y={state:i,dispatch:null,action:t,pending:null},c.queue=y,l=sE.bind(null,He,y,v,l),y.dispatch=l,c.memoizedState=t,[i,l,!1]}function I0(t){var i=Ht();return O0(i,pt,t)}function O0(t,i,l){if(i=fd(t,i,D0)[0],t=Bc(zr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Uo(i)}catch(D){throw D===gl?Dc:D}else c=i;i=Ht();var y=i.queue,v=y.dispatch;return l!==i.memoizedState&&(He.flags|=2048,xl(9,{destroy:void 0},aE.bind(null,y,l),null)),[c,v,t]}function aE(t,i){t.action=i}function V0(t){var i=Ht(),l=pt;if(l!==null)return O0(i,l,t);Ht(),i=i.memoizedState,l=Ht();var c=l.queue.dispatch;return l.memoizedState=t,[i,c,!1]}function xl(t,i,l,c){return t={tag:t,create:l,deps:c,inst:i,next:null},i=He.updateQueue,i===null&&(i=jc(),He.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=t.next=t:(c=l.next,l.next=t,t.next=c,i.lastEffect=t),t}function P0(){return Ht().memoizedState}function Uc(t,i,l,c){var y=Ln();He.flags|=t,y.memoizedState=xl(1|i,{destroy:void 0},l,c===void 0?null:c)}function Fc(t,i,l,c){var y=Ht();c=c===void 0?null:c;var v=y.memoizedState.inst;pt!==null&&c!==null&&sd(c,pt.memoizedState.deps)?y.memoizedState=xl(i,v,l,c):(He.flags|=t,y.memoizedState=xl(1|i,v,l,c))}function k0(t,i){Uc(8390656,8,t,i)}function gd(t,i){Fc(2048,8,t,i)}function lE(t){He.flags|=4;var i=He.updateQueue;if(i===null)i=jc(),He.updateQueue=i,i.events=[t];else{var l=i.events;l===null?i.events=[t]:l.push(t)}}function L0(t){var i=Ht().memoizedState;return lE({ref:i,nextImpl:t}),function(){if((ot&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function j0(t,i){return Fc(4,2,t,i)}function z0(t,i){return Fc(4,4,t,i)}function B0(t,i){if(typeof i=="function"){t=t();var l=i(t);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function U0(t,i,l){l=l!=null?l.concat([t]):null,Fc(4,4,B0.bind(null,i,t),l)}function pd(){}function F0(t,i){var l=Ht();i=i===void 0?null:i;var c=l.memoizedState;return i!==null&&sd(i,c[1])?c[0]:(l.memoizedState=[t,i],t)}function H0(t,i){var l=Ht();i=i===void 0?null:i;var c=l.memoizedState;if(i!==null&&sd(i,c[1]))return c[0];if(c=t(),Ea){mi(!0);try{t()}finally{mi(!1)}}return l.memoizedState=[c,i],c}function yd(t,i,l){return l===void 0||(jr&1073741824)!==0&&(Xe&261930)===0?t.memoizedState=i:(t.memoizedState=l,t=qy(),He.lanes|=t,Es|=t,l)}function q0(t,i,l,c){return ei(l,i)?l:yl.current!==null?(t=yd(t,l,c),ei(t,i)||(en=!0),t):(jr&42)===0||(jr&1073741824)!==0&&(Xe&261930)===0?(en=!0,t.memoizedState=l):(t=qy(),He.lanes|=t,Es|=t,i)}function G0(t,i,l,c,y){var v=W.p;W.p=v!==0&&8>v?v:8;var D=q.T,B={};q.T=B,xd(t,!1,i,l);try{var Q=y(),re=q.S;if(re!==null&&re(B,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var ue=nE(Q,c);Fo(t,i,ue,ai(t))}else Fo(t,i,c,ai(t))}catch(de){Fo(t,i,{then:function(){},status:"rejected",reason:de},ai())}finally{W.p=v,D!==null&&B.types!==null&&(D.types=B.types),q.T=D}}function oE(){}function vd(t,i,l,c){if(t.tag!==5)throw Error(r(476));var y=Y0(t).queue;G0(t,y,i,ce,l===null?oE:function(){return Q0(t),l(c)})}function Y0(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:ce},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:l},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Q0(t){var i=Y0(t);i.next===null&&(i=t.alternate.memoizedState),Fo(t,i.next.queue,{},ai())}function _d(){return xn(su)}function X0(){return Ht().memoizedState}function K0(){return Ht().memoizedState}function uE(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var l=ai();t=ys(l);var c=vs(i,t,l);c!==null&&(Gn(c,i,l),Lo(c,i,l)),i={cache:Xh()},t.payload=i;return}i=i.return}}function cE(t,i,l){var c=ai();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hc(t)?W0(i,l):(l=Lh(t,i,l,c),l!==null&&(Gn(l,t,c),Z0(l,i,c)))}function $0(t,i,l){var c=ai();Fo(t,i,l,c)}function Fo(t,i,l,c){var y={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Hc(t))W0(i,y);else{var v=t.alternate;if(t.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var D=i.lastRenderedState,B=v(D,l);if(y.hasEagerState=!0,y.eagerState=B,ei(B,D))return Ec(t,i,y,0),xt===null&&Tc(),!1}catch{}finally{}if(l=Lh(t,i,y,c),l!==null)return Gn(l,t,c),Z0(l,i,c),!0}return!1}function xd(t,i,l,c){if(c={lane:2,revertLane:Zd(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Hc(t)){if(i)throw Error(r(479))}else i=Lh(t,l,c,2),i!==null&&Gn(i,t,2)}function Hc(t){var i=t.alternate;return t===He||i!==null&&i===He}function W0(t,i){vl=kc=!0;var l=t.pending;l===null?i.next=i:(i.next=l.next,l.next=i),t.pending=i}function Z0(t,i,l){if((l&4194048)!==0){var c=i.lanes;c&=t.pendingLanes,l|=c,i.lanes=l,uo(t,l)}}var Ho={readContext:xn,use:zc,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};Ho.useEffectEvent=Lt;var J0={readContext:xn,use:zc,useCallback:function(t,i){return Ln().memoizedState=[t,i===void 0?null:i],t},useContext:xn,useEffect:k0,useImperativeHandle:function(t,i,l){l=l!=null?l.concat([t]):null,Uc(4194308,4,B0.bind(null,i,t),l)},useLayoutEffect:function(t,i){return Uc(4194308,4,t,i)},useInsertionEffect:function(t,i){Uc(4,2,t,i)},useMemo:function(t,i){var l=Ln();i=i===void 0?null:i;var c=t();if(Ea){mi(!0);try{t()}finally{mi(!1)}}return l.memoizedState=[c,i],c},useReducer:function(t,i,l){var c=Ln();if(l!==void 0){var y=l(i);if(Ea){mi(!0);try{l(i)}finally{mi(!1)}}}else y=i;return c.memoizedState=c.baseState=y,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:y},c.queue=t,t=t.dispatch=cE.bind(null,He,t),[c.memoizedState,t]},useRef:function(t){var i=Ln();return t={current:t},i.memoizedState=t},useState:function(t){t=dd(t);var i=t.queue,l=$0.bind(null,He,i);return i.dispatch=l,[t.memoizedState,l]},useDebugValue:pd,useDeferredValue:function(t,i){var l=Ln();return yd(l,t,i)},useTransition:function(){var t=dd(!1);return t=G0.bind(null,He,t.queue,!0,!1),Ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,l){var c=He,y=Ln();if(Je){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),xt===null)throw Error(r(349));(Xe&127)!==0||x0(c,i,l)}y.memoizedState=l;var v={value:l,getSnapshot:i};return y.queue=v,k0(T0.bind(null,c,v,t),[t]),c.flags|=2048,xl(9,{destroy:void 0},S0.bind(null,c,v,l,i),null),l},useId:function(){var t=Ln(),i=xt.identifierPrefix;if(Je){var l=mr,c=dr;l=(c&~(1<<32-Bt(c)-1)).toString(32)+l,i="_"+i+"R_"+l,l=Lc++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=iE++,i="_"+i+"r_"+l.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:_d,useFormState:N0,useActionState:N0,useOptimistic:function(t){var i=Ln();i.memoizedState=i.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=xd.bind(null,He,!0,l),l.dispatch=i,[t,i]},useMemoCache:cd,useCacheRefresh:function(){return Ln().memoizedState=uE.bind(null,He)},useEffectEvent:function(t){var i=Ln(),l={impl:t};return i.memoizedState=l,function(){if((ot&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Sd={readContext:xn,use:zc,useCallback:F0,useContext:xn,useEffect:gd,useImperativeHandle:U0,useInsertionEffect:j0,useLayoutEffect:z0,useMemo:H0,useReducer:Bc,useRef:P0,useState:function(){return Bc(zr)},useDebugValue:pd,useDeferredValue:function(t,i){var l=Ht();return q0(l,pt.memoizedState,t,i)},useTransition:function(){var t=Bc(zr)[0],i=Ht().memoizedState;return[typeof t=="boolean"?t:Uo(t),i]},useSyncExternalStore:_0,useId:X0,useHostTransitionStatus:_d,useFormState:I0,useActionState:I0,useOptimistic:function(t,i){var l=Ht();return A0(l,pt,t,i)},useMemoCache:cd,useCacheRefresh:K0};Sd.useEffectEvent=L0;var ey={readContext:xn,use:zc,useCallback:F0,useContext:xn,useEffect:gd,useImperativeHandle:U0,useInsertionEffect:j0,useLayoutEffect:z0,useMemo:H0,useReducer:hd,useRef:P0,useState:function(){return hd(zr)},useDebugValue:pd,useDeferredValue:function(t,i){var l=Ht();return pt===null?yd(l,t,i):q0(l,pt.memoizedState,t,i)},useTransition:function(){var t=hd(zr)[0],i=Ht().memoizedState;return[typeof t=="boolean"?t:Uo(t),i]},useSyncExternalStore:_0,useId:X0,useHostTransitionStatus:_d,useFormState:V0,useActionState:V0,useOptimistic:function(t,i){var l=Ht();return pt!==null?A0(l,pt,t,i):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:cd,useCacheRefresh:K0};ey.useEffectEvent=L0;function Td(t,i,l,c){i=t.memoizedState,l=l(c,i),l=l==null?i:_({},i,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Ed={enqueueSetState:function(t,i,l){t=t._reactInternals;var c=ai(),y=ys(c);y.payload=i,l!=null&&(y.callback=l),i=vs(t,y,c),i!==null&&(Gn(i,t,c),Lo(i,t,c))},enqueueReplaceState:function(t,i,l){t=t._reactInternals;var c=ai(),y=ys(c);y.tag=1,y.payload=i,l!=null&&(y.callback=l),i=vs(t,y,c),i!==null&&(Gn(i,t,c),Lo(i,t,c))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var l=ai(),c=ys(l);c.tag=2,i!=null&&(c.callback=i),i=vs(t,c,l),i!==null&&(Gn(i,t,l),Lo(i,t,l))}};function ty(t,i,l,c,y,v,D){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,v,D):i.prototype&&i.prototype.isPureReactComponent?!Mo(l,c)||!Mo(y,v):!0}function ny(t,i,l,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,c),i.state!==t&&Ed.enqueueReplaceState(i,i.state,null)}function ba(t,i){var l=i;if("ref"in i){l={};for(var c in i)c!=="ref"&&(l[c]=i[c])}if(t=t.defaultProps){l===i&&(l=_({},l));for(var y in t)l[y]===void 0&&(l[y]=t[y])}return l}function iy(t){Sc(t)}function ry(t){console.error(t)}function sy(t){Sc(t)}function qc(t,i){try{var l=t.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function ay(t,i,l){try{var c=t.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function bd(t,i,l){return l=ys(l),l.tag=3,l.payload={element:null},l.callback=function(){qc(t,i)},l}function ly(t){return t=ys(t),t.tag=3,t}function oy(t,i,l,c){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var v=c.value;t.payload=function(){return y(v)},t.callback=function(){ay(i,l,c)}}var D=l.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(t.callback=function(){ay(i,l,c),typeof y!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var B=c.stack;this.componentDidCatch(c.value,{componentStack:B!==null?B:""})})}function fE(t,i,l,c,y){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=l.alternate,i!==null&&hl(i,l,y,!0),l=ni.current,l!==null){switch(l.tag){case 31:case 13:return bi===null?nf():l.alternate===null&&jt===0&&(jt=3),l.flags&=-257,l.flags|=65536,l.lanes=y,c===Nc?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([c]):i.add(c),Kd(t,c,y)),!1;case 22:return l.flags|=65536,c===Nc?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([c]):l.add(c)),Kd(t,c,y)),!1}throw Error(r(435,l.tag))}return Kd(t,c,y),nf(),!1}if(Je)return i=ni.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=y,c!==Hh&&(t=Error(r(422),{cause:c}),Io(xi(t,l)))):(c!==Hh&&(i=Error(r(423),{cause:c}),Io(xi(i,l))),t=t.current.alternate,t.flags|=65536,y&=-y,t.lanes|=y,c=xi(c,l),y=bd(t.stateNode,c,y),ed(t,y),jt!==4&&(jt=2)),!1;var v=Error(r(520),{cause:c});if(v=xi(v,l),Wo===null?Wo=[v]:Wo.push(v),jt!==4&&(jt=2),i===null)return!0;c=xi(c,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,t=y&-y,l.lanes|=t,t=bd(l.stateNode,c,t),ed(l,t),!1;case 1:if(i=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(bs===null||!bs.has(v))))return l.flags|=65536,y&=-y,l.lanes|=y,y=ly(y),oy(y,t,l,c),ed(l,y),!1}l=l.return}while(l!==null);return!1}var Ad=Error(r(461)),en=!1;function Sn(t,i,l,c){i.child=t===null?h0(i,null,l,c):Ta(i,t.child,l,c)}function uy(t,i,l,c,y){l=l.render;var v=i.ref;if("ref"in c){var D={};for(var B in c)B!=="ref"&&(D[B]=c[B])}else D=c;return va(i),c=ad(t,i,l,D,v,y),B=ld(),t!==null&&!en?(od(t,i,y),Br(t,i,y)):(Je&&B&&Uh(i),i.flags|=1,Sn(t,i,c,y),i.child)}function cy(t,i,l,c,y){if(t===null){var v=l.type;return typeof v=="function"&&!jh(v)&&v.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=v,fy(t,i,v,c,y)):(t=Ac(l.type,null,c,i,i.mode,y),t.ref=i.ref,t.return=i,i.child=t)}if(v=t.child,!Od(t,y)){var D=v.memoizedProps;if(l=l.compare,l=l!==null?l:Mo,l(D,c)&&t.ref===i.ref)return Br(t,i,y)}return i.flags|=1,t=Vr(v,c),t.ref=i.ref,t.return=i,i.child=t}function fy(t,i,l,c,y){if(t!==null){var v=t.memoizedProps;if(Mo(v,c)&&t.ref===i.ref)if(en=!1,i.pendingProps=c=v,Od(t,y))(t.flags&131072)!==0&&(en=!0);else return i.lanes=t.lanes,Br(t,i,y)}return wd(t,i,l,c,y)}function hy(t,i,l,c){var y=c.children,v=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(v=v!==null?v.baseLanes|l:l,t!==null){for(c=i.child=t.child,y=0;c!==null;)y=y|c.lanes|c.childLanes,c=c.sibling;c=y&~v}else c=0,i.child=null;return dy(t,i,v,l,c)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Mc(i,v!==null?v.cachePool:null),v!==null?g0(i,v):nd(),p0(i);else return c=i.lanes=536870912,dy(t,i,v!==null?v.baseLanes|l:l,l,c)}else v!==null?(Mc(i,v.cachePool),g0(i,v),xs(),i.memoizedState=null):(t!==null&&Mc(i,null),nd(),xs());return Sn(t,i,y,l),i.child}function qo(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function dy(t,i,l,c,y){var v=$h();return v=v===null?null:{parent:Zt._currentValue,pool:v},i.memoizedState={baseLanes:l,cachePool:v},t!==null&&Mc(i,null),nd(),p0(i),t!==null&&hl(t,i,c,!0),i.childLanes=y,null}function Gc(t,i){return i=Qc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function my(t,i,l){return Ta(i,t.child,null,l),t=Gc(i,i.pendingProps),t.flags|=2,ii(i),i.memoizedState=null,t}function hE(t,i,l){var c=i.pendingProps,y=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Je){if(c.mode==="hidden")return t=Gc(i,c),i.lanes=536870912,qo(null,t);if(rd(i),(t=bt)?(t=wv(t,Ei),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:hs!==null?{id:dr,overflow:mr}:null,retryLane:536870912,hydrationErrors:null},l=Wp(t),l.return=i,i.child=l,_n=i,bt=null)):t=null,t===null)throw ms(i);return i.lanes=536870912,null}return Gc(i,c)}var v=t.memoizedState;if(v!==null){var D=v.dehydrated;if(rd(i),y)if(i.flags&256)i.flags&=-257,i=my(t,i,l);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(en||hl(t,i,l,!1),y=(l&t.childLanes)!==0,en||y){if(c=xt,c!==null&&(D=co(c,l),D!==0&&D!==v.retryLane))throw v.retryLane=D,ma(t,D),Gn(c,t,D),Ad;nf(),i=my(t,i,l)}else t=v.treeContext,bt=Ai(D.nextSibling),_n=i,Je=!0,ds=null,Ei=!1,t!==null&&e0(i,t),i=Gc(i,c),i.flags|=4096;return i}return t=Vr(t.child,{mode:c.mode,children:c.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Yc(t,i){var l=i.ref;if(l===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(t===null||t.ref!==l)&&(i.flags|=4194816)}}function wd(t,i,l,c,y){return va(i),l=ad(t,i,l,c,void 0,y),c=ld(),t!==null&&!en?(od(t,i,y),Br(t,i,y)):(Je&&c&&Uh(i),i.flags|=1,Sn(t,i,l,y),i.child)}function gy(t,i,l,c,y,v){return va(i),i.updateQueue=null,l=v0(i,c,l,y),y0(t),c=ld(),t!==null&&!en?(od(t,i,v),Br(t,i,v)):(Je&&c&&Uh(i),i.flags|=1,Sn(t,i,l,v),i.child)}function py(t,i,l,c,y){if(va(i),i.stateNode===null){var v=ol,D=l.contextType;typeof D=="object"&&D!==null&&(v=xn(D)),v=new l(c,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Ed,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=c,v.state=i.memoizedState,v.refs={},Zh(i),D=l.contextType,v.context=typeof D=="object"&&D!==null?xn(D):ol,v.state=i.memoizedState,D=l.getDerivedStateFromProps,typeof D=="function"&&(Td(i,l,D,c),v.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(D=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),D!==v.state&&Ed.enqueueReplaceState(v,v.state,null),zo(i,c,v,y),jo(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(t===null){v=i.stateNode;var B=i.memoizedProps,Q=ba(l,B);v.props=Q;var re=v.context,ue=l.contextType;D=ol,typeof ue=="object"&&ue!==null&&(D=xn(ue));var de=l.getDerivedStateFromProps;ue=typeof de=="function"||typeof v.getSnapshotBeforeUpdate=="function",B=i.pendingProps!==B,ue||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(B||re!==D)&&ny(i,v,c,D),ps=!1;var se=i.memoizedState;v.state=se,zo(i,c,v,y),jo(),re=i.memoizedState,B||se!==re||ps?(typeof de=="function"&&(Td(i,l,de,c),re=i.memoizedState),(Q=ps||ty(i,l,Q,c,se,re,D))?(ue||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=re),v.props=c,v.state=re,v.context=D,c=Q):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,Jh(t,i),D=i.memoizedProps,ue=ba(l,D),v.props=ue,de=i.pendingProps,se=v.context,re=l.contextType,Q=ol,typeof re=="object"&&re!==null&&(Q=xn(re)),B=l.getDerivedStateFromProps,(re=typeof B=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(D!==de||se!==Q)&&ny(i,v,c,Q),ps=!1,se=i.memoizedState,v.state=se,zo(i,c,v,y),jo();var oe=i.memoizedState;D!==de||se!==oe||ps||t!==null&&t.dependencies!==null&&Rc(t.dependencies)?(typeof B=="function"&&(Td(i,l,B,c),oe=i.memoizedState),(ue=ps||ty(i,l,ue,c,se,oe,Q)||t!==null&&t.dependencies!==null&&Rc(t.dependencies))?(re||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,oe,Q),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,oe,Q)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||D===t.memoizedProps&&se===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||D===t.memoizedProps&&se===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=oe),v.props=c,v.state=oe,v.context=Q,c=ue):(typeof v.componentDidUpdate!="function"||D===t.memoizedProps&&se===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||D===t.memoizedProps&&se===t.memoizedState||(i.flags|=1024),c=!1)}return v=c,Yc(t,i),c=(i.flags&128)!==0,v||c?(v=i.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,t!==null&&c?(i.child=Ta(i,t.child,null,y),i.child=Ta(i,null,l,y)):Sn(t,i,l,y),i.memoizedState=v.state,t=i.child):t=Br(t,i,y),t}function yy(t,i,l,c){return pa(),i.flags|=256,Sn(t,i,l,c),i.child}var Rd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cd(t){return{baseLanes:t,cachePool:a0()}}function Md(t,i,l){return t=t!==null?t.childLanes&~l:0,i&&(t|=si),t}function vy(t,i,l){var c=i.pendingProps,y=!1,v=(i.flags&128)!==0,D;if((D=v)||(D=t!==null&&t.memoizedState===null?!1:(Ft.current&2)!==0),D&&(y=!0,i.flags&=-129),D=(i.flags&32)!==0,i.flags&=-33,t===null){if(Je){if(y?_s(i):xs(),(t=bt)?(t=wv(t,Ei),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:hs!==null?{id:dr,overflow:mr}:null,retryLane:536870912,hydrationErrors:null},l=Wp(t),l.return=i,i.child=l,_n=i,bt=null)):t=null,t===null)throw ms(i);return fm(t)?i.lanes=32:i.lanes=536870912,null}var B=c.children;return c=c.fallback,y?(xs(),y=i.mode,B=Qc({mode:"hidden",children:B},y),c=ga(c,y,l,null),B.return=i,c.return=i,B.sibling=c,i.child=B,c=i.child,c.memoizedState=Cd(l),c.childLanes=Md(t,D,l),i.memoizedState=Rd,qo(null,c)):(_s(i),Dd(i,B))}var Q=t.memoizedState;if(Q!==null&&(B=Q.dehydrated,B!==null)){if(v)i.flags&256?(_s(i),i.flags&=-257,i=Nd(t,i,l)):i.memoizedState!==null?(xs(),i.child=t.child,i.flags|=128,i=null):(xs(),B=c.fallback,y=i.mode,c=Qc({mode:"visible",children:c.children},y),B=ga(B,y,l,null),B.flags|=2,c.return=i,B.return=i,c.sibling=B,i.child=c,Ta(i,t.child,null,l),c=i.child,c.memoizedState=Cd(l),c.childLanes=Md(t,D,l),i.memoizedState=Rd,i=qo(null,c));else if(_s(i),fm(B)){if(D=B.nextSibling&&B.nextSibling.dataset,D)var re=D.dgst;D=re,c=Error(r(419)),c.stack="",c.digest=D,Io({value:c,source:null,stack:null}),i=Nd(t,i,l)}else if(en||hl(t,i,l,!1),D=(l&t.childLanes)!==0,en||D){if(D=xt,D!==null&&(c=co(D,l),c!==0&&c!==Q.retryLane))throw Q.retryLane=c,ma(t,c),Gn(D,t,c),Ad;cm(B)||nf(),i=Nd(t,i,l)}else cm(B)?(i.flags|=192,i.child=t.child,i=null):(t=Q.treeContext,bt=Ai(B.nextSibling),_n=i,Je=!0,ds=null,Ei=!1,t!==null&&e0(i,t),i=Dd(i,c.children),i.flags|=4096);return i}return y?(xs(),B=c.fallback,y=i.mode,Q=t.child,re=Q.sibling,c=Vr(Q,{mode:"hidden",children:c.children}),c.subtreeFlags=Q.subtreeFlags&65011712,re!==null?B=Vr(re,B):(B=ga(B,y,l,null),B.flags|=2),B.return=i,c.return=i,c.sibling=B,i.child=c,qo(null,c),c=i.child,B=t.child.memoizedState,B===null?B=Cd(l):(y=B.cachePool,y!==null?(Q=Zt._currentValue,y=y.parent!==Q?{parent:Q,pool:Q}:y):y=a0(),B={baseLanes:B.baseLanes|l,cachePool:y}),c.memoizedState=B,c.childLanes=Md(t,D,l),i.memoizedState=Rd,qo(t.child,c)):(_s(i),l=t.child,t=l.sibling,l=Vr(l,{mode:"visible",children:c.children}),l.return=i,l.sibling=null,t!==null&&(D=i.deletions,D===null?(i.deletions=[t],i.flags|=16):D.push(t)),i.child=l,i.memoizedState=null,l)}function Dd(t,i){return i=Qc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Qc(t,i){return t=ti(22,t,null,i),t.lanes=0,t}function Nd(t,i,l){return Ta(i,t.child,null,l),t=Dd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function _y(t,i,l){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),Yh(t.return,i,l)}function Id(t,i,l,c,y,v){var D=t.memoizedState;D===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:y,treeForkCount:v}:(D.isBackwards=i,D.rendering=null,D.renderingStartTime=0,D.last=c,D.tail=l,D.tailMode=y,D.treeForkCount=v)}function xy(t,i,l){var c=i.pendingProps,y=c.revealOrder,v=c.tail;c=c.children;var D=Ft.current,B=(D&2)!==0;if(B?(D=D&1|2,i.flags|=128):D&=1,$(Ft,D),Sn(t,i,c,l),c=Je?No:0,!B&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_y(t,l,i);else if(t.tag===19)_y(t,l,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(y){case"forwards":for(l=i.child,y=null;l!==null;)t=l.alternate,t!==null&&Pc(t)===null&&(y=l),l=l.sibling;l=y,l===null?(y=i.child,i.child=null):(y=l.sibling,l.sibling=null),Id(i,!1,y,l,v,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=i.child,i.child=null;y!==null;){if(t=y.alternate,t!==null&&Pc(t)===null){i.child=y;break}t=y.sibling,y.sibling=l,l=y,y=t}Id(i,!0,l,null,v,c);break;case"together":Id(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Br(t,i,l){if(t!==null&&(i.dependencies=t.dependencies),Es|=i.lanes,(l&i.childLanes)===0)if(t!==null){if(hl(t,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,l=Vr(t,t.pendingProps),i.child=l,l.return=i;t.sibling!==null;)t=t.sibling,l=l.sibling=Vr(t,t.pendingProps),l.return=i;l.sibling=null}return i.child}function Od(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Rc(t)))}function dE(t,i,l){switch(i.tag){case 3:Me(i,i.stateNode.containerInfo),gs(i,Zt,t.memoizedState.cache),pa();break;case 27:case 5:Oe(i);break;case 4:Me(i,i.stateNode.containerInfo);break;case 10:gs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,rd(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(_s(i),i.flags|=128,null):(l&i.child.childLanes)!==0?vy(t,i,l):(_s(i),t=Br(t,i,l),t!==null?t.sibling:null);_s(i);break;case 19:var y=(t.flags&128)!==0;if(c=(l&i.childLanes)!==0,c||(hl(t,i,l,!1),c=(l&i.childLanes)!==0),y){if(c)return xy(t,i,l);i.flags|=128}if(y=i.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),$(Ft,Ft.current),c)break;return null;case 22:return i.lanes=0,hy(t,i,l,i.pendingProps);case 24:gs(i,Zt,t.memoizedState.cache)}return Br(t,i,l)}function Sy(t,i,l){if(t!==null)if(t.memoizedProps!==i.pendingProps)en=!0;else{if(!Od(t,l)&&(i.flags&128)===0)return en=!1,dE(t,i,l);en=(t.flags&131072)!==0}else en=!1,Je&&(i.flags&1048576)!==0&&Jp(i,No,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(t=xa(i.elementType),i.type=t,typeof t=="function")jh(t)?(c=ba(t,c),i.tag=1,i=py(null,i,t,c,l)):(i.tag=0,i=wd(null,i,t,c,l));else{if(t!=null){var y=t.$$typeof;if(y===U){i.tag=11,i=uy(null,i,t,c,l);break e}else if(y===R){i.tag=14,i=cy(null,i,t,c,l);break e}}throw i=ee(t)||t,Error(r(306,i,""))}}return i;case 0:return wd(t,i,i.type,i.pendingProps,l);case 1:return c=i.type,y=ba(c,i.pendingProps),py(t,i,c,y,l);case 3:e:{if(Me(i,i.stateNode.containerInfo),t===null)throw Error(r(387));c=i.pendingProps;var v=i.memoizedState;y=v.element,Jh(t,i),zo(i,c,null,l);var D=i.memoizedState;if(c=D.cache,gs(i,Zt,c),c!==v.cache&&Qh(i,[Zt],l,!0),jo(),c=D.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:D.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=yy(t,i,c,l);break e}else if(c!==y){y=xi(Error(r(424)),i),Io(y),i=yy(t,i,c,l);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(bt=Ai(t.firstChild),_n=i,Je=!0,ds=null,Ei=!0,l=h0(i,null,c,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(pa(),c===y){i=Br(t,i,l);break e}Sn(t,i,c,l)}i=i.child}return i;case 26:return Yc(t,i),t===null?(l=Iv(i.type,null,i.pendingProps,null))?i.memoizedState=l:Je||(l=i.type,t=i.pendingProps,c=cf(ge.current).createElement(l),c[Kt]=i,c[fn]=t,Tn(c,l,t),$t(c),i.stateNode=c):i.memoizedState=Iv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Oe(i),t===null&&Je&&(c=i.stateNode=Mv(i.type,i.pendingProps,ge.current),_n=i,Ei=!0,y=bt,Cs(i.type)?(hm=y,bt=Ai(c.firstChild)):bt=y),Sn(t,i,i.pendingProps.children,l),Yc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Je&&((y=c=bt)&&(c=HE(c,i.type,i.pendingProps,Ei),c!==null?(i.stateNode=c,_n=i,bt=Ai(c.firstChild),Ei=!1,y=!0):y=!1),y||ms(i)),Oe(i),y=i.type,v=i.pendingProps,D=t!==null?t.memoizedProps:null,c=v.children,lm(y,v)?c=null:D!==null&&lm(y,D)&&(i.flags|=32),i.memoizedState!==null&&(y=ad(t,i,rE,null,null,l),su._currentValue=y),Yc(t,i),Sn(t,i,c,l),i.child;case 6:return t===null&&Je&&((t=l=bt)&&(l=qE(l,i.pendingProps,Ei),l!==null?(i.stateNode=l,_n=i,bt=null,t=!0):t=!1),t||ms(i)),null;case 13:return vy(t,i,l);case 4:return Me(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=Ta(i,null,c,l):Sn(t,i,c,l),i.child;case 11:return uy(t,i,i.type,i.pendingProps,l);case 7:return Sn(t,i,i.pendingProps,l),i.child;case 8:return Sn(t,i,i.pendingProps.children,l),i.child;case 12:return Sn(t,i,i.pendingProps.children,l),i.child;case 10:return c=i.pendingProps,gs(i,i.type,c.value),Sn(t,i,c.children,l),i.child;case 9:return y=i.type._context,c=i.pendingProps.children,va(i),y=xn(y),c=c(y),i.flags|=1,Sn(t,i,c,l),i.child;case 14:return cy(t,i,i.type,i.pendingProps,l);case 15:return fy(t,i,i.type,i.pendingProps,l);case 19:return xy(t,i,l);case 31:return hE(t,i,l);case 22:return hy(t,i,l,i.pendingProps);case 24:return va(i),c=xn(Zt),t===null?(y=$h(),y===null&&(y=xt,v=Xh(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=l),y=v),i.memoizedState={parent:c,cache:y},Zh(i),gs(i,Zt,y)):((t.lanes&l)!==0&&(Jh(t,i),zo(i,null,null,l),jo()),y=t.memoizedState,v=i.memoizedState,y.parent!==c?(y={parent:c,cache:c},i.memoizedState=y,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=y),gs(i,Zt,c)):(c=v.cache,gs(i,Zt,c),c!==y.cache&&Qh(i,[Zt],l,!0))),Sn(t,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Ur(t){t.flags|=4}function Vd(t,i,l,c,y){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(y&335544128)===y)if(t.stateNode.complete)t.flags|=8192;else if(Xy())t.flags|=8192;else throw Sa=Nc,Wh}else t.flags&=-16777217}function Ty(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Lv(i))if(Xy())t.flags|=8192;else throw Sa=Nc,Wh}function Xc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ec():536870912,t.lanes|=i,bl|=i)}function Go(t,i){if(!Je)switch(t.tailMode){case"hidden":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function At(t){var i=t.alternate!==null&&t.alternate.child===t.child,l=0,c=0;if(i)for(var y=t.child;y!==null;)l|=y.lanes|y.childLanes,c|=y.subtreeFlags&65011712,c|=y.flags&65011712,y.return=t,y=y.sibling;else for(y=t.child;y!==null;)l|=y.lanes|y.childLanes,c|=y.subtreeFlags,c|=y.flags,y.return=t,y=y.sibling;return t.subtreeFlags|=c,t.childLanes=l,i}function mE(t,i,l){var c=i.pendingProps;switch(Fh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(i),null;case 1:return At(i),null;case 3:return l=i.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Lr(Zt),Se(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(fl(i)?Ur(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,qh())),At(i),null;case 26:var y=i.type,v=i.memoizedState;return t===null?(Ur(i),v!==null?(At(i),Ty(i,v)):(At(i),Vd(i,y,null,c,l))):v?v!==t.memoizedState?(Ur(i),At(i),Ty(i,v)):(At(i),i.flags&=-16777217):(t=t.memoizedProps,t!==c&&Ur(i),At(i),Vd(i,y,t,c,l)),null;case 27:if(Ue(i),l=ge.current,y=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==c&&Ur(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return At(i),null}t=J.current,fl(i)?t0(i):(t=Mv(y,c,l),i.stateNode=t,Ur(i))}return At(i),null;case 5:if(Ue(i),y=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==c&&Ur(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return At(i),null}if(v=J.current,fl(i))t0(i);else{var D=cf(ge.current);switch(v){case 1:v=D.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:v=D.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":v=D.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":v=D.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":v=D.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof c.is=="string"?D.createElement("select",{is:c.is}):D.createElement("select"),c.multiple?v.multiple=!0:c.size&&(v.size=c.size);break;default:v=typeof c.is=="string"?D.createElement(y,{is:c.is}):D.createElement(y)}}v[Kt]=i,v[fn]=c;e:for(D=i.child;D!==null;){if(D.tag===5||D.tag===6)v.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===i)break e;for(;D.sibling===null;){if(D.return===null||D.return===i)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}i.stateNode=v;e:switch(Tn(v,y,c),y){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ur(i)}}return At(i),Vd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,l),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==c&&Ur(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(t=ge.current,fl(i)){if(t=i.stateNode,l=i.memoizedProps,c=null,y=_n,y!==null)switch(y.tag){case 27:case 5:c=y.memoizedProps}t[Kt]=i,t=!!(t.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||vv(t.nodeValue,l)),t||ms(i,!0)}else t=cf(t).createTextNode(c),t[Kt]=i,i.stateNode=t}return At(i),null;case 31:if(l=i.memoizedState,t===null||t.memoizedState!==null){if(c=fl(i),l!==null){if(t===null){if(!c)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Kt]=i}else pa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;At(i),t=!1}else l=qh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),t=!0;if(!t)return i.flags&256?(ii(i),i):(ii(i),null);if((i.flags&128)!==0)throw Error(r(558))}return At(i),null;case 13:if(c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(y=fl(i),c!==null&&c.dehydrated!==null){if(t===null){if(!y)throw Error(r(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[Kt]=i}else pa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;At(i),y=!1}else y=qh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=y),y=!0;if(!y)return i.flags&256?(ii(i),i):(ii(i),null)}return ii(i),(i.flags&128)!==0?(i.lanes=l,i):(l=c!==null,t=t!==null&&t.memoizedState!==null,l&&(c=i.child,y=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(y=c.alternate.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==y&&(c.flags|=2048)),l!==t&&l&&(i.child.flags|=8192),Xc(i,i.updateQueue),At(i),null);case 4:return Se(),t===null&&nm(i.stateNode.containerInfo),At(i),null;case 10:return Lr(i.type),At(i),null;case 19:if(H(Ft),c=i.memoizedState,c===null)return At(i),null;if(y=(i.flags&128)!==0,v=c.rendering,v===null)if(y)Go(c,!1);else{if(jt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(v=Pc(t),v!==null){for(i.flags|=128,Go(c,!1),t=v.updateQueue,i.updateQueue=t,Xc(i,t),i.subtreeFlags=0,t=l,l=i.child;l!==null;)$p(l,t),l=l.sibling;return $(Ft,Ft.current&1|2),Je&&Pr(i,c.treeForkCount),i.child}t=t.sibling}c.tail!==null&&Te()>Jc&&(i.flags|=128,y=!0,Go(c,!1),i.lanes=4194304)}else{if(!y)if(t=Pc(v),t!==null){if(i.flags|=128,y=!0,t=t.updateQueue,i.updateQueue=t,Xc(i,t),Go(c,!0),c.tail===null&&c.tailMode==="hidden"&&!v.alternate&&!Je)return At(i),null}else 2*Te()-c.renderingStartTime>Jc&&l!==536870912&&(i.flags|=128,y=!0,Go(c,!1),i.lanes=4194304);c.isBackwards?(v.sibling=i.child,i.child=v):(t=c.last,t!==null?t.sibling=v:i.child=v,c.last=v)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Te(),t.sibling=null,l=Ft.current,$(Ft,y?l&1|2:l&1),Je&&Pr(i,c.treeForkCount),t):(At(i),null);case 22:case 23:return ii(i),id(),c=i.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(l&536870912)!==0&&(i.flags&128)===0&&(At(i),i.subtreeFlags&6&&(i.flags|=8192)):At(i),l=i.updateQueue,l!==null&&Xc(i,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==l&&(i.flags|=2048),t!==null&&H(_a),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Lr(Zt),At(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function gE(t,i){switch(Fh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Lr(Zt),Se(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ue(i),null;case 31:if(i.memoizedState!==null){if(ii(i),i.alternate===null)throw Error(r(340));pa()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(ii(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));pa()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return H(Ft),null;case 4:return Se(),null;case 10:return Lr(i.type),null;case 22:case 23:return ii(i),id(),t!==null&&H(_a),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Lr(Zt),null;case 25:return null;default:return null}}function Ey(t,i){switch(Fh(i),i.tag){case 3:Lr(Zt),Se();break;case 26:case 27:case 5:Ue(i);break;case 4:Se();break;case 31:i.memoizedState!==null&&ii(i);break;case 13:ii(i);break;case 19:H(Ft);break;case 10:Lr(i.type);break;case 22:case 23:ii(i),id(),t!==null&&H(_a);break;case 24:Lr(Zt)}}function Yo(t,i){try{var l=i.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var y=c.next;l=y;do{if((l.tag&t)===t){c=void 0;var v=l.create,D=l.inst;c=v(),D.destroy=c}l=l.next}while(l!==y)}}catch(B){mt(i,i.return,B)}}function Ss(t,i,l){try{var c=i.updateQueue,y=c!==null?c.lastEffect:null;if(y!==null){var v=y.next;c=v;do{if((c.tag&t)===t){var D=c.inst,B=D.destroy;if(B!==void 0){D.destroy=void 0,y=i;var Q=l,re=B;try{re()}catch(ue){mt(y,Q,ue)}}}c=c.next}while(c!==v)}}catch(ue){mt(i,i.return,ue)}}function by(t){var i=t.updateQueue;if(i!==null){var l=t.stateNode;try{m0(i,l)}catch(c){mt(t,t.return,c)}}}function Ay(t,i,l){l.props=ba(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(c){mt(t,i,c)}}function Qo(t,i){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof l=="function"?t.refCleanup=l(c):l.current=c}}catch(y){mt(t,i,y)}}function gr(t,i){var l=t.ref,c=t.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(y){mt(t,i,y)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){mt(t,i,y)}else l.current=null}function wy(t){var i=t.type,l=t.memoizedProps,c=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(y){mt(t,t.return,y)}}function Pd(t,i,l){try{var c=t.stateNode;LE(c,t.type,l,i),c[fn]=i}catch(y){mt(t,t.return,y)}}function Ry(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Cs(t.type)||t.tag===4}function kd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ry(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Cs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ld(t,i,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(t),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Bi));else if(c!==4&&(c===27&&Cs(t.type)&&(l=t.stateNode,i=null),t=t.child,t!==null))for(Ld(t,i,l),t=t.sibling;t!==null;)Ld(t,i,l),t=t.sibling}function Kc(t,i,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?l.insertBefore(t,i):l.appendChild(t);else if(c!==4&&(c===27&&Cs(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(Kc(t,i,l),t=t.sibling;t!==null;)Kc(t,i,l),t=t.sibling}function Cy(t){var i=t.stateNode,l=t.memoizedProps;try{for(var c=t.type,y=i.attributes;y.length;)i.removeAttributeNode(y[0]);Tn(i,c,l),i[Kt]=t,i[fn]=l}catch(v){mt(t,t.return,v)}}var Fr=!1,tn=!1,jd=!1,My=typeof WeakSet=="function"?WeakSet:Set,dn=null;function pE(t,i){if(t=t.containerInfo,sm=yf,t=Up(t),Nh(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var y=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var D=0,B=-1,Q=-1,re=0,ue=0,de=t,se=null;t:for(;;){for(var oe;de!==l||y!==0&&de.nodeType!==3||(B=D+y),de!==v||c!==0&&de.nodeType!==3||(Q=D+c),de.nodeType===3&&(D+=de.nodeValue.length),(oe=de.firstChild)!==null;)se=de,de=oe;for(;;){if(de===t)break t;if(se===l&&++re===y&&(B=D),se===v&&++ue===c&&(Q=D),(oe=de.nextSibling)!==null)break;de=se,se=de.parentNode}de=oe}l=B===-1||Q===-1?null:{start:B,end:Q}}else l=null}l=l||{start:0,end:0}}else l=null;for(am={focusedElem:t,selectionRange:l},yf=!1,dn=i;dn!==null;)if(i=dn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,dn=t;else for(;dn!==null;){switch(i=dn,v=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(l=0;l<t.length;l++)y=t[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&v!==null){t=void 0,l=i,y=v.memoizedProps,v=v.memoizedState,c=l.stateNode;try{var Ae=ba(l.type,y);t=c.getSnapshotBeforeUpdate(Ae,v),c.__reactInternalSnapshotBeforeUpdate=t}catch(Ve){mt(l,l.return,Ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,l=t.nodeType,l===9)um(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":um(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,dn=t;break}dn=i.return}}function Dy(t,i,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:qr(t,l),c&4&&Yo(5,l);break;case 1:if(qr(t,l),c&4)if(t=l.stateNode,i===null)try{t.componentDidMount()}catch(D){mt(l,l.return,D)}else{var y=ba(l.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(y,i,t.__reactInternalSnapshotBeforeUpdate)}catch(D){mt(l,l.return,D)}}c&64&&by(l),c&512&&Qo(l,l.return);break;case 3:if(qr(t,l),c&64&&(t=l.updateQueue,t!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{m0(t,i)}catch(D){mt(l,l.return,D)}}break;case 27:i===null&&c&4&&Cy(l);case 26:case 5:qr(t,l),i===null&&c&4&&wy(l),c&512&&Qo(l,l.return);break;case 12:qr(t,l);break;case 31:qr(t,l),c&4&&Oy(t,l);break;case 13:qr(t,l),c&4&&Vy(t,l),c&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=AE.bind(null,l),GE(t,l))));break;case 22:if(c=l.memoizedState!==null||Fr,!c){i=i!==null&&i.memoizedState!==null||tn,y=Fr;var v=tn;Fr=c,(tn=i)&&!v?Gr(t,l,(l.subtreeFlags&8772)!==0):qr(t,l),Fr=y,tn=v}break;case 30:break;default:qr(t,l)}}function Ny(t){var i=t.alternate;i!==null&&(t.alternate=null,Ny(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Xa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Dt=null,Un=!1;function Hr(t,i,l){for(l=l.child;l!==null;)Iy(t,i,l),l=l.sibling}function Iy(t,i,l){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Cn,l)}catch{}switch(l.tag){case 26:tn||gr(l,i),Hr(t,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:tn||gr(l,i);var c=Dt,y=Un;Cs(l.type)&&(Dt=l.stateNode,Un=!1),Hr(t,i,l),nu(l.stateNode),Dt=c,Un=y;break;case 5:tn||gr(l,i);case 6:if(c=Dt,y=Un,Dt=null,Hr(t,i,l),Dt=c,Un=y,Dt!==null)if(Un)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(l.stateNode)}catch(v){mt(l,i,v)}else try{Dt.removeChild(l.stateNode)}catch(v){mt(l,i,v)}break;case 18:Dt!==null&&(Un?(t=Dt,bv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),Il(t)):bv(Dt,l.stateNode));break;case 4:c=Dt,y=Un,Dt=l.stateNode.containerInfo,Un=!0,Hr(t,i,l),Dt=c,Un=y;break;case 0:case 11:case 14:case 15:Ss(2,l,i),tn||Ss(4,l,i),Hr(t,i,l);break;case 1:tn||(gr(l,i),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Ay(l,i,c)),Hr(t,i,l);break;case 21:Hr(t,i,l);break;case 22:tn=(c=tn)||l.memoizedState!==null,Hr(t,i,l),tn=c;break;default:Hr(t,i,l)}}function Oy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Il(t)}catch(l){mt(i,i.return,l)}}}function Vy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Il(t)}catch(l){mt(i,i.return,l)}}function yE(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new My),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new My),i;default:throw Error(r(435,t.tag))}}function $c(t,i){var l=yE(t);i.forEach(function(c){if(!l.has(c)){l.add(c);var y=wE.bind(null,t,c);c.then(y,y)}})}function Fn(t,i){var l=i.deletions;if(l!==null)for(var c=0;c<l.length;c++){var y=l[c],v=t,D=i,B=D;e:for(;B!==null;){switch(B.tag){case 27:if(Cs(B.type)){Dt=B.stateNode,Un=!1;break e}break;case 5:Dt=B.stateNode,Un=!1;break e;case 3:case 4:Dt=B.stateNode.containerInfo,Un=!0;break e}B=B.return}if(Dt===null)throw Error(r(160));Iy(v,D,y),Dt=null,Un=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Py(i,t),i=i.sibling}var Yi=null;function Py(t,i){var l=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Fn(i,t),Hn(t),c&4&&(Ss(3,t,t.return),Yo(3,t),Ss(5,t,t.return));break;case 1:Fn(i,t),Hn(t),c&512&&(tn||l===null||gr(l,l.return)),c&64&&Fr&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var y=Yi;if(Fn(i,t),Hn(t),c&512&&(tn||l===null||gr(l,l.return)),c&4){var v=l!==null?l.memoizedState:null;if(c=t.memoizedState,l===null)if(c===null)if(t.stateNode===null){e:{c=t.type,l=t.memoizedProps,y=y.ownerDocument||y;t:switch(c){case"title":v=y.getElementsByTagName("title")[0],(!v||v[tr]||v[Kt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(c),y.head.insertBefore(v,y.querySelector("head > title"))),Tn(v,c,l),v[Kt]=t,$t(v),c=v;break e;case"link":var D=Pv("link","href",y).get(c+(l.href||""));if(D){for(var B=0;B<D.length;B++)if(v=D[B],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){D.splice(B,1);break t}}v=y.createElement(c),Tn(v,c,l),y.head.appendChild(v);break;case"meta":if(D=Pv("meta","content",y).get(c+(l.content||""))){for(B=0;B<D.length;B++)if(v=D[B],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){D.splice(B,1);break t}}v=y.createElement(c),Tn(v,c,l),y.head.appendChild(v);break;default:throw Error(r(468,c))}v[Kt]=t,$t(v),c=v}t.stateNode=c}else kv(y,t.type,t.stateNode);else t.stateNode=Vv(y,c,t.memoizedProps);else v!==c?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,c===null?kv(y,t.type,t.stateNode):Vv(y,c,t.memoizedProps)):c===null&&t.stateNode!==null&&Pd(t,t.memoizedProps,l.memoizedProps)}break;case 27:Fn(i,t),Hn(t),c&512&&(tn||l===null||gr(l,l.return)),l!==null&&c&4&&Pd(t,t.memoizedProps,l.memoizedProps);break;case 5:if(Fn(i,t),Hn(t),c&512&&(tn||l===null||gr(l,l.return)),t.flags&32){y=t.stateNode;try{Bn(y,"")}catch(Ae){mt(t,t.return,Ae)}}c&4&&t.stateNode!=null&&(y=t.memoizedProps,Pd(t,y,l!==null?l.memoizedProps:y)),c&1024&&(jd=!0);break;case 6:if(Fn(i,t),Hn(t),c&4){if(t.stateNode===null)throw Error(r(162));c=t.memoizedProps,l=t.stateNode;try{l.nodeValue=c}catch(Ae){mt(t,t.return,Ae)}}break;case 3:if(df=null,y=Yi,Yi=ff(i.containerInfo),Fn(i,t),Yi=y,Hn(t),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Il(i.containerInfo)}catch(Ae){mt(t,t.return,Ae)}jd&&(jd=!1,ky(t));break;case 4:c=Yi,Yi=ff(t.stateNode.containerInfo),Fn(i,t),Hn(t),Yi=c;break;case 12:Fn(i,t),Hn(t);break;case 31:Fn(i,t),Hn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,$c(t,c)));break;case 13:Fn(i,t),Hn(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Zc=Te()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,$c(t,c)));break;case 22:y=t.memoizedState!==null;var Q=l!==null&&l.memoizedState!==null,re=Fr,ue=tn;if(Fr=re||y,tn=ue||Q,Fn(i,t),tn=ue,Fr=re,Hn(t),c&8192)e:for(i=t.stateNode,i._visibility=y?i._visibility&-2:i._visibility|1,y&&(l===null||Q||Fr||tn||Aa(t)),l=null,i=t;;){if(i.tag===5||i.tag===26){if(l===null){Q=l=i;try{if(v=Q.stateNode,y)D=v.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{B=Q.stateNode;var de=Q.memoizedProps.style,se=de!=null&&de.hasOwnProperty("display")?de.display:null;B.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Ae){mt(Q,Q.return,Ae)}}}else if(i.tag===6){if(l===null){Q=i;try{Q.stateNode.nodeValue=y?"":Q.memoizedProps}catch(Ae){mt(Q,Q.return,Ae)}}}else if(i.tag===18){if(l===null){Q=i;try{var oe=Q.stateNode;y?Av(oe,!0):Av(Q.stateNode,!1)}catch(Ae){mt(Q,Q.return,Ae)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=t.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,$c(t,l))));break;case 19:Fn(i,t),Hn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,$c(t,c)));break;case 30:break;case 21:break;default:Fn(i,t),Hn(t)}}function Hn(t){var i=t.flags;if(i&2){try{for(var l,c=t.return;c!==null;){if(Ry(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var y=l.stateNode,v=kd(t);Kc(t,v,y);break;case 5:var D=l.stateNode;l.flags&32&&(Bn(D,""),l.flags&=-33);var B=kd(t);Kc(t,B,D);break;case 3:case 4:var Q=l.stateNode.containerInfo,re=kd(t);Ld(t,re,Q);break;default:throw Error(r(161))}}catch(ue){mt(t,t.return,ue)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function ky(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;ky(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function qr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Dy(t,i.alternate,i),i=i.sibling}function Aa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ss(4,i,i.return),Aa(i);break;case 1:gr(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Ay(i,i.return,l),Aa(i);break;case 27:nu(i.stateNode);case 26:case 5:gr(i,i.return),Aa(i);break;case 22:i.memoizedState===null&&Aa(i);break;case 30:Aa(i);break;default:Aa(i)}t=t.sibling}}function Gr(t,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,y=t,v=i,D=v.flags;switch(v.tag){case 0:case 11:case 15:Gr(y,v,l),Yo(4,v);break;case 1:if(Gr(y,v,l),c=v,y=c.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(re){mt(c,c.return,re)}if(c=v,y=c.updateQueue,y!==null){var B=c.stateNode;try{var Q=y.shared.hiddenCallbacks;if(Q!==null)for(y.shared.hiddenCallbacks=null,y=0;y<Q.length;y++)d0(Q[y],B)}catch(re){mt(c,c.return,re)}}l&&D&64&&by(v),Qo(v,v.return);break;case 27:Cy(v);case 26:case 5:Gr(y,v,l),l&&c===null&&D&4&&wy(v),Qo(v,v.return);break;case 12:Gr(y,v,l);break;case 31:Gr(y,v,l),l&&D&4&&Oy(y,v);break;case 13:Gr(y,v,l),l&&D&4&&Vy(y,v);break;case 22:v.memoizedState===null&&Gr(y,v,l),Qo(v,v.return);break;case 30:break;default:Gr(y,v,l)}i=i.sibling}}function zd(t,i){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&Oo(l))}function Bd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Oo(t))}function Qi(t,i,l,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ly(t,i,l,c),i=i.sibling}function Ly(t,i,l,c){var y=i.flags;switch(i.tag){case 0:case 11:case 15:Qi(t,i,l,c),y&2048&&Yo(9,i);break;case 1:Qi(t,i,l,c);break;case 3:Qi(t,i,l,c),y&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Oo(t)));break;case 12:if(y&2048){Qi(t,i,l,c),t=i.stateNode;try{var v=i.memoizedProps,D=v.id,B=v.onPostCommit;typeof B=="function"&&B(D,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(Q){mt(i,i.return,Q)}}else Qi(t,i,l,c);break;case 31:Qi(t,i,l,c);break;case 13:Qi(t,i,l,c);break;case 23:break;case 22:v=i.stateNode,D=i.alternate,i.memoizedState!==null?v._visibility&2?Qi(t,i,l,c):Xo(t,i):v._visibility&2?Qi(t,i,l,c):(v._visibility|=2,Sl(t,i,l,c,(i.subtreeFlags&10256)!==0||!1)),y&2048&&zd(D,i);break;case 24:Qi(t,i,l,c),y&2048&&Bd(i.alternate,i);break;default:Qi(t,i,l,c)}}function Sl(t,i,l,c,y){for(y=y&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var v=t,D=i,B=l,Q=c,re=D.flags;switch(D.tag){case 0:case 11:case 15:Sl(v,D,B,Q,y),Yo(8,D);break;case 23:break;case 22:var ue=D.stateNode;D.memoizedState!==null?ue._visibility&2?Sl(v,D,B,Q,y):Xo(v,D):(ue._visibility|=2,Sl(v,D,B,Q,y)),y&&re&2048&&zd(D.alternate,D);break;case 24:Sl(v,D,B,Q,y),y&&re&2048&&Bd(D.alternate,D);break;default:Sl(v,D,B,Q,y)}i=i.sibling}}function Xo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=t,c=i,y=c.flags;switch(c.tag){case 22:Xo(l,c),y&2048&&zd(c.alternate,c);break;case 24:Xo(l,c),y&2048&&Bd(c.alternate,c);break;default:Xo(l,c)}i=i.sibling}}var Ko=8192;function Tl(t,i,l){if(t.subtreeFlags&Ko)for(t=t.child;t!==null;)jy(t,i,l),t=t.sibling}function jy(t,i,l){switch(t.tag){case 26:Tl(t,i,l),t.flags&Ko&&t.memoizedState!==null&&i2(l,Yi,t.memoizedState,t.memoizedProps);break;case 5:Tl(t,i,l);break;case 3:case 4:var c=Yi;Yi=ff(t.stateNode.containerInfo),Tl(t,i,l),Yi=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=Ko,Ko=16777216,Tl(t,i,l),Ko=c):Tl(t,i,l));break;default:Tl(t,i,l)}}function zy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function $o(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];dn=c,Uy(c,t)}zy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)By(t),t=t.sibling}function By(t){switch(t.tag){case 0:case 11:case 15:$o(t),t.flags&2048&&Ss(9,t,t.return);break;case 3:$o(t);break;case 12:$o(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Wc(t)):$o(t);break;default:$o(t)}}function Wc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var c=i[l];dn=c,Uy(c,t)}zy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ss(8,i,i.return),Wc(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Wc(i));break;default:Wc(i)}t=t.sibling}}function Uy(t,i){for(;dn!==null;){var l=dn;switch(l.tag){case 0:case 11:case 15:Ss(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Oo(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,dn=c;else e:for(l=t;dn!==null;){c=dn;var y=c.sibling,v=c.return;if(Ny(c),c===l){dn=null;break e}if(y!==null){y.return=v,dn=y;break e}dn=v}}}var vE={getCacheForType:function(t){var i=xn(Zt),l=i.data.get(t);return l===void 0&&(l=t(),i.data.set(t,l)),l},cacheSignal:function(){return xn(Zt).controller.signal}},_E=typeof WeakMap=="function"?WeakMap:Map,ot=0,xt=null,Ye=null,Xe=0,dt=0,ri=null,Ts=!1,El=!1,Ud=!1,Yr=0,jt=0,Es=0,wa=0,Fd=0,si=0,bl=0,Wo=null,qn=null,Hd=!1,Zc=0,Fy=0,Jc=1/0,ef=null,bs=null,ln=0,As=null,Al=null,Qr=0,qd=0,Gd=null,Hy=null,Zo=0,Yd=null;function ai(){return(ot&2)!==0&&Xe!==0?Xe&-Xe:q.T!==null?Zd():tc()}function qy(){if(si===0)if((Xe&536870912)===0||Je){var t=Js;Js<<=1,(Js&3932160)===0&&(Js=262144),si=t}else si=536870912;return t=ni.current,t!==null&&(t.flags|=32),si}function Gn(t,i,l){(t===xt&&(dt===2||dt===9)||t.cancelPendingCommit!==null)&&(wl(t,0),ws(t,Xe,si,!1)),ea(t,l),((ot&2)===0||t!==xt)&&(t===xt&&((ot&2)===0&&(wa|=l),jt===4&&ws(t,Xe,si,!1)),pr(t))}function Gy(t,i,l){if((ot&6)!==0)throw Error(r(327));var c=!l&&(i&127)===0&&(i&t.expiredLanes)===0||Li(t,i),y=c?TE(t,i):Xd(t,i,!0),v=c;do{if(y===0){El&&!c&&ws(t,i,0,!1);break}else{if(l=t.current.alternate,v&&!xE(l)){y=Xd(t,i,!1),v=!1;continue}if(y===2){if(v=i,t.errorRecoveryDisabledLanes&v)var D=0;else D=t.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){i=D;e:{var B=t;y=Wo;var Q=B.current.memoizedState.isDehydrated;if(Q&&(wl(B,D).flags|=256),D=Xd(B,D,!1),D!==2){if(Ud&&!Q){B.errorRecoveryDisabledLanes|=v,wa|=v,y=4;break e}v=qn,qn=y,v!==null&&(qn===null?qn=v:qn.push.apply(qn,v))}y=D}if(v=!1,y!==2)continue}}if(y===1){wl(t,0),ws(t,i,0,!0);break}e:{switch(c=t,v=y,v){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:ws(c,i,si,!Ts);break e;case 2:qn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(y=Zc+300-Te(),10<y)){if(ws(c,i,si,!Ts),Zi(c,0,!0)!==0)break e;Qr=i,c.timeoutHandle=Tv(Yy.bind(null,c,l,qn,ef,Hd,i,si,wa,bl,Ts,v,"Throttled",-0,0),y);break e}Yy(c,l,qn,ef,Hd,i,si,wa,bl,Ts,v,null,-0,0)}}break}while(!0);pr(t)}function Yy(t,i,l,c,y,v,D,B,Q,re,ue,de,se,oe){if(t.timeoutHandle=-1,de=i.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bi},jy(i,v,de);var Ae=(v&62914560)===v?Zc-Te():(v&4194048)===v?Fy-Te():0;if(Ae=r2(de,Ae),Ae!==null){Qr=v,t.cancelPendingCommit=Ae(ev.bind(null,t,i,v,l,c,y,D,B,Q,ue,de,null,se,oe)),ws(t,v,D,!re);return}}ev(t,i,v,l,c,y,D,B,Q)}function xE(t){for(var i=t;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var y=l[c],v=y.getSnapshot;y=y.value;try{if(!ei(v(),y))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ws(t,i,l,c){i&=~Fd,i&=~wa,t.suspendedLanes|=i,t.pingedLanes&=~i,c&&(t.warmLanes|=i),c=t.expirationTimes;for(var y=i;0<y;){var v=31-Bt(y),D=1<<v;c[v]=-1,y&=~D}l!==0&&ta(t,l,i)}function tf(){return(ot&6)===0?(Jo(0),!1):!0}function Qd(){if(Ye!==null){if(dt===0)var t=Ye.return;else t=Ye,kr=ya=null,ud(t),pl=null,Po=0,t=Ye;for(;t!==null;)Ey(t.alternate,t),t=t.return;Ye=null}}function wl(t,i){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,BE(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),Qr=0,Qd(),xt=t,Ye=l=Vr(t.current,null),Xe=i,dt=0,ri=null,Ts=!1,El=Li(t,i),Ud=!1,bl=si=Fd=wa=Es=jt=0,qn=Wo=null,Hd=!1,(i&8)!==0&&(i|=i&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=i;0<c;){var y=31-Bt(c),v=1<<y;i|=t[y],c&=~v}return Yr=i,Tc(),l}function Qy(t,i){He=null,q.H=Ho,i===gl||i===Dc?(i=u0(),dt=3):i===Wh?(i=u0(),dt=4):dt=i===Ad?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ri=i,Ye===null&&(jt=1,qc(t,xi(i,t.current)))}function Xy(){var t=ni.current;return t===null?!0:(Xe&4194048)===Xe?bi===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?t===bi:!1}function Ky(){var t=q.H;return q.H=Ho,t===null?Ho:t}function $y(){var t=q.A;return q.A=vE,t}function nf(){jt=4,Ts||(Xe&4194048)!==Xe&&ni.current!==null||(El=!0),(Es&134217727)===0&&(wa&134217727)===0||xt===null||ws(xt,Xe,si,!1)}function Xd(t,i,l){var c=ot;ot|=2;var y=Ky(),v=$y();(xt!==t||Xe!==i)&&(ef=null,wl(t,i)),i=!1;var D=jt;e:do try{if(dt!==0&&Ye!==null){var B=Ye,Q=ri;switch(dt){case 8:Qd(),D=6;break e;case 3:case 2:case 9:case 6:ni.current===null&&(i=!0);var re=dt;if(dt=0,ri=null,Rl(t,B,Q,re),l&&El){D=0;break e}break;default:re=dt,dt=0,ri=null,Rl(t,B,Q,re)}}SE(),D=jt;break}catch(ue){Qy(t,ue)}while(!0);return i&&t.shellSuspendCounter++,kr=ya=null,ot=c,q.H=y,q.A=v,Ye===null&&(xt=null,Xe=0,Tc()),D}function SE(){for(;Ye!==null;)Wy(Ye)}function TE(t,i){var l=ot;ot|=2;var c=Ky(),y=$y();xt!==t||Xe!==i?(ef=null,Jc=Te()+500,wl(t,i)):El=Li(t,i);e:do try{if(dt!==0&&Ye!==null){i=Ye;var v=ri;t:switch(dt){case 1:dt=0,ri=null,Rl(t,i,v,1);break;case 2:case 9:if(l0(v)){dt=0,ri=null,Zy(i);break}i=function(){dt!==2&&dt!==9||xt!==t||(dt=7),pr(t)},v.then(i,i);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:l0(v)?(dt=0,ri=null,Zy(i)):(dt=0,ri=null,Rl(t,i,v,7));break;case 5:var D=null;switch(Ye.tag){case 26:D=Ye.memoizedState;case 5:case 27:var B=Ye;if(D?Lv(D):B.stateNode.complete){dt=0,ri=null;var Q=B.sibling;if(Q!==null)Ye=Q;else{var re=B.return;re!==null?(Ye=re,rf(re)):Ye=null}break t}}dt=0,ri=null,Rl(t,i,v,5);break;case 6:dt=0,ri=null,Rl(t,i,v,6);break;case 8:Qd(),jt=6;break e;default:throw Error(r(462))}}EE();break}catch(ue){Qy(t,ue)}while(!0);return kr=ya=null,q.H=c,q.A=y,ot=l,Ye!==null?0:(xt=null,Xe=0,Tc(),jt)}function EE(){for(;Ye!==null&&!je();)Wy(Ye)}function Wy(t){var i=Sy(t.alternate,t,Yr);t.memoizedProps=t.pendingProps,i===null?rf(t):Ye=i}function Zy(t){var i=t,l=i.alternate;switch(i.tag){case 15:case 0:i=gy(l,i,i.pendingProps,i.type,void 0,Xe);break;case 11:i=gy(l,i,i.pendingProps,i.type.render,i.ref,Xe);break;case 5:ud(i);default:Ey(l,i),i=Ye=$p(i,Yr),i=Sy(l,i,Yr)}t.memoizedProps=t.pendingProps,i===null?rf(t):Ye=i}function Rl(t,i,l,c){kr=ya=null,ud(i),pl=null,Po=0;var y=i.return;try{if(fE(t,y,i,l,Xe)){jt=1,qc(t,xi(l,t.current)),Ye=null;return}}catch(v){if(y!==null)throw Ye=y,v;jt=1,qc(t,xi(l,t.current)),Ye=null;return}i.flags&32768?(Je||c===1?t=!0:El||(Xe&536870912)!==0?t=!1:(Ts=t=!0,(c===2||c===9||c===3||c===6)&&(c=ni.current,c!==null&&c.tag===13&&(c.flags|=16384))),Jy(i,t)):rf(i)}function rf(t){var i=t;do{if((i.flags&32768)!==0){Jy(i,Ts);return}t=i.return;var l=mE(i.alternate,i,Yr);if(l!==null){Ye=l;return}if(i=i.sibling,i!==null){Ye=i;return}Ye=i=t}while(i!==null);jt===0&&(jt=5)}function Jy(t,i){do{var l=gE(t.alternate,t);if(l!==null){l.flags&=32767,Ye=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(t=t.sibling,t!==null)){Ye=t;return}Ye=t=l}while(t!==null);jt=6,Ye=null}function ev(t,i,l,c,y,v,D,B,Q){t.cancelPendingCommit=null;do sf();while(ln!==0);if((ot&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(v=i.lanes|i.childLanes,v|=kh,Rh(t,l,v,D,B,Q),t===xt&&(Ye=xt=null,Xe=0),Al=i,As=t,Qr=l,qd=v,Gd=y,Hy=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,RE(_t,function(){return sv(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=q.T,q.T=null,y=W.p,W.p=2,D=ot,ot|=4;try{pE(t,i,l)}finally{ot=D,W.p=y,q.T=c}}ln=1,tv(),nv(),iv()}}function tv(){if(ln===1){ln=0;var t=As,i=Al,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=q.T,q.T=null;var c=W.p;W.p=2;var y=ot;ot|=4;try{Py(i,t);var v=am,D=Up(t.containerInfo),B=v.focusedElem,Q=v.selectionRange;if(D!==B&&B&&B.ownerDocument&&Bp(B.ownerDocument.documentElement,B)){if(Q!==null&&Nh(B)){var re=Q.start,ue=Q.end;if(ue===void 0&&(ue=re),"selectionStart"in B)B.selectionStart=re,B.selectionEnd=Math.min(ue,B.value.length);else{var de=B.ownerDocument||document,se=de&&de.defaultView||window;if(se.getSelection){var oe=se.getSelection(),Ae=B.textContent.length,Ve=Math.min(Q.start,Ae),vt=Q.end===void 0?Ve:Math.min(Q.end,Ae);!oe.extend&&Ve>vt&&(D=vt,vt=Ve,Ve=D);var Z=zp(B,Ve),X=zp(B,vt);if(Z&&X&&(oe.rangeCount!==1||oe.anchorNode!==Z.node||oe.anchorOffset!==Z.offset||oe.focusNode!==X.node||oe.focusOffset!==X.offset)){var ie=de.createRange();ie.setStart(Z.node,Z.offset),oe.removeAllRanges(),Ve>vt?(oe.addRange(ie),oe.extend(X.node,X.offset)):(ie.setEnd(X.node,X.offset),oe.addRange(ie))}}}}for(de=[],oe=B;oe=oe.parentNode;)oe.nodeType===1&&de.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<de.length;B++){var fe=de[B];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}yf=!!sm,am=sm=null}finally{ot=y,W.p=c,q.T=l}}t.current=i,ln=2}}function nv(){if(ln===2){ln=0;var t=As,i=Al,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=q.T,q.T=null;var c=W.p;W.p=2;var y=ot;ot|=4;try{Dy(t,i.alternate,i)}finally{ot=y,W.p=c,q.T=l}}ln=3}}function iv(){if(ln===4||ln===3){ln=0,tt();var t=As,i=Al,l=Qr,c=Hy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ln=5:(ln=0,Al=As=null,rv(t,t.pendingLanes));var y=t.pendingLanes;if(y===0&&(bs=null),Dr(l),i=i.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Cn,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=q.T,y=W.p,W.p=2,q.T=null;try{for(var v=t.onRecoverableError,D=0;D<c.length;D++){var B=c[D];v(B.value,{componentStack:B.stack})}}finally{q.T=i,W.p=y}}(Qr&3)!==0&&sf(),pr(t),y=t.pendingLanes,(l&261930)!==0&&(y&42)!==0?t===Yd?Zo++:(Zo=0,Yd=t):Zo=0,Jo(0)}}function rv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Oo(i)))}function sf(){return tv(),nv(),iv(),sv()}function sv(){if(ln!==5)return!1;var t=As,i=qd;qd=0;var l=Dr(Qr),c=q.T,y=W.p;try{W.p=32>l?32:l,q.T=null,l=Gd,Gd=null;var v=As,D=Qr;if(ln=0,Al=As=null,Qr=0,(ot&6)!==0)throw Error(r(331));var B=ot;if(ot|=4,By(v.current),Ly(v,v.current,D,l),ot=B,Jo(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Cn,v)}catch{}return!0}finally{W.p=y,q.T=c,rv(t,i)}}function av(t,i,l){i=xi(l,i),i=bd(t.stateNode,i,2),t=vs(t,i,2),t!==null&&(ea(t,2),pr(t))}function mt(t,i,l){if(t.tag===3)av(t,t,l);else for(;i!==null;){if(i.tag===3){av(i,t,l);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(bs===null||!bs.has(c))){t=xi(l,t),l=ly(2),c=vs(i,l,2),c!==null&&(oy(l,c,i,t),ea(c,2),pr(c));break}}i=i.return}}function Kd(t,i,l){var c=t.pingCache;if(c===null){c=t.pingCache=new _E;var y=new Set;c.set(i,y)}else y=c.get(i),y===void 0&&(y=new Set,c.set(i,y));y.has(l)||(Ud=!0,y.add(l),t=bE.bind(null,t,i,l),i.then(t,t))}function bE(t,i,l){var c=t.pingCache;c!==null&&c.delete(i),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,xt===t&&(Xe&l)===l&&(jt===4||jt===3&&(Xe&62914560)===Xe&&300>Te()-Zc?(ot&2)===0&&wl(t,0):Fd|=l,bl===Xe&&(bl=0)),pr(t)}function lv(t,i){i===0&&(i=ec()),t=ma(t,i),t!==null&&(ea(t,i),pr(t))}function AE(t){var i=t.memoizedState,l=0;i!==null&&(l=i.retryLane),lv(t,l)}function wE(t,i){var l=0;switch(t.tag){case 31:case 13:var c=t.stateNode,y=t.memoizedState;y!==null&&(l=y.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(i),lv(t,l)}function RE(t,i){return be(t,i)}var af=null,Cl=null,$d=!1,lf=!1,Wd=!1,Rs=0;function pr(t){t!==Cl&&t.next===null&&(Cl===null?af=Cl=t:Cl=Cl.next=t),lf=!0,$d||($d=!0,ME())}function Jo(t,i){if(!Wd&&lf){Wd=!0;do for(var l=!1,c=af;c!==null;){if(t!==0){var y=c.pendingLanes;if(y===0)var v=0;else{var D=c.suspendedLanes,B=c.pingedLanes;v=(1<<31-Bt(42|t)+1)-1,v&=y&~(D&~B),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,fv(c,v))}else v=Xe,v=Zi(c,c===xt?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||Li(c,v)||(l=!0,fv(c,v));c=c.next}while(l);Wd=!1}}function CE(){ov()}function ov(){lf=$d=!1;var t=0;Rs!==0&&zE()&&(t=Rs);for(var i=Te(),l=null,c=af;c!==null;){var y=c.next,v=uv(c,i);v===0?(c.next=null,l===null?af=y:l.next=y,y===null&&(Cl=l)):(l=c,(t!==0||(v&3)!==0)&&(lf=!0)),c=y}ln!==0&&ln!==5||Jo(t),Rs!==0&&(Rs=0)}function uv(t,i){for(var l=t.suspendedLanes,c=t.pingedLanes,y=t.expirationTimes,v=t.pendingLanes&-62914561;0<v;){var D=31-Bt(v),B=1<<D,Q=y[D];Q===-1?((B&l)===0||(B&c)!==0)&&(y[D]=wh(B,i)):Q<=i&&(t.expiredLanes|=B),v&=~B}if(i=xt,l=Xe,l=Zi(t,t===i?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,l===0||t===i&&(dt===2||dt===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Ce(c),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||Li(t,l)){if(i=l&-l,i===t.callbackPriority)return i;switch(c!==null&&Ce(c),Dr(l)){case 2:case 8:l=Et;break;case 32:l=_t;break;case 268435456:l=cn;break;default:l=_t}return c=cv.bind(null,t),l=be(l,c),t.callbackPriority=i,t.callbackNode=l,i}return c!==null&&c!==null&&Ce(c),t.callbackPriority=2,t.callbackNode=null,2}function cv(t,i){if(ln!==0&&ln!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(sf()&&t.callbackNode!==l)return null;var c=Xe;return c=Zi(t,t===xt?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(Gy(t,c,i),uv(t,Te()),t.callbackNode!=null&&t.callbackNode===l?cv.bind(null,t):null)}function fv(t,i){if(sf())return null;Gy(t,i,!0)}function ME(){UE(function(){(ot&6)!==0?be(ft,CE):ov()})}function Zd(){if(Rs===0){var t=dl;t===0&&(t=$i,$i<<=1,($i&261888)===0&&($i=256)),Rs=t}return Rs}function hv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Za(""+t)}function dv(t,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,t.id&&l.setAttribute("form",t.id),i.parentNode.insertBefore(l,i),t=new FormData(t),l.parentNode.removeChild(l),t}function DE(t,i,l,c,y){if(i==="submit"&&l&&l.stateNode===y){var v=hv((y[fn]||null).action),D=c.submitter;D&&(i=(i=D[fn]||null)?hv(i.formAction):D.getAttribute("formAction"),i!==null&&(v=i,D=null));var B=new ur("action","action",null,c,y);t.push({event:B,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Rs!==0){var Q=D?dv(y,D):new FormData(y);vd(l,{pending:!0,data:Q,method:y.method,action:v},null,Q)}}else typeof v=="function"&&(B.preventDefault(),Q=D?dv(y,D):new FormData(y),vd(l,{pending:!0,data:Q,method:y.method,action:v},v,Q))},currentTarget:y}]})}}for(var Jd=0;Jd<Ph.length;Jd++){var em=Ph[Jd],NE=em.toLowerCase(),IE=em[0].toUpperCase()+em.slice(1);Gi(NE,"on"+IE)}Gi(qp,"onAnimationEnd"),Gi(Gp,"onAnimationIteration"),Gi(Yp,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(XT,"onTransitionRun"),Gi(KT,"onTransitionStart"),Gi($T,"onTransitionCancel"),Gi(Qp,"onTransitionEnd"),sr("onMouseEnter",["mouseout","mouseover"]),sr("onMouseLeave",["mouseout","mouseover"]),sr("onPointerEnter",["pointerout","pointerover"]),sr("onPointerLeave",["pointerout","pointerover"]),rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eu));function mv(t,i){i=(i&4)!==0;for(var l=0;l<t.length;l++){var c=t[l],y=c.event;c=c.listeners;e:{var v=void 0;if(i)for(var D=c.length-1;0<=D;D--){var B=c[D],Q=B.instance,re=B.currentTarget;if(B=B.listener,Q!==v&&y.isPropagationStopped())break e;v=B,y.currentTarget=re;try{v(y)}catch(ue){Sc(ue)}y.currentTarget=null,v=Q}else for(D=0;D<c.length;D++){if(B=c[D],Q=B.instance,re=B.currentTarget,B=B.listener,Q!==v&&y.isPropagationStopped())break e;v=B,y.currentTarget=re;try{v(y)}catch(ue){Sc(ue)}y.currentTarget=null,v=Q}}}}function Qe(t,i){var l=i[Qa];l===void 0&&(l=i[Qa]=new Set);var c=t+"__bubble";l.has(c)||(gv(i,t,2,!1),l.add(c))}function tm(t,i,l){var c=0;i&&(c|=4),gv(l,t,c,i)}var of="_reactListening"+Math.random().toString(36).slice(2);function nm(t){if(!t[of]){t[of]=!0,fo.forEach(function(l){l!=="selectionchange"&&(OE.has(l)||tm(l,!1,t),tm(l,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[of]||(i[of]=!0,tm("selectionchange",!1,i))}}function gv(t,i,l,c){switch(qv(i)){case 2:var y=l2;break;case 8:y=o2;break;default:y=ym}l=y.bind(null,i,l,t),y=void 0,!aa||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(y=!0),c?y!==void 0?t.addEventListener(i,l,{capture:!0,passive:y}):t.addEventListener(i,l,!0):y!==void 0?t.addEventListener(i,l,{passive:y}):t.addEventListener(i,l,!1)}function im(t,i,l,c,y){var v=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var D=c.tag;if(D===3||D===4){var B=c.stateNode.containerInfo;if(B===y)break;if(D===4)for(D=c.return;D!==null;){var Q=D.tag;if((Q===3||Q===4)&&D.stateNode.containerInfo===y)return;D=D.return}for(;B!==null;){if(D=nr(B),D===null)return;if(Q=D.tag,Q===5||Q===6||Q===26||Q===27){c=v=D;continue e}B=B.parentNode}}c=c.return}os(function(){var re=v,ue=pi(l),de=[];e:{var se=Xp.get(t);if(se!==void 0){var oe=ur,Ae=t;switch(t){case"keypress":if(oa(l)===0)break e;case"keydown":case"keyup":oe=vc;break;case"focusin":Ae="focus",oe=ca;break;case"focusout":Ae="blur",oe=ca;break;case"beforeblur":case"afterblur":oe=ca;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Ao;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=A;break;case qp:case Gp:case Yp:oe=fc;break;case Qp:oe=F;break;case"scroll":case"scrollend":oe=bo;break;case"wheel":oe=le;break;case"copy":case"cut":case"paste":oe=hc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=Or;break;case"toggle":case"beforetoggle":oe=Fe}var Ve=(i&4)!==0,vt=!Ve&&(t==="scroll"||t==="scrollend"),Z=Ve?se!==null?se+"Capture":null:se;Ve=[];for(var X=re,ie;X!==null;){var fe=X;if(ie=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||ie===null||Z===null||(fe=Ui(X,Z),fe!=null&&Ve.push(tu(X,fe,ie))),vt)break;X=X.return}0<Ve.length&&(se=new oe(se,Ae,null,l,ue),de.push({event:se,listeners:Ve}))}}if((i&7)===0){e:{if(se=t==="mouseover"||t==="pointerover",oe=t==="mouseout"||t==="pointerout",se&&l!==So&&(Ae=l.relatedTarget||l.fromElement)&&(nr(Ae)||Ae[er]))break e;if((oe||se)&&(se=ue.window===ue?ue:(se=ue.ownerDocument)?se.defaultView||se.parentWindow:window,oe?(Ae=l.relatedTarget||l.toElement,oe=re,Ae=Ae?nr(Ae):null,Ae!==null&&(vt=a(Ae),Ve=Ae.tag,Ae!==vt||Ve!==5&&Ve!==27&&Ve!==6)&&(Ae=null)):(oe=null,Ae=re),oe!==Ae)){if(Ve=Ao,fe="onMouseLeave",Z="onMouseEnter",X="mouse",(t==="pointerout"||t==="pointerover")&&(Ve=Or,fe="onPointerLeave",Z="onPointerEnter",X="pointer"),vt=oe==null?se:Zn(oe),ie=Ae==null?se:Zn(Ae),se=new Ve(fe,X+"leave",oe,l,ue),se.target=vt,se.relatedTarget=ie,fe=null,nr(ue)===re&&(Ve=new Ve(Z,X+"enter",Ae,l,ue),Ve.target=ie,Ve.relatedTarget=vt,fe=Ve),vt=fe,oe&&Ae)t:{for(Ve=VE,Z=oe,X=Ae,ie=0,fe=Z;fe;fe=Ve(fe))ie++;fe=0;for(var Ne=X;Ne;Ne=Ve(Ne))fe++;for(;0<ie-fe;)Z=Ve(Z),ie--;for(;0<fe-ie;)X=Ve(X),fe--;for(;ie--;){if(Z===X||X!==null&&Z===X.alternate){Ve=Z;break t}Z=Ve(Z),X=Ve(X)}Ve=null}else Ve=null;oe!==null&&pv(de,se,oe,Ve,!1),Ae!==null&&vt!==null&&pv(de,vt,Ae,Ve,!0)}}e:{if(se=re?Zn(re):window,oe=se.nodeName&&se.nodeName.toLowerCase(),oe==="select"||oe==="input"&&se.type==="file")var st=Op;else if(Np(se))if(Vp)st=GT;else{st=HT;var Re=FT}else oe=se.nodeName,!oe||oe.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?re&&Wa(re.elementType)&&(st=Op):st=qT;if(st&&(st=st(t,re))){Ip(de,st,l,ue);break e}Re&&Re(t,se,re),t==="focusout"&&re&&se.type==="number"&&re.memoizedProps.value!=null&&vo(se,"number",se.value)}switch(Re=re?Zn(re):window,t){case"focusin":(Np(Re)||Re.contentEditable==="true")&&(sl=Re,Ih=re,Do=null);break;case"focusout":Do=Ih=sl=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,Fp(de,l,ue);break;case"selectionchange":if(QT)break;case"keydown":case"keyup":Fp(de,l,ue)}var qe;if(lt)e:{switch(t){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else rl?fa(t,l)&&(Ke="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Ke="onCompositionStart");Ke&&(hr&&l.locale!=="ko"&&(rl||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&rl&&(qe=Eo()):(or=ue,To="value"in or?or.value:or.textContent,rl=!0)),Re=uf(re,Ke),0<Re.length&&(Ke=new fr(Ke,t,null,l,ue),de.push({event:Ke,listeners:Re}),qe?Ke.data=qe:(qe=il(l),qe!==null&&(Ke.data=qe)))),(qe=vi?jT(t,l):zT(t,l))&&(Ke=uf(re,"onBeforeInput"),0<Ke.length&&(Re=new fr("onBeforeInput","beforeinput",null,l,ue),de.push({event:Re,listeners:Ke}),Re.data=qe)),DE(de,t,re,l,ue)}mv(de,i)})}function tu(t,i,l){return{instance:t,listener:i,currentTarget:l}}function uf(t,i){for(var l=i+"Capture",c=[];t!==null;){var y=t,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=Ui(t,l),y!=null&&c.unshift(tu(t,y,v)),y=Ui(t,i),y!=null&&c.push(tu(t,y,v))),t.tag===3)return c;t=t.return}return[]}function VE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function pv(t,i,l,c,y){for(var v=i._reactName,D=[];l!==null&&l!==c;){var B=l,Q=B.alternate,re=B.stateNode;if(B=B.tag,Q!==null&&Q===c)break;B!==5&&B!==26&&B!==27||re===null||(Q=re,y?(re=Ui(l,v),re!=null&&D.unshift(tu(l,re,Q))):y||(re=Ui(l,v),re!=null&&D.push(tu(l,re,Q)))),l=l.return}D.length!==0&&t.push({event:i,listeners:D})}var PE=/\r\n?/g,kE=/\u0000|\uFFFD/g;function yv(t){return(typeof t=="string"?t:""+t).replace(PE,`
`).replace(kE,"")}function vv(t,i){return i=yv(i),yv(t)===i}function yt(t,i,l,c,y,v){switch(l){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Bn(t,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Bn(t,""+c);break;case"className":Jn(t,"class",c);break;case"tabIndex":Jn(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Jn(t,l,c);break;case"style":xo(t,c,v);break;case"data":if(i!=="object"){Jn(t,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||l!=="href")){t.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(l);break}c=Za(""+c),t.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(i!=="input"&&yt(t,i,"name",y.name,y,null),yt(t,i,"formEncType",y.formEncType,y,null),yt(t,i,"formMethod",y.formMethod,y,null),yt(t,i,"formTarget",y.formTarget,y,null)):(yt(t,i,"encType",y.encType,y,null),yt(t,i,"method",y.method,y,null),yt(t,i,"target",y.target,y,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(l);break}c=Za(""+c),t.setAttribute(l,c);break;case"onClick":c!=null&&(t.onclick=Bi);break;case"onScroll":c!=null&&Qe("scroll",t);break;case"onScrollEnd":c!=null&&Qe("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(y.children!=null)throw Error(r(60));t.innerHTML=l}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}l=Za(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(l,""+c):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":c===!0?t.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(l,c):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(l,c):t.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(l):t.setAttribute(l,c);break;case"popover":Qe("beforetoggle",t),Qe("toggle",t),Ka(t,"popover",c);break;case"xlinkActuate":Wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Wt(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Wt(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Wt(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Wt(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ka(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=oc.get(l)||l,Ka(t,l,c))}}function rm(t,i,l,c,y,v){switch(l){case"style":xo(t,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(y.children!=null)throw Error(r(60));t.innerHTML=l}}break;case"children":typeof c=="string"?Bn(t,c):(typeof c=="number"||typeof c=="bigint")&&Bn(t,""+c);break;case"onScroll":c!=null&&Qe("scroll",t);break;case"onScrollEnd":c!=null&&Qe("scrollend",t);break;case"onClick":c!=null&&(t.onclick=Bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ho.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),i=l.slice(2,y?l.length-7:void 0),v=t[fn]||null,v=v!=null?v[l]:null,typeof v=="function"&&t.removeEventListener(i,v,y),typeof c=="function")){typeof v!="function"&&v!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(i,c,y);break e}l in t?t[l]=c:c===!0?t.setAttribute(l,""):Ka(t,l,c)}}}function Tn(t,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",t),Qe("load",t);var c=!1,y=!1,v;for(v in l)if(l.hasOwnProperty(v)){var D=l[v];if(D!=null)switch(v){case"src":c=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:yt(t,i,v,D,l,null)}}y&&yt(t,i,"srcSet",l.srcSet,l,null),c&&yt(t,i,"src",l.src,l,null);return;case"input":Qe("invalid",t);var B=v=D=y=null,Q=null,re=null;for(c in l)if(l.hasOwnProperty(c)){var ue=l[c];if(ue!=null)switch(c){case"name":y=ue;break;case"type":D=ue;break;case"checked":Q=ue;break;case"defaultChecked":re=ue;break;case"value":v=ue;break;case"defaultValue":B=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,i));break;default:yt(t,i,c,ue,l,null)}}sc(t,v,B,Q,re,D,y,!1);return;case"select":Qe("invalid",t),c=D=v=null;for(y in l)if(l.hasOwnProperty(y)&&(B=l[y],B!=null))switch(y){case"value":v=B;break;case"defaultValue":D=B;break;case"multiple":c=B;default:yt(t,i,y,B,l,null)}i=v,l=D,t.multiple=!!c,i!=null?rs(t,!!c,i,!1):l!=null&&rs(t,!!c,l,!0);return;case"textarea":Qe("invalid",t),v=y=c=null;for(D in l)if(l.hasOwnProperty(D)&&(B=l[D],B!=null))switch(D){case"value":c=B;break;case"defaultValue":y=B;break;case"children":v=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(91));break;default:yt(t,i,D,B,l,null)}ss(t,c,y,v);return;case"option":for(Q in l)if(l.hasOwnProperty(Q)&&(c=l[Q],c!=null))switch(Q){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:yt(t,i,Q,c,l,null)}return;case"dialog":Qe("beforetoggle",t),Qe("toggle",t),Qe("cancel",t),Qe("close",t);break;case"iframe":case"object":Qe("load",t);break;case"video":case"audio":for(c=0;c<eu.length;c++)Qe(eu[c],t);break;case"image":Qe("error",t),Qe("load",t);break;case"details":Qe("toggle",t);break;case"embed":case"source":case"link":Qe("error",t),Qe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in l)if(l.hasOwnProperty(re)&&(c=l[re],c!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:yt(t,i,re,c,l,null)}return;default:if(Wa(i)){for(ue in l)l.hasOwnProperty(ue)&&(c=l[ue],c!==void 0&&rm(t,i,ue,c,l,void 0));return}}for(B in l)l.hasOwnProperty(B)&&(c=l[B],c!=null&&yt(t,i,B,c,l,null))}function LE(t,i,l,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,D=null,B=null,Q=null,re=null,ue=null;for(oe in l){var de=l[oe];if(l.hasOwnProperty(oe)&&de!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":Q=de;default:c.hasOwnProperty(oe)||yt(t,i,oe,null,c,de)}}for(var se in c){var oe=c[se];if(de=l[se],c.hasOwnProperty(se)&&(oe!=null||de!=null))switch(se){case"type":v=oe;break;case"name":y=oe;break;case"checked":re=oe;break;case"defaultChecked":ue=oe;break;case"value":D=oe;break;case"defaultValue":B=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,i));break;default:oe!==de&&yt(t,i,se,oe,c,de)}}$a(t,D,B,Q,re,ue,v,y);return;case"select":oe=D=B=se=null;for(v in l)if(Q=l[v],l.hasOwnProperty(v)&&Q!=null)switch(v){case"value":break;case"multiple":oe=Q;default:c.hasOwnProperty(v)||yt(t,i,v,null,c,Q)}for(y in c)if(v=c[y],Q=l[y],c.hasOwnProperty(y)&&(v!=null||Q!=null))switch(y){case"value":se=v;break;case"defaultValue":B=v;break;case"multiple":D=v;default:v!==Q&&yt(t,i,y,v,c,Q)}i=B,l=D,c=oe,se!=null?rs(t,!!l,se,!1):!!c!=!!l&&(i!=null?rs(t,!!l,i,!0):rs(t,!!l,l?[]:"",!1));return;case"textarea":oe=se=null;for(B in l)if(y=l[B],l.hasOwnProperty(B)&&y!=null&&!c.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:yt(t,i,B,null,c,y)}for(D in c)if(y=c[D],v=l[D],c.hasOwnProperty(D)&&(y!=null||v!=null))switch(D){case"value":se=y;break;case"defaultValue":oe=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==v&&yt(t,i,D,y,c,v)}ac(t,se,oe);return;case"option":for(var Ae in l)if(se=l[Ae],l.hasOwnProperty(Ae)&&se!=null&&!c.hasOwnProperty(Ae))switch(Ae){case"selected":t.selected=!1;break;default:yt(t,i,Ae,null,c,se)}for(Q in c)if(se=c[Q],oe=l[Q],c.hasOwnProperty(Q)&&se!==oe&&(se!=null||oe!=null))switch(Q){case"selected":t.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:yt(t,i,Q,se,c,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in l)se=l[Ve],l.hasOwnProperty(Ve)&&se!=null&&!c.hasOwnProperty(Ve)&&yt(t,i,Ve,null,c,se);for(re in c)if(se=c[re],oe=l[re],c.hasOwnProperty(re)&&se!==oe&&(se!=null||oe!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,i));break;default:yt(t,i,re,se,c,oe)}return;default:if(Wa(i)){for(var vt in l)se=l[vt],l.hasOwnProperty(vt)&&se!==void 0&&!c.hasOwnProperty(vt)&&rm(t,i,vt,void 0,c,se);for(ue in c)se=c[ue],oe=l[ue],!c.hasOwnProperty(ue)||se===oe||se===void 0&&oe===void 0||rm(t,i,ue,se,c,oe);return}}for(var Z in l)se=l[Z],l.hasOwnProperty(Z)&&se!=null&&!c.hasOwnProperty(Z)&&yt(t,i,Z,null,c,se);for(de in c)se=c[de],oe=l[de],!c.hasOwnProperty(de)||se===oe||se==null&&oe==null||yt(t,i,de,se,c,oe)}function _v(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var y=l[c],v=y.transferSize,D=y.initiatorType,B=y.duration;if(v&&B&&_v(D)){for(D=0,B=y.responseEnd,c+=1;c<l.length;c++){var Q=l[c],re=Q.startTime;if(re>B)break;var ue=Q.transferSize,de=Q.initiatorType;ue&&_v(de)&&(Q=Q.responseEnd,D+=ue*(Q<B?1:(B-re)/(Q-re)))}if(--c,i+=8*(v+D)/(y.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var sm=null,am=null;function cf(t){return t.nodeType===9?t:t.ownerDocument}function xv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function lm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var om=null;function zE(){var t=window.event;return t&&t.type==="popstate"?t===om?!1:(om=t,!0):(om=null,!1)}var Tv=typeof setTimeout=="function"?setTimeout:void 0,BE=typeof clearTimeout=="function"?clearTimeout:void 0,Ev=typeof Promise=="function"?Promise:void 0,UE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ev<"u"?function(t){return Ev.resolve(null).then(t).catch(FE)}:Tv;function FE(t){setTimeout(function(){throw t})}function Cs(t){return t==="head"}function bv(t,i){var l=i,c=0;do{var y=l.nextSibling;if(t.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(c===0){t.removeChild(y),Il(i);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")nu(t.ownerDocument.documentElement);else if(l==="head"){l=t.ownerDocument.head,nu(l);for(var v=l.firstChild;v;){var D=v.nextSibling,B=v.nodeName;v[tr]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=D}}else l==="body"&&nu(t.ownerDocument.body);l=y}while(l);Il(i)}function Av(t,i){var l=t;t=0;do{var c=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(t===0)break;t--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||t++;l=c}while(l)}function um(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":um(l),Xa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function HE(t,i,l,c){for(;t.nodeType===1;){var y=l;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[tr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(v=t.getAttribute("rel"),v==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(v!==y.rel||t.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||t.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||t.getAttribute("title")!==(y.title==null?null:y.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(v=t.getAttribute("src"),(v!==(y.src==null?null:y.src)||t.getAttribute("type")!==(y.type==null?null:y.type)||t.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&t.getAttribute("name")===v)return t}else return t;if(t=Ai(t.nextSibling),t===null)break}return null}function qE(t,i,l){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=Ai(t.nextSibling),t===null))return null;return t}function wv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ai(t.nextSibling),t===null))return null;return t}function cm(t){return t.data==="$?"||t.data==="$~"}function fm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function GE(t,i){var l=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||l.readyState!=="loading")i();else{var c=function(){i(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function Ai(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var hm=null;function Rv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"||l==="/&"){if(i===0)return Ai(t.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}t=t.nextSibling}return null}function Cv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return t;i--}else l!=="/$"&&l!=="/&"||i++}t=t.previousSibling}return null}function Mv(t,i,l){switch(i=cf(l),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function nu(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Xa(t)}var wi=new Map,Dv=new Set;function ff(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xr=W.d;W.d={f:YE,r:QE,D:XE,C:KE,L:$E,m:WE,X:JE,S:ZE,M:e2};function YE(){var t=Xr.f(),i=tf();return t||i}function QE(t){var i=gi(t);i!==null&&i.tag===5&&i.type==="form"?Q0(i):Xr.r(t)}var Ml=typeof document>"u"?null:document;function Nv(t,i,l){var c=Ml;if(c&&typeof i=="string"&&i){var y=zn(i);y='link[rel="'+t+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),Dv.has(y)||(Dv.add(y),t={rel:t,crossOrigin:l,href:i},c.querySelector(y)===null&&(i=c.createElement("link"),Tn(i,"link",t),$t(i),c.head.appendChild(i)))}}function XE(t){Xr.D(t),Nv("dns-prefetch",t,null)}function KE(t,i){Xr.C(t,i),Nv("preconnect",t,i)}function $E(t,i,l){Xr.L(t,i,l);var c=Ml;if(c&&t&&i){var y='link[rel="preload"][as="'+zn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+zn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+zn(l.imageSizes)+'"]')):y+='[href="'+zn(t)+'"]';var v=y;switch(i){case"style":v=Dl(t);break;case"script":v=Nl(t)}wi.has(v)||(t=_({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:t,as:i},l),wi.set(v,t),c.querySelector(y)!==null||i==="style"&&c.querySelector(iu(v))||i==="script"&&c.querySelector(ru(v))||(i=c.createElement("link"),Tn(i,"link",t),$t(i),c.head.appendChild(i)))}}function WE(t,i){Xr.m(t,i);var l=Ml;if(l&&t){var c=i&&typeof i.as=="string"?i.as:"script",y='link[rel="modulepreload"][as="'+zn(c)+'"][href="'+zn(t)+'"]',v=y;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Nl(t)}if(!wi.has(v)&&(t=_({rel:"modulepreload",href:t},i),wi.set(v,t),l.querySelector(y)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ru(v)))return}c=l.createElement("link"),Tn(c,"link",t),$t(c),l.head.appendChild(c)}}}function ZE(t,i,l){Xr.S(t,i,l);var c=Ml;if(c&&t){var y=ir(c).hoistableStyles,v=Dl(t);i=i||"default";var D=y.get(v);if(!D){var B={loading:0,preload:null};if(D=c.querySelector(iu(v)))B.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":i},l),(l=wi.get(v))&&dm(t,l);var Q=D=c.createElement("link");$t(Q),Tn(Q,"link",t),Q._p=new Promise(function(re,ue){Q.onload=re,Q.onerror=ue}),Q.addEventListener("load",function(){B.loading|=1}),Q.addEventListener("error",function(){B.loading|=2}),B.loading|=4,hf(D,i,c)}D={type:"stylesheet",instance:D,count:1,state:B},y.set(v,D)}}}function JE(t,i){Xr.X(t,i);var l=Ml;if(l&&t){var c=ir(l).hoistableScripts,y=Nl(t),v=c.get(y);v||(v=l.querySelector(ru(y)),v||(t=_({src:t,async:!0},i),(i=wi.get(y))&&mm(t,i),v=l.createElement("script"),$t(v),Tn(v,"link",t),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(y,v))}}function e2(t,i){Xr.M(t,i);var l=Ml;if(l&&t){var c=ir(l).hoistableScripts,y=Nl(t),v=c.get(y);v||(v=l.querySelector(ru(y)),v||(t=_({src:t,async:!0,type:"module"},i),(i=wi.get(y))&&mm(t,i),v=l.createElement("script"),$t(v),Tn(v,"link",t),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(y,v))}}function Iv(t,i,l,c){var y=(y=ge.current)?ff(y):null;if(!y)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Dl(l.href),l=ir(y).hoistableStyles,c=l.get(i),c||(c={type:"style",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=Dl(l.href);var v=ir(y).hoistableStyles,D=v.get(t);if(D||(y=y.ownerDocument||y,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(t,D),(v=y.querySelector(iu(t)))&&!v._p&&(D.instance=v,D.state.loading=5),wi.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},wi.set(t,l),v||t2(y,t,l,D.state))),i&&c===null)throw Error(r(528,""));return D}if(i&&c!==null)throw Error(r(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Nl(l),l=ir(y).hoistableScripts,c=l.get(i),c||(c={type:"script",instance:null,count:0,state:null},l.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Dl(t){return'href="'+zn(t)+'"'}function iu(t){return'link[rel="stylesheet"]['+t+"]"}function Ov(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function t2(t,i,l,c){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=t.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Tn(i,"link",l),$t(i),t.head.appendChild(i))}function Nl(t){return'[src="'+zn(t)+'"]'}function ru(t){return"script[async]"+t}function Vv(t,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var c=t.querySelector('style[data-href~="'+zn(l.href)+'"]');if(c)return i.instance=c,$t(c),c;var y=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),$t(c),Tn(c,"style",y),hf(c,l.precedence,t),i.instance=c;case"stylesheet":y=Dl(l.href);var v=t.querySelector(iu(y));if(v)return i.state.loading|=4,i.instance=v,$t(v),v;c=Ov(l),(y=wi.get(y))&&dm(c,y),v=(t.ownerDocument||t).createElement("link"),$t(v);var D=v;return D._p=new Promise(function(B,Q){D.onload=B,D.onerror=Q}),Tn(v,"link",c),i.state.loading|=4,hf(v,l.precedence,t),i.instance=v;case"script":return v=Nl(l.src),(y=t.querySelector(ru(v)))?(i.instance=y,$t(y),y):(c=l,(y=wi.get(v))&&(c=_({},l),mm(c,y)),t=t.ownerDocument||t,y=t.createElement("script"),$t(y),Tn(y,"link",c),t.head.appendChild(y),i.instance=y);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,hf(c,l.precedence,t));return i.instance}function hf(t,i,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=c.length?c[c.length-1]:null,v=y,D=0;D<c.length;D++){var B=c[D];if(B.dataset.precedence===i)v=B;else if(v!==y)break}v?v.parentNode.insertBefore(t,v.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(t,i.firstChild))}function dm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function mm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var df=null;function Pv(t,i,l){if(df===null){var c=new Map,y=df=new Map;y.set(l,c)}else y=df,c=y.get(l),c||(c=new Map,y.set(l,c));if(c.has(t))return c;for(c.set(t,null),l=l.getElementsByTagName(t),y=0;y<l.length;y++){var v=l[y];if(!(v[tr]||v[Kt]||t==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var D=v.getAttribute(i)||"";D=t+D;var B=c.get(D);B?B.push(v):c.set(D,[v])}}return c}function kv(t,i,l){t=t.ownerDocument||t,t.head.insertBefore(l,i==="title"?t.querySelector("head > title"):null)}function n2(t,i,l){if(l===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Lv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function i2(t,i,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=Dl(c.href),v=i.querySelector(iu(y));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=mf.bind(t),i.then(t,t)),l.state.loading|=4,l.instance=v,$t(v);return}v=i.ownerDocument||i,c=Ov(c),(y=wi.get(y))&&dm(c,y),v=v.createElement("link"),$t(v);var D=v;D._p=new Promise(function(B,Q){D.onload=B,D.onerror=Q}),Tn(v,"link",c),l.instance=v}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(t.count++,l=mf.bind(t),i.addEventListener("load",l),i.addEventListener("error",l))}}var gm=0;function r2(t,i){return t.stylesheets&&t.count===0&&pf(t,t.stylesheets),0<t.count||0<t.imgCount?function(l){var c=setTimeout(function(){if(t.stylesheets&&pf(t,t.stylesheets),t.unsuspend){var v=t.unsuspend;t.unsuspend=null,v()}},6e4+i);0<t.imgBytes&&gm===0&&(gm=62500*jE());var y=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&pf(t,t.stylesheets),t.unsuspend)){var v=t.unsuspend;t.unsuspend=null,v()}},(t.imgBytes>gm?50:800)+i);return t.unsuspend=l,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(y)}}:null}function mf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gf=null;function pf(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gf=new Map,i.forEach(s2,t),gf=null,mf.call(t))}function s2(t,i){if(!(i.state.loading&4)){var l=gf.get(t);if(l)var c=l.get(null);else{l=new Map,gf.set(t,l);for(var y=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var D=y[v];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(l.set(D.dataset.precedence,D),c=D)}c&&l.set(null,c)}y=i.instance,D=y.getAttribute("data-precedence"),v=l.get(D)||c,v===c&&l.set(null,y),l.set(D,y),this.count++,c=mf.bind(this),y.addEventListener("load",c),y.addEventListener("error",c),v?v.parentNode.insertBefore(y,v.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(y,t.firstChild)),i.state.loading|=4}}var su={$$typeof:z,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function a2(t,i,l,c,y,v,D,B,Q){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.hiddenUpdates=Ji(null),this.identifierPrefix=c,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function jv(t,i,l,c,y,v,D,B,Q,re,ue,de){return t=new a2(t,i,l,D,Q,re,ue,de,B),i=1,v===!0&&(i|=24),v=ti(3,null,null,i),t.current=v,v.stateNode=t,i=Xh(),i.refCount++,t.pooledCache=i,i.refCount++,v.memoizedState={element:c,isDehydrated:l,cache:i},Zh(v),t}function zv(t){return t?(t=ol,t):ol}function Bv(t,i,l,c,y,v){y=zv(y),c.context===null?c.context=y:c.pendingContext=y,c=ys(i),c.payload={element:l},v=v===void 0?null:v,v!==null&&(c.callback=v),l=vs(t,c,i),l!==null&&(Gn(l,t,i),Lo(l,t,i))}function Uv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<i?l:i}}function pm(t,i){Uv(t,i),(t=t.alternate)&&Uv(t,i)}function Fv(t){if(t.tag===13||t.tag===31){var i=ma(t,67108864);i!==null&&Gn(i,t,67108864),pm(t,67108864)}}function Hv(t){if(t.tag===13||t.tag===31){var i=ai();i=na(i);var l=ma(t,i);l!==null&&Gn(l,t,i),pm(t,i)}}var yf=!0;function l2(t,i,l,c){var y=q.T;q.T=null;var v=W.p;try{W.p=2,ym(t,i,l,c)}finally{W.p=v,q.T=y}}function o2(t,i,l,c){var y=q.T;q.T=null;var v=W.p;try{W.p=8,ym(t,i,l,c)}finally{W.p=v,q.T=y}}function ym(t,i,l,c){if(yf){var y=vm(c);if(y===null)im(t,i,c,vf,l),Gv(t,c);else if(c2(y,t,i,l,c))c.stopPropagation();else if(Gv(t,c),i&4&&-1<u2.indexOf(t)){for(;y!==null;){var v=gi(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var D=Wi(v.pendingLanes);if(D!==0){var B=v;for(B.pendingLanes|=2,B.entangledLanes|=2;D;){var Q=1<<31-Bt(D);B.entanglements[1]|=Q,D&=~Q}pr(v),(ot&6)===0&&(Jc=Te()+500,Jo(0))}}break;case 31:case 13:B=ma(v,2),B!==null&&Gn(B,v,2),tf(),pm(v,2)}if(v=vm(c),v===null&&im(t,i,c,vf,l),v===y)break;y=v}y!==null&&c.stopPropagation()}else im(t,i,c,null,l)}}function vm(t){return t=pi(t),_m(t)}var vf=null;function _m(t){if(vf=null,t=nr(t),t!==null){var i=a(t);if(i===null)t=null;else{var l=i.tag;if(l===13){if(t=u(i),t!==null)return t;t=null}else if(l===31){if(t=f(i),t!==null)return t;t=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return vf=t,null}function qv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rt()){case ft:return 2;case Et:return 8;case _t:case Ct:return 32;case cn:return 268435456;default:return 32}default:return 32}}var xm=!1,Ms=null,Ds=null,Ns=null,au=new Map,lu=new Map,Is=[],u2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gv(t,i){switch(t){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":au.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":lu.delete(i.pointerId)}}function ou(t,i,l,c,y,v){return t===null||t.nativeEvent!==v?(t={blockedOn:i,domEventName:l,eventSystemFlags:c,nativeEvent:v,targetContainers:[y]},i!==null&&(i=gi(i),i!==null&&Fv(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,y!==null&&i.indexOf(y)===-1&&i.push(y),t)}function c2(t,i,l,c,y){switch(i){case"focusin":return Ms=ou(Ms,t,i,l,c,y),!0;case"dragenter":return Ds=ou(Ds,t,i,l,c,y),!0;case"mouseover":return Ns=ou(Ns,t,i,l,c,y),!0;case"pointerover":var v=y.pointerId;return au.set(v,ou(au.get(v)||null,t,i,l,c,y)),!0;case"gotpointercapture":return v=y.pointerId,lu.set(v,ou(lu.get(v)||null,t,i,l,c,y)),!0}return!1}function Yv(t){var i=nr(t.target);if(i!==null){var l=a(i);if(l!==null){if(i=l.tag,i===13){if(i=u(l),i!==null){t.blockedOn=i,ji(t.priority,function(){Hv(l)});return}}else if(i===31){if(i=f(l),i!==null){t.blockedOn=i,ji(t.priority,function(){Hv(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _f(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var l=vm(t.nativeEvent);if(l===null){l=t.nativeEvent;var c=new l.constructor(l.type,l);So=c,l.target.dispatchEvent(c),So=null}else return i=gi(l),i!==null&&Fv(i),t.blockedOn=l,!1;i.shift()}return!0}function Qv(t,i,l){_f(t)&&l.delete(i)}function f2(){xm=!1,Ms!==null&&_f(Ms)&&(Ms=null),Ds!==null&&_f(Ds)&&(Ds=null),Ns!==null&&_f(Ns)&&(Ns=null),au.forEach(Qv),lu.forEach(Qv)}function xf(t,i){t.blockedOn===i&&(t.blockedOn=null,xm||(xm=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,f2)))}var Sf=null;function Xv(t){Sf!==t&&(Sf=t,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Sf===t&&(Sf=null);for(var i=0;i<t.length;i+=3){var l=t[i],c=t[i+1],y=t[i+2];if(typeof c!="function"){if(_m(c||l)===null)continue;break}var v=gi(l);v!==null&&(t.splice(i,3),i-=3,vd(v,{pending:!0,data:y,method:l.method,action:c},c,y))}}))}function Il(t){function i(Q){return xf(Q,t)}Ms!==null&&xf(Ms,t),Ds!==null&&xf(Ds,t),Ns!==null&&xf(Ns,t),au.forEach(i),lu.forEach(i);for(var l=0;l<Is.length;l++){var c=Is[l];c.blockedOn===t&&(c.blockedOn=null)}for(;0<Is.length&&(l=Is[0],l.blockedOn===null);)Yv(l),l.blockedOn===null&&Is.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var y=l[c],v=l[c+1],D=y[fn]||null;if(typeof v=="function")D||Xv(l);else if(D){var B=null;if(v&&v.hasAttribute("formAction")){if(y=v,D=v[fn]||null)B=D.formAction;else if(_m(y)!==null)continue}else B=D.action;typeof B=="function"?l[c+1]=B:(l.splice(c,3),c-=3),Xv(l)}}}function Kv(){function t(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(D){return y=D})},focusReset:"manual",scroll:"manual"})}function i(){y!==null&&(y(),y=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,y=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),y!==null&&(y(),y=null)}}}function Sm(t){this._internalRoot=t}Tf.prototype.render=Sm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var l=i.current,c=ai();Bv(l,c,t,i,null,null)},Tf.prototype.unmount=Sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Bv(t.current,2,null,t,null,null),tf(),i[er]=null}};function Tf(t){this._internalRoot=t}Tf.prototype.unstable_scheduleHydration=function(t){if(t){var i=tc();t={blockedOn:null,target:t,priority:i};for(var l=0;l<Is.length&&i!==0&&i<Is[l].priority;l++);Is.splice(l,0,t),l===0&&Yv(t)}};var $v=e.version;if($v!=="19.2.0")throw Error(r(527,$v,"19.2.0"));W.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=d(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var h2={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ef.isDisabled&&Ef.supportsFiber)try{Cn=Ef.inject(h2),Qt=Ef}catch{}}return cu.createRoot=function(t,i){if(!s(t))throw Error(r(299));var l=!1,c="",y=iy,v=ry,D=sy;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(y=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(D=i.onRecoverableError)),i=jv(t,1,!1,null,null,l,c,null,y,v,D,Kv),t[er]=i.current,nm(t),new Sm(i)},cu.hydrateRoot=function(t,i,l){if(!s(t))throw Error(r(299));var c=!1,y="",v=iy,D=ry,B=sy,Q=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(D=l.onCaughtError),l.onRecoverableError!==void 0&&(B=l.onRecoverableError),l.formState!==void 0&&(Q=l.formState)),i=jv(t,1,!0,i,l??null,c,y,Q,v,D,B,Kv),i.context=zv(null),l=i.current,c=ai(),c=na(c),y=ys(c),y.callback=null,vs(l,y,c),l=c,i.current.lanes=l,ea(i,l),pr(i),t[er]=i.current,nm(t),new Tf(i)},cu.version="19.2.0",cu}var l_;function E2(){if(l_)return bm.exports;l_=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),bm.exports=T2(),bm.exports}var b2=E2();const A2="modulepreload",w2=function(o){return"/drive-car/"+o},o_={},ut=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let d=function(g){return Promise.all(g.map(_=>Promise.resolve(_).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var u=d;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),h=f?.nonce||f?.getAttribute("nonce");s=d(n.map(g=>{if(g=w2(g),g in o_)return;o_[g]=!0;const _=g.endsWith(".css"),x=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${x}`))return;const p=document.createElement("link");if(p.rel=_?"stylesheet":A2,_||(p.as="script"),p.crossOrigin="",p.href=g,h&&p.setAttribute("nonce",h),document.head.appendChild(p),_)return new Promise((T,S)=>{p.addEventListener("load",T),p.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${g}`)))})}))}function a(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return s.then(f=>{for(const h of f||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})},B1=(o,e,n)=>{const r=o[e];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((s,a)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})};const R2=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),C2=o=>o.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),u_=o=>{const e=C2(o);return e.charAt(0).toUpperCase()+e.slice(1)},U1=(...o)=>o.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),M2=o=>{for(const e in o)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var D2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const N2=ae.forwardRef(({color:o="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:u,...f},h)=>ae.createElement("svg",{ref:h,...D2,width:e,height:e,stroke:o,strokeWidth:r?Number(n)*24/Number(e):n,className:U1("lucide",s),...!a&&!M2(f)&&{"aria-hidden":"true"},...f},[...u.map(([d,g])=>ae.createElement(d,g)),...Array.isArray(a)?a:[a]]));const Yt=(o,e)=>{const n=ae.forwardRef(({className:r,...s},a)=>ae.createElement(N2,{ref:a,iconNode:e,className:U1(`lucide-${R2(u_(o))}`,`lucide-${o}`,r),...s}));return n.displayName=u_(o),n};const I2=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],O2=Yt("car",I2);const V2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],P2=Yt("chevron-down",V2);const k2=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],L2=Yt("chevron-left",k2);const j2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],z2=Yt("chevron-right",j2);const B2=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],U2=Yt("chevron-up",B2);const F2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],H2=Yt("circle-x",F2);const q2=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],G2=Yt("gauge",q2);const Y2=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Ng=Yt("house",Y2);const Q2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],c_=Yt("info",Q2);const X2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],K2=Yt("lock",X2);const $2=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],W2=Yt("pause",$2);const Z2=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],F1=Yt("play",Z2);const J2=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ig=Yt("rotate-ccw",J2);const eb=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],H1=Yt("settings",eb);const tb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],nb=Yt("square",tb);const ib=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],q1=Yt("star",ib);const rb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],sb=Yt("target",rb);const ab=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],lb=Yt("timer",ab);const ob=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],G1=Yt("trophy",ob);const ub=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],cb=Yt("volume-2",ub);const fb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hb=Yt("x",fb);function Kr(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function Y1(o,e){o.prototype=Object.create(e.prototype),o.prototype.constructor=o,o.__proto__=e}var ci={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Yl={duration:.5,overwrite:!1,delay:0},Og,An,Nt,Oi=1e8,Tt=1/Oi,Xm=Math.PI*2,db=Xm/4,mb=0,Q1=Math.sqrt,gb=Math.cos,pb=Math.sin,pn=function(e){return typeof e=="string"},zt=function(e){return typeof e=="function"},Zr=function(e){return typeof e=="number"},Vg=function(e){return typeof e>"u"},wr=function(e){return typeof e=="object"},Qn=function(e){return e!==!1},Pg=function(){return typeof window<"u"},bf=function(e){return zt(e)||pn(e)},X1=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Vn=Array.isArray,Km=/(?:-?\.?\d|\.)+/gi,K1=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,zl=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Cm=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,$1=/[+-]=-?[.\d]+/,W1=/[^,'"\[\]\s]+/gi,yb=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ot,yr,$m,kg,fi={},Bf={},Z1,J1=function(e){return(Bf=Ql(e,fi))&&Wn},Lg=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},Cu=function(e,n){return!n&&console.warn(e)},ex=function(e,n){return e&&(fi[e]=n)&&Bf&&(Bf[e]=n)||fi},Mu=function(){return 0},vb={suppressEvents:!0,isStart:!0,kill:!1},Df={suppressEvents:!0,kill:!1},_b={suppressEvents:!0},jg={},js=[],Wm={},tx,li={},Mm={},f_=30,Nf=[],zg="",Bg=function(e){var n=e[0],r,s;if(wr(n)||zt(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(s=Nf.length;s--&&!Nf[s].targetTest(n););r=Nf[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new Ax(e[s],r)))||e.splice(s,1);return e},Oa=function(e){return e._gsap||Bg(Vi(e))[0]._gsap},nx=function(e,n,r){return(r=e[n])&&zt(r)?e[n]():Vg(r)&&e.getAttribute&&e.getAttribute(n)||r},Xn=function(e,n){return(e=e.split(",")).forEach(n)||e},qt=function(e){return Math.round(e*1e5)/1e5||0},sn=function(e){return Math.round(e*1e7)/1e7||0},Ul=function(e,n){var r=n.charAt(0),s=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+s:r==="-"?e-s:r==="*"?e*s:e/s},xb=function(e,n){for(var r=n.length,s=0;e.indexOf(n[s])<0&&++s<r;);return s<r},Uf=function(){var e=js.length,n=js.slice(0),r,s;for(Wm={},js.length=0,r=0;r<e;r++)s=n[r],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},Ug=function(e){return!!(e._initted||e._startAt||e.add)},ix=function(e,n,r,s){js.length&&!An&&Uf(),e.render(n,r,!!(An&&n<0&&Ug(e))),js.length&&!An&&Uf()},rx=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(W1).length<2?n:pn(e)?e.trim():e},sx=function(e){return e},hi=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},Sb=function(e){return function(n,r){for(var s in r)s in n||s==="duration"&&e||s==="ease"||(n[s]=r[s])}},Ql=function(e,n){for(var r in n)e[r]=n[r];return e},h_=function o(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=wr(n[r])?o(e[r]||(e[r]={}),n[r]):n[r]);return e},Ff=function(e,n){var r={},s;for(s in e)s in n||(r[s]=e[s]);return r},_u=function(e){var n=e.parent||Ot,r=e.keyframes?Sb(Vn(e.keyframes)):hi;if(Qn(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},Tb=function(e,n){for(var r=e.length,s=r===n.length;s&&r--&&e[r]===n[r];);return r<0},ax=function(e,n,r,s,a){var u=e[s],f;if(a)for(f=n[a];u&&u[a]>f;)u=u._prev;return u?(n._next=u._next,u._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[s]=n,n._prev=u,n.parent=n._dp=e,n},ch=function(e,n,r,s){r===void 0&&(r="_first"),s===void 0&&(s="_last");var a=n._prev,u=n._next;a?a._next=u:e[r]===n&&(e[r]=u),u?u._prev=a:e[s]===n&&(e[s]=a),n._next=n._prev=n.parent=null},qs=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Va=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},Eb=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},Zm=function(e,n,r,s){return e._startAt&&(An?e._startAt.revert(Df):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,s))},bb=function o(e){return!e||e._ts&&o(e.parent)},d_=function(e){return e._repeat?Xl(e._tTime,e=e.duration()+e._rDelay)*e:0},Xl=function(e,n){var r=Math.floor(e=sn(e/n));return e&&r===e?r-1:r},Hf=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},fh=function(e){return e._end=sn(e._start+(e._tDur/Math.abs(e._ts||e._rts||Tt)||0))},hh=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=sn(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),fh(e),r._dirty||Va(r,e)),e},lx=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=Hf(e.rawTime(),n),(!n._dur||Yu(0,n.totalDuration(),r)-n._tTime>Tt)&&n.render(r,!0)),Va(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Tt}},xr=function(e,n,r,s){return n.parent&&qs(n),n._start=sn((Zr(r)?r:r||e!==Ot?Ci(e,r,n):e._time)+n._delay),n._end=sn(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),ax(e,n,"_first","_last",e._sort?"_start":0),Jm(n)||(e._recent=n),s||lx(e,n),e._ts<0&&hh(e,e._tTime),e},ox=function(e,n){return(fi.ScrollTrigger||Lg("scrollTrigger",n))&&fi.ScrollTrigger.create(n,e)},ux=function(e,n,r,s,a){if(Hg(e,n,a),!e._initted)return 1;if(!r&&e._pt&&!An&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&tx!==oi.frame)return js.push(e),e._lazy=[a,s],1},Ab=function o(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||o(n))},Jm=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},wb=function(e,n,r,s){var a=e.ratio,u=n<0||!n&&(!e._start&&Ab(e)&&!(!e._initted&&Jm(e))||(e._ts<0||e._dp._ts<0)&&!Jm(e))?0:1,f=e._rDelay,h=0,d,g,_;if(f&&e._repeat&&(h=Yu(0,e._tDur,n),g=Xl(h,f),e._yoyo&&g&1&&(u=1-u),g!==Xl(e._tTime,f)&&(a=1-u,e.vars.repeatRefresh&&e._initted&&e.invalidate())),u!==a||An||s||e._zTime===Tt||!n&&e._zTime){if(!e._initted&&ux(e,n,s,r,h))return;for(_=e._zTime,e._zTime=n||(r?Tt:0),r||(r=n&&!_),e.ratio=u,e._from&&(u=1-u),e._time=0,e._tTime=h,d=e._pt;d;)d.r(u,d.d),d=d._next;n<0&&Zm(e,n,r,!0),e._onUpdate&&!r&&ui(e,"onUpdate"),h&&e._repeat&&!r&&e.parent&&ui(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===u&&(u&&qs(e,1),!r&&!An&&(ui(e,u?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},Rb=function(e,n,r){var s;if(r>n)for(s=e._first;s&&s._start<=r;){if(s.data==="isPause"&&s._start>n)return s;s=s._next}else for(s=e._last;s&&s._start>=r;){if(s.data==="isPause"&&s._start<n)return s;s=s._prev}},Kl=function(e,n,r,s){var a=e._repeat,u=sn(n)||0,f=e._tTime/e._tDur;return f&&!s&&(e._time*=u/e._dur),e._dur=u,e._tDur=a?a<0?1e10:sn(u*(a+1)+e._rDelay*a):u,f>0&&!s&&hh(e,e._tTime=e._tDur*f),e.parent&&fh(e),r||Va(e.parent,e),e},m_=function(e){return e instanceof jn?Va(e):Kl(e,e._dur)},Cb={_start:0,endTime:Mu,totalDuration:Mu},Ci=function o(e,n,r){var s=e.labels,a=e._recent||Cb,u=e.duration()>=Oi?a.endTime(!1):e._dur,f,h,d;return pn(n)&&(isNaN(n)||n in s)?(h=n.charAt(0),d=n.substr(-1)==="%",f=n.indexOf("="),h==="<"||h===">"?(f>=0&&(n=n.replace(/=/,"")),(h==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(n.substr(1))||0)*(d?(f<0?a:r).totalDuration()/100:1)):f<0?(n in s||(s[n]=u),s[n]):(h=parseFloat(n.charAt(f-1)+n.substr(f+1)),d&&r&&(h=h/100*(Vn(r)?r[0]:r).totalDuration()),f>1?o(e,n.substr(0,f-1),r)+h:u+h)):n==null?u:+n},xu=function(e,n,r){var s=Zr(n[1]),a=(s?2:1)+(e<2?0:1),u=n[a],f,h;if(s&&(u.duration=n[1]),u.parent=r,e){for(f=u,h=r;h&&!("immediateRender"in f);)f=h.vars.defaults||{},h=Qn(h.vars.inherit)&&h.parent;u.immediateRender=Qn(f.immediateRender),e<2?u.runBackwards=1:u.startAt=n[a-1]}return new rn(n[0],u,n[a+1])},Zs=function(e,n){return e||e===0?n(e):n},Yu=function(e,n,r){return r<e?e:r>n?n:r},On=function(e,n){return!pn(e)||!(n=yb.exec(e))?"":n[1]},Mb=function(e,n,r){return Zs(r,function(s){return Yu(e,n,s)})},eg=[].slice,cx=function(e,n){return e&&wr(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&wr(e[0]))&&!e.nodeType&&e!==yr},Db=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(s){var a;return pn(s)&&!n||cx(s,1)?(a=r).push.apply(a,Vi(s)):r.push(s)})||r},Vi=function(e,n,r){return Nt&&!n&&Nt.selector?Nt.selector(e):pn(e)&&!r&&($m||!$l())?eg.call((n||kg).querySelectorAll(e),0):Vn(e)?Db(e,r):cx(e)?eg.call(e,0):e?[e]:[]},tg=function(e){return e=Vi(e)[0]||Cu("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return Vi(n,r.querySelectorAll?r:r===e?Cu("Invalid scope")||kg.createElement("div"):e)}},fx=function(e){return e.sort(function(){return .5-Math.random()})},hx=function(e){if(zt(e))return e;var n=wr(e)?e:{each:e},r=Pa(n.ease),s=n.from||0,a=parseFloat(n.base)||0,u={},f=s>0&&s<1,h=isNaN(s)||f,d=n.axis,g=s,_=s;return pn(s)?g=_={center:.5,edges:.5,end:1}[s]||0:!f&&h&&(g=s[0],_=s[1]),function(x,p,T){var S=(T||n).length,E=u[S],V,L,z,U,N,j,R,b,C;if(!E){if(C=n.grid==="auto"?0:(n.grid||[1,Oi])[1],!C){for(R=-Oi;R<(R=T[C++].getBoundingClientRect().left)&&C<S;);C<S&&C--}for(E=u[S]=[],V=h?Math.min(C,S)*g-.5:s%C,L=C===Oi?0:h?S*_/C-.5:s/C|0,R=0,b=Oi,j=0;j<S;j++)z=j%C-V,U=L-(j/C|0),E[j]=N=d?Math.abs(d==="y"?U:z):Q1(z*z+U*U),N>R&&(R=N),N<b&&(b=N);s==="random"&&fx(E),E.max=R-b,E.min=b,E.v=S=(parseFloat(n.amount)||parseFloat(n.each)*(C>S?S-1:d?d==="y"?S/C:C:Math.max(C,S/C))||0)*(s==="edges"?-1:1),E.b=S<0?a-S:a,E.u=On(n.amount||n.each)||0,r=r&&S<0?Tx(r):r}return S=(E[x]-E.min)/E.max||0,sn(E.b+(r?r(S):S)*E.v)+E.u}},ng=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var s=sn(Math.round(parseFloat(r)/e)*e*n);return(s-s%1)/n+(Zr(r)?0:On(r))}},dx=function(e,n){var r=Vn(e),s,a;return!r&&wr(e)&&(s=r=e.radius||Oi,e.values?(e=Vi(e.values),(a=!Zr(e[0]))&&(s*=s)):e=ng(e.increment)),Zs(n,r?zt(e)?function(u){return a=e(u),Math.abs(a-u)<=s?a:u}:function(u){for(var f=parseFloat(a?u.x:u),h=parseFloat(a?u.y:0),d=Oi,g=0,_=e.length,x,p;_--;)a?(x=e[_].x-f,p=e[_].y-h,x=x*x+p*p):x=Math.abs(e[_]-f),x<d&&(d=x,g=_);return g=!s||d<=s?e[g]:u,a||g===u||Zr(u)?g:g+On(u)}:ng(e))},mx=function(e,n,r,s){return Zs(Vn(e)?!n:r===!0?!!(r=0):!s,function(){return Vn(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(s=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*s)/s})},Nb=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(s){return n.reduce(function(a,u){return u(a)},s)}},Ib=function(e,n){return function(r){return e(parseFloat(r))+(n||On(r))}},Ob=function(e,n,r){return px(e,n,0,1,r)},gx=function(e,n,r){return Zs(r,function(s){return e[~~n(s)]})},Vb=function o(e,n,r){var s=n-e;return Vn(e)?gx(e,o(0,e.length),n):Zs(r,function(a){return(s+(a-e)%s)%s+e})},Pb=function o(e,n,r){var s=n-e,a=s*2;return Vn(e)?gx(e,o(0,e.length-1),n):Zs(r,function(u){return u=(a+(u-e)%a)%a||0,e+(u>s?a-u:u)})},Du=function(e){for(var n=0,r="",s,a,u,f;~(s=e.indexOf("random(",n));)u=e.indexOf(")",s),f=e.charAt(s+7)==="[",a=e.substr(s+7,u-s-7).match(f?W1:Km),r+=e.substr(n,s-n)+mx(f?a:+a[0],f?0:+a[1],+a[2]||1e-5),n=u+1;return r+e.substr(n,e.length-n)},px=function(e,n,r,s,a){var u=n-e,f=s-r;return Zs(a,function(h){return r+((h-e)/u*f||0)})},kb=function o(e,n,r,s){var a=isNaN(e+n)?0:function(p){return(1-p)*e+p*n};if(!a){var u=pn(e),f={},h,d,g,_,x;if(r===!0&&(s=1)&&(r=null),u)e={p:e},n={p:n};else if(Vn(e)&&!Vn(n)){for(g=[],_=e.length,x=_-2,d=1;d<_;d++)g.push(o(e[d-1],e[d]));_--,a=function(T){T*=_;var S=Math.min(x,~~T);return g[S](T-S)},r=n}else s||(e=Ql(Vn(e)?[]:{},e));if(!g){for(h in n)Fg.call(f,e,h,"get",n[h]);a=function(T){return Yg(T,f)||(u?e.p:e)}}}return Zs(r,a)},g_=function(e,n,r){var s=e.labels,a=Oi,u,f,h;for(u in s)f=s[u]-n,f<0==!!r&&f&&a>(f=Math.abs(f))&&(h=u,a=f);return h},ui=function(e,n,r){var s=e.vars,a=s[n],u=Nt,f=e._ctx,h,d,g;if(a)return h=s[n+"Params"],d=s.callbackScope||e,r&&js.length&&Uf(),f&&(Nt=f),g=h?a.apply(d,h):a.call(d),Nt=u,g},hu=function(e){return qs(e),e.scrollTrigger&&e.scrollTrigger.kill(!!An),e.progress()<1&&ui(e,"onInterrupt"),e},Bl,yx=[],vx=function(e){if(e)if(e=!e.name&&e.default||e,Pg()||e.headless){var n=e.name,r=zt(e),s=n&&!r&&e.init?function(){this._props=[]}:e,a={init:Mu,render:Yg,add:Fg,kill:Zb,modifier:Wb,rawVars:0},u={targetTest:0,get:0,getSetter:Gg,aliases:{},register:0};if($l(),e!==s){if(li[n])return;hi(s,hi(Ff(e,a),u)),Ql(s.prototype,Ql(a,Ff(e,u))),li[s.prop=n]=s,e.targetTest&&(Nf.push(s),jg[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}ex(n,s),e.register&&e.register(Wn,s,Kn)}else yx.push(e)},St=255,du={aqua:[0,St,St],lime:[0,St,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,St],navy:[0,0,128],white:[St,St,St],olive:[128,128,0],yellow:[St,St,0],orange:[St,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[St,0,0],pink:[St,192,203],cyan:[0,St,St],transparent:[St,St,St,0]},Dm=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*St+.5|0},_x=function(e,n,r){var s=e?Zr(e)?[e>>16,e>>8&St,e&St]:0:du.black,a,u,f,h,d,g,_,x,p,T;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),du[e])s=du[e];else if(e.charAt(0)==="#"){if(e.length<6&&(a=e.charAt(1),u=e.charAt(2),f=e.charAt(3),e="#"+a+a+u+u+f+f+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&St,s&St,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&St,e&St]}else if(e.substr(0,3)==="hsl"){if(s=T=e.match(Km),!n)h=+s[0]%360/360,d=+s[1]/100,g=+s[2]/100,u=g<=.5?g*(d+1):g+d-g*d,a=g*2-u,s.length>3&&(s[3]*=1),s[0]=Dm(h+1/3,a,u),s[1]=Dm(h,a,u),s[2]=Dm(h-1/3,a,u);else if(~e.indexOf("="))return s=e.match(K1),r&&s.length<4&&(s[3]=1),s}else s=e.match(Km)||du.transparent;s=s.map(Number)}return n&&!T&&(a=s[0]/St,u=s[1]/St,f=s[2]/St,_=Math.max(a,u,f),x=Math.min(a,u,f),g=(_+x)/2,_===x?h=d=0:(p=_-x,d=g>.5?p/(2-_-x):p/(_+x),h=_===a?(u-f)/p+(u<f?6:0):_===u?(f-a)/p+2:(a-u)/p+4,h*=60),s[0]=~~(h+.5),s[1]=~~(d*100+.5),s[2]=~~(g*100+.5)),r&&s.length<4&&(s[3]=1),s},xx=function(e){var n=[],r=[],s=-1;return e.split(zs).forEach(function(a){var u=a.match(zl)||[];n.push.apply(n,u),r.push(s+=u.length+1)}),n.c=r,n},p_=function(e,n,r){var s="",a=(e+s).match(zs),u=n?"hsla(":"rgba(",f=0,h,d,g,_;if(!a)return e;if(a=a.map(function(x){return(x=_x(x,n,1))&&u+(n?x[0]+","+x[1]+"%,"+x[2]+"%,"+x[3]:x.join(","))+")"}),r&&(g=xx(e),h=r.c,h.join(s)!==g.c.join(s)))for(d=e.replace(zs,"1").split(zl),_=d.length-1;f<_;f++)s+=d[f]+(~h.indexOf(f)?a.shift()||u+"0,0,0,0)":(g.length?g:a.length?a:r).shift());if(!d)for(d=e.split(zs),_=d.length-1;f<_;f++)s+=d[f]+a[f];return s+d[_]},zs=(function(){var o="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in du)o+="|"+e+"\\b";return new RegExp(o+")","gi")})(),Lb=/hsl[a]?\(/,Sx=function(e){var n=e.join(" "),r;if(zs.lastIndex=0,zs.test(n))return r=Lb.test(n),e[1]=p_(e[1],r),e[0]=p_(e[0],r,xx(e[1])),!0},Nu,oi=(function(){var o=Date.now,e=500,n=33,r=o(),s=r,a=1e3/240,u=a,f=[],h,d,g,_,x,p,T=function S(E){var V=o()-s,L=E===!0,z,U,N,j;if((V>e||V<0)&&(r+=V-n),s+=V,N=s-r,z=N-u,(z>0||L)&&(j=++_.frame,x=N-_.time*1e3,_.time=N=N/1e3,u+=z+(z>=a?4:a-z),U=1),L||(h=d(S)),U)for(p=0;p<f.length;p++)f[p](N,x,j,E)};return _={time:0,frame:0,tick:function(){T(!0)},deltaRatio:function(E){return x/(1e3/(E||60))},wake:function(){Z1&&(!$m&&Pg()&&(yr=$m=window,kg=yr.document||{},fi.gsap=Wn,(yr.gsapVersions||(yr.gsapVersions=[])).push(Wn.version),J1(Bf||yr.GreenSockGlobals||!yr.gsap&&yr||{}),yx.forEach(vx)),g=typeof requestAnimationFrame<"u"&&requestAnimationFrame,h&&_.sleep(),d=g||function(E){return setTimeout(E,u-_.time*1e3+1|0)},Nu=1,T(2))},sleep:function(){(g?cancelAnimationFrame:clearTimeout)(h),Nu=0,d=Mu},lagSmoothing:function(E,V){e=E||1/0,n=Math.min(V||33,e)},fps:function(E){a=1e3/(E||240),u=_.time*1e3+a},add:function(E,V,L){var z=V?function(U,N,j,R){E(U,N,j,R),_.remove(z)}:E;return _.remove(E),f[L?"unshift":"push"](z),$l(),z},remove:function(E,V){~(V=f.indexOf(E))&&f.splice(V,1)&&p>=V&&p--},_listeners:f},_})(),$l=function(){return!Nu&&oi.wake()},et={},jb=/^[\d.\-M][\d.\-,\s]/,zb=/["']/g,Bb=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),s=r[0],a=1,u=r.length,f,h,d;a<u;a++)h=r[a],f=a!==u-1?h.lastIndexOf(","):h.length,d=h.substr(0,f),n[s]=isNaN(d)?d.replace(zb,"").trim():+d,s=h.substr(f+1).trim();return n},Ub=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),s=e.indexOf("(",n);return e.substring(n,~s&&s<r?e.indexOf(")",r+1):r)},Fb=function(e){var n=(e+"").split("("),r=et[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[Bb(n[1])]:Ub(e).split(",").map(rx)):et._CE&&jb.test(e)?et._CE("",e):r},Tx=function(e){return function(n){return 1-e(1-n)}},Ex=function o(e,n){for(var r=e._first,s;r;)r instanceof jn?o(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?o(r.timeline,n):(s=r._ease,r._ease=r._yEase,r._yEase=s,r._yoyo=n)),r=r._next},Pa=function(e,n){return e&&(zt(e)?e:et[e]||Fb(e))||n},Ua=function(e,n,r,s){r===void 0&&(r=function(h){return 1-n(1-h)}),s===void 0&&(s=function(h){return h<.5?n(h*2)/2:1-n((1-h)*2)/2});var a={easeIn:n,easeOut:r,easeInOut:s},u;return Xn(e,function(f){et[f]=fi[f]=a,et[u=f.toLowerCase()]=r;for(var h in a)et[u+(h==="easeIn"?".in":h==="easeOut"?".out":".inOut")]=et[f+"."+h]=a[h]}),a},bx=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},Nm=function o(e,n,r){var s=n>=1?n:1,a=(r||(e?.3:.45))/(n<1?n:1),u=a/Xm*(Math.asin(1/s)||0),f=function(g){return g===1?1:s*Math.pow(2,-10*g)*pb((g-u)*a)+1},h=e==="out"?f:e==="in"?function(d){return 1-f(1-d)}:bx(f);return a=Xm/a,h.config=function(d,g){return o(e,d,g)},h},Im=function o(e,n){n===void 0&&(n=1.70158);var r=function(u){return u?--u*u*((n+1)*u+n)+1:0},s=e==="out"?r:e==="in"?function(a){return 1-r(1-a)}:bx(r);return s.config=function(a){return o(e,a)},s};Xn("Linear,Quad,Cubic,Quart,Quint,Strong",function(o,e){var n=e<5?e+1:e;Ua(o+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});et.Linear.easeNone=et.none=et.Linear.easeIn;Ua("Elastic",Nm("in"),Nm("out"),Nm());(function(o,e){var n=1/e,r=2*n,s=2.5*n,a=function(f){return f<n?o*f*f:f<r?o*Math.pow(f-1.5/e,2)+.75:f<s?o*(f-=2.25/e)*f+.9375:o*Math.pow(f-2.625/e,2)+.984375};Ua("Bounce",function(u){return 1-a(1-u)},a)})(7.5625,2.75);Ua("Expo",function(o){return Math.pow(2,10*(o-1))*o+o*o*o*o*o*o*(1-o)});Ua("Circ",function(o){return-(Q1(1-o*o)-1)});Ua("Sine",function(o){return o===1?1:-gb(o*db)+1});Ua("Back",Im("in"),Im("out"),Im());et.SteppedEase=et.steps=fi.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,s=e+(n?0:1),a=n?1:0,u=1-Tt;return function(f){return((s*Yu(0,u,f)|0)+a)*r}}};Yl.ease=et["quad.out"];Xn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(o){return zg+=o+","+o+"Params,"});var Ax=function(e,n){this.id=mb++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:nx,this.set=n?n.getSetter:Gg},Iu=(function(){function o(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,Kl(this,+n.duration,1,1),this.data=n.data,Nt&&(this._ctx=Nt,Nt.data.push(this)),Nu||oi.wake()}var e=o.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,Kl(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,s){if($l(),!arguments.length)return this._tTime;var a=this._dp;if(a&&a.smoothChildTiming&&this._ts){for(hh(this,r),!a._dp||a.parent||lx(a,this);a&&a.parent;)a.parent._time!==a._start+(a._ts>=0?a._tTime/a._ts:(a.totalDuration()-a._tTime)/-a._ts)&&a.totalTime(a._tTime,!0),a=a.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&xr(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===Tt||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),ix(this,r,s)),this},e.time=function(r,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+d_(this))%(this._dur+this._rDelay)||(r?this._dur:0),s):this._time},e.totalProgress=function(r,s){return arguments.length?this.totalTime(this.totalDuration()*r,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+d_(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,s){var a=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*a,s):this._repeat?Xl(this._tTime,a)+1:1},e.timeScale=function(r,s){if(!arguments.length)return this._rts===-Tt?0:this._rts;if(this._rts===r)return this;var a=this.parent&&this._ts?Hf(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Tt?0:this._rts,this.totalTime(Yu(-Math.abs(this._delay),this.totalDuration(),a),s!==!1),fh(this),Eb(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):($l(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Tt&&(this._tTime-=Tt)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&xr(s,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(Qn(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var s=this.parent||this._dp;return s?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Hf(s.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=_b);var s=An;return An=r,Ug(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),An=s,this},e.globalTime=function(r){for(var s=this,a=arguments.length?r:s.rawTime();s;)a=s._start+a/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(r):a},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,m_(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var s=this._time;return this._rDelay=r,m_(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,s){return this.totalTime(Ci(this,r),Qn(s))},e.restart=function(r,s){return this.play().totalTime(r?-this._delay:0,Qn(s)),this._dur||(this._zTime=-Tt),this},e.play=function(r,s){return r!=null&&this.seek(r,s),this.reversed(!1).paused(!1)},e.reverse=function(r,s){return r!=null&&this.seek(r||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(r,s){return r!=null&&this.seek(r,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Tt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Tt,this},e.isActive=function(){var r=this.parent||this._dp,s=this._start,a;return!!(!r||this._ts&&this._initted&&r.isActive()&&(a=r.rawTime(!0))>=s&&a<this.endTime(!0)-Tt)},e.eventCallback=function(r,s,a){var u=this.vars;return arguments.length>1?(s?(u[r]=s,a&&(u[r+"Params"]=a),r==="onUpdate"&&(this._onUpdate=s)):delete u[r],this):u[r]},e.then=function(r){var s=this;return new Promise(function(a){var u=zt(r)?r:sx,f=function(){var d=s.then;s.then=null,zt(u)&&(u=u(s))&&(u.then||u===s)&&(s.then=d),a(u),s.then=d};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?f():s._prom=f})},e.kill=function(){hu(this)},o})();hi(Iu.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Tt,_prom:0,_ps:!1,_rts:1});var jn=(function(o){Y1(e,o);function e(r,s){var a;return r===void 0&&(r={}),a=o.call(this,r)||this,a.labels={},a.smoothChildTiming=!!r.smoothChildTiming,a.autoRemoveChildren=!!r.autoRemoveChildren,a._sort=Qn(r.sortChildren),Ot&&xr(r.parent||Ot,Kr(a),s),r.reversed&&a.reverse(),r.paused&&a.paused(!0),r.scrollTrigger&&ox(Kr(a),r.scrollTrigger),a}var n=e.prototype;return n.to=function(s,a,u){return xu(0,arguments,this),this},n.from=function(s,a,u){return xu(1,arguments,this),this},n.fromTo=function(s,a,u,f){return xu(2,arguments,this),this},n.set=function(s,a,u){return a.duration=0,a.parent=this,_u(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new rn(s,a,Ci(this,u),1),this},n.call=function(s,a,u){return xr(this,rn.delayedCall(0,s,a),u)},n.staggerTo=function(s,a,u,f,h,d,g){return u.duration=a,u.stagger=u.stagger||f,u.onComplete=d,u.onCompleteParams=g,u.parent=this,new rn(s,u,Ci(this,h)),this},n.staggerFrom=function(s,a,u,f,h,d,g){return u.runBackwards=1,_u(u).immediateRender=Qn(u.immediateRender),this.staggerTo(s,a,u,f,h,d,g)},n.staggerFromTo=function(s,a,u,f,h,d,g,_){return f.startAt=u,_u(f).immediateRender=Qn(f.immediateRender),this.staggerTo(s,a,f,h,d,g,_)},n.render=function(s,a,u){var f=this._time,h=this._dirty?this.totalDuration():this._tDur,d=this._dur,g=s<=0?0:sn(s),_=this._zTime<0!=s<0&&(this._initted||!d),x,p,T,S,E,V,L,z,U,N,j,R;if(this!==Ot&&g>h&&s>=0&&(g=h),g!==this._tTime||u||_){if(f!==this._time&&d&&(g+=this._time-f,s+=this._time-f),x=g,U=this._start,z=this._ts,V=!z,_&&(d||(f=this._zTime),(s||!a)&&(this._zTime=s)),this._repeat){if(j=this._yoyo,E=d+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(E*100+s,a,u);if(x=sn(g%E),g===h?(S=this._repeat,x=d):(N=sn(g/E),S=~~N,S&&S===N&&(x=d,S--),x>d&&(x=d)),N=Xl(this._tTime,E),!f&&this._tTime&&N!==S&&this._tTime-N*E-this._dur<=0&&(N=S),j&&S&1&&(x=d-x,R=1),S!==N&&!this._lock){var b=j&&N&1,C=b===(j&&S&1);if(S<N&&(b=!b),f=b?0:g%d?d:g,this._lock=1,this.render(f||(R?0:sn(S*E)),a,!d)._lock=0,this._tTime=g,!a&&this.parent&&ui(this,"onRepeat"),this.vars.repeatRefresh&&!R&&(this.invalidate()._lock=1),f&&f!==this._time||V!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,h=this._tDur,C&&(this._lock=2,f=b?d:-1e-4,this.render(f,!0),this.vars.repeatRefresh&&!R&&this.invalidate()),this._lock=0,!this._ts&&!V)return this;Ex(this,R)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(L=Rb(this,sn(f),sn(x)),L&&(g-=x-(x=L._start))),this._tTime=g,this._time=x,this._act=!z,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,f=0),!f&&g&&!a&&!N&&(ui(this,"onStart"),this._tTime!==g))return this;if(x>=f&&s>=0)for(p=this._first;p;){if(T=p._next,(p._act||x>=p._start)&&p._ts&&L!==p){if(p.parent!==this)return this.render(s,a,u);if(p.render(p._ts>0?(x-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(x-p._start)*p._ts,a,u),x!==this._time||!this._ts&&!V){L=0,T&&(g+=this._zTime=-Tt);break}}p=T}else{p=this._last;for(var w=s<0?s:x;p;){if(T=p._prev,(p._act||w<=p._end)&&p._ts&&L!==p){if(p.parent!==this)return this.render(s,a,u);if(p.render(p._ts>0?(w-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(w-p._start)*p._ts,a,u||An&&Ug(p)),x!==this._time||!this._ts&&!V){L=0,T&&(g+=this._zTime=w?-Tt:Tt);break}}p=T}}if(L&&!a&&(this.pause(),L.render(x>=f?0:-Tt)._zTime=x>=f?1:-1,this._ts))return this._start=U,fh(this),this.render(s,a,u);this._onUpdate&&!a&&ui(this,"onUpdate",!0),(g===h&&this._tTime>=this.totalDuration()||!g&&f)&&(U===this._start||Math.abs(z)!==Math.abs(this._ts))&&(this._lock||((s||!d)&&(g===h&&this._ts>0||!g&&this._ts<0)&&qs(this,1),!a&&!(s<0&&!f)&&(g||f||!h)&&(ui(this,g===h&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(g<h&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(s,a){var u=this;if(Zr(a)||(a=Ci(this,a,s)),!(s instanceof Iu)){if(Vn(s))return s.forEach(function(f){return u.add(f,a)}),this;if(pn(s))return this.addLabel(s,a);if(zt(s))s=rn.delayedCall(0,s);else return this}return this!==s?xr(this,s,a):this},n.getChildren=function(s,a,u,f){s===void 0&&(s=!0),a===void 0&&(a=!0),u===void 0&&(u=!0),f===void 0&&(f=-Oi);for(var h=[],d=this._first;d;)d._start>=f&&(d instanceof rn?a&&h.push(d):(u&&h.push(d),s&&h.push.apply(h,d.getChildren(!0,a,u)))),d=d._next;return h},n.getById=function(s){for(var a=this.getChildren(1,1,1),u=a.length;u--;)if(a[u].vars.id===s)return a[u]},n.remove=function(s){return pn(s)?this.removeLabel(s):zt(s)?this.killTweensOf(s):(s.parent===this&&ch(this,s),s===this._recent&&(this._recent=this._last),Va(this))},n.totalTime=function(s,a){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=sn(oi.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),o.prototype.totalTime.call(this,s,a),this._forcing=0,this):this._tTime},n.addLabel=function(s,a){return this.labels[s]=Ci(this,a),this},n.removeLabel=function(s){return delete this.labels[s],this},n.addPause=function(s,a,u){var f=rn.delayedCall(0,a||Mu,u);return f.data="isPause",this._hasPause=1,xr(this,f,Ci(this,s))},n.removePause=function(s){var a=this._first;for(s=Ci(this,s);a;)a._start===s&&a.data==="isPause"&&qs(a),a=a._next},n.killTweensOf=function(s,a,u){for(var f=this.getTweensOf(s,u),h=f.length;h--;)Vs!==f[h]&&f[h].kill(s,a);return this},n.getTweensOf=function(s,a){for(var u=[],f=Vi(s),h=this._first,d=Zr(a),g;h;)h instanceof rn?xb(h._targets,f)&&(d?(!Vs||h._initted&&h._ts)&&h.globalTime(0)<=a&&h.globalTime(h.totalDuration())>a:!a||h.isActive())&&u.push(h):(g=h.getTweensOf(f,a)).length&&u.push.apply(u,g),h=h._next;return u},n.tweenTo=function(s,a){a=a||{};var u=this,f=Ci(u,s),h=a,d=h.startAt,g=h.onStart,_=h.onStartParams,x=h.immediateRender,p,T=rn.to(u,hi({ease:a.ease||"none",lazy:!1,immediateRender:!1,time:f,overwrite:"auto",duration:a.duration||Math.abs((f-(d&&"time"in d?d.time:u._time))/u.timeScale())||Tt,onStart:function(){if(u.pause(),!p){var E=a.duration||Math.abs((f-(d&&"time"in d?d.time:u._time))/u.timeScale());T._dur!==E&&Kl(T,E,0,1).render(T._time,!0,!0),p=1}g&&g.apply(T,_||[])}},a));return x?T.render(0):T},n.tweenFromTo=function(s,a,u){return this.tweenTo(a,hi({startAt:{time:Ci(this,s)}},u))},n.recent=function(){return this._recent},n.nextLabel=function(s){return s===void 0&&(s=this._time),g_(this,Ci(this,s))},n.previousLabel=function(s){return s===void 0&&(s=this._time),g_(this,Ci(this,s),1)},n.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+Tt)},n.shiftChildren=function(s,a,u){u===void 0&&(u=0);for(var f=this._first,h=this.labels,d;f;)f._start>=u&&(f._start+=s,f._end+=s),f=f._next;if(a)for(d in h)h[d]>=u&&(h[d]+=s);return Va(this)},n.invalidate=function(s){var a=this._first;for(this._lock=0;a;)a.invalidate(s),a=a._next;return o.prototype.invalidate.call(this,s)},n.clear=function(s){s===void 0&&(s=!0);for(var a=this._first,u;a;)u=a._next,this.remove(a),a=u;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),Va(this)},n.totalDuration=function(s){var a=0,u=this,f=u._last,h=Oi,d,g,_;if(arguments.length)return u.timeScale((u._repeat<0?u.duration():u.totalDuration())/(u.reversed()?-s:s));if(u._dirty){for(_=u.parent;f;)d=f._prev,f._dirty&&f.totalDuration(),g=f._start,g>h&&u._sort&&f._ts&&!u._lock?(u._lock=1,xr(u,f,g-f._delay,1)._lock=0):h=g,g<0&&f._ts&&(a-=g,(!_&&!u._dp||_&&_.smoothChildTiming)&&(u._start+=g/u._ts,u._time-=g,u._tTime-=g),u.shiftChildren(-g,!1,-1/0),h=0),f._end>a&&f._ts&&(a=f._end),f=d;Kl(u,u===Ot&&u._time>a?u._time:a,1,1),u._dirty=0}return u._tDur},e.updateRoot=function(s){if(Ot._ts&&(ix(Ot,Hf(s,Ot)),tx=oi.frame),oi.frame>=f_){f_+=ci.autoSleep||120;var a=Ot._first;if((!a||!a._ts)&&ci.autoSleep&&oi._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||oi.sleep()}}},e})(Iu);hi(jn.prototype,{_lock:0,_hasPause:0,_forcing:0});var Hb=function(e,n,r,s,a,u,f){var h=new Kn(this._pt,e,n,0,1,Nx,null,a),d=0,g=0,_,x,p,T,S,E,V,L;for(h.b=r,h.e=s,r+="",s+="",(V=~s.indexOf("random("))&&(s=Du(s)),u&&(L=[r,s],u(L,e,n),r=L[0],s=L[1]),x=r.match(Cm)||[];_=Cm.exec(s);)T=_[0],S=s.substring(d,_.index),p?p=(p+1)%5:S.substr(-5)==="rgba("&&(p=1),T!==x[g++]&&(E=parseFloat(x[g-1])||0,h._pt={_next:h._pt,p:S||g===1?S:",",s:E,c:T.charAt(1)==="="?Ul(E,T)-E:parseFloat(T)-E,m:p&&p<4?Math.round:0},d=Cm.lastIndex);return h.c=d<s.length?s.substring(d,s.length):"",h.fp=f,($1.test(s)||V)&&(h.e=0),this._pt=h,h},Fg=function(e,n,r,s,a,u,f,h,d,g){zt(s)&&(s=s(a||0,e,u));var _=e[n],x=r!=="get"?r:zt(_)?d?e[n.indexOf("set")||!zt(e["get"+n.substr(3)])?n:"get"+n.substr(3)](d):e[n]():_,p=zt(_)?d?Xb:Mx:qg,T;if(pn(s)&&(~s.indexOf("random(")&&(s=Du(s)),s.charAt(1)==="="&&(T=Ul(x,s)+(On(x)||0),(T||T===0)&&(s=T))),!g||x!==s||ig)return!isNaN(x*s)&&s!==""?(T=new Kn(this._pt,e,n,+x||0,s-(x||0),typeof _=="boolean"?$b:Dx,0,p),d&&(T.fp=d),f&&T.modifier(f,this,e),this._pt=T):(!_&&!(n in e)&&Lg(n,s),Hb.call(this,e,n,x,s,p,h||ci.stringFilter,d))},qb=function(e,n,r,s,a){if(zt(e)&&(e=Su(e,a,n,r,s)),!wr(e)||e.style&&e.nodeType||Vn(e)||X1(e))return pn(e)?Su(e,a,n,r,s):e;var u={},f;for(f in e)u[f]=Su(e[f],a,n,r,s);return u},wx=function(e,n,r,s,a,u){var f,h,d,g;if(li[e]&&(f=new li[e]).init(a,f.rawVars?n[e]:qb(n[e],s,a,u,r),r,s,u)!==!1&&(r._pt=h=new Kn(r._pt,a,e,0,1,f.render,f,0,f.priority),r!==Bl))for(d=r._ptLookup[r._targets.indexOf(a)],g=f._props.length;g--;)d[f._props[g]]=h;return f},Vs,ig,Hg=function o(e,n,r){var s=e.vars,a=s.ease,u=s.startAt,f=s.immediateRender,h=s.lazy,d=s.onUpdate,g=s.runBackwards,_=s.yoyoEase,x=s.keyframes,p=s.autoRevert,T=e._dur,S=e._startAt,E=e._targets,V=e.parent,L=V&&V.data==="nested"?V.vars.targets:E,z=e._overwrite==="auto"&&!Og,U=e.timeline,N,j,R,b,C,w,M,I,P,ee,te,q,W;if(U&&(!x||!a)&&(a="none"),e._ease=Pa(a,Yl.ease),e._yEase=_?Tx(Pa(_===!0?a:_,Yl.ease)):0,_&&e._yoyo&&!e._repeat&&(_=e._yEase,e._yEase=e._ease,e._ease=_),e._from=!U&&!!s.runBackwards,!U||x&&!s.stagger){if(I=E[0]?Oa(E[0]).harness:0,q=I&&s[I.prop],N=Ff(s,jg),S&&(S._zTime<0&&S.progress(1),n<0&&g&&f&&!p?S.render(-1,!0):S.revert(g&&T?Df:vb),S._lazy=0),u){if(qs(e._startAt=rn.set(E,hi({data:"isStart",overwrite:!1,parent:V,immediateRender:!0,lazy:!S&&Qn(h),startAt:null,delay:0,onUpdate:d&&function(){return ui(e,"onUpdate")},stagger:0},u))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(An||!f&&!p)&&e._startAt.revert(Df),f&&T&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(g&&T&&!S){if(n&&(f=!1),R=hi({overwrite:!1,data:"isFromStart",lazy:f&&!S&&Qn(h),immediateRender:f,stagger:0,parent:V},N),q&&(R[I.prop]=q),qs(e._startAt=rn.set(E,R)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(An?e._startAt.revert(Df):e._startAt.render(-1,!0)),e._zTime=n,!f)o(e._startAt,Tt,Tt);else if(!n)return}for(e._pt=e._ptCache=0,h=T&&Qn(h)||h&&!T,j=0;j<E.length;j++){if(C=E[j],M=C._gsap||Bg(E)[j]._gsap,e._ptLookup[j]=ee={},Wm[M.id]&&js.length&&Uf(),te=L===E?j:L.indexOf(C),I&&(P=new I).init(C,q||N,e,te,L)!==!1&&(e._pt=b=new Kn(e._pt,C,P.name,0,1,P.render,P,0,P.priority),P._props.forEach(function(ce){ee[ce]=b}),P.priority&&(w=1)),!I||q)for(R in N)li[R]&&(P=wx(R,N,e,te,C,L))?P.priority&&(w=1):ee[R]=b=Fg.call(e,C,R,"get",N[R],te,L,0,s.stringFilter);e._op&&e._op[j]&&e.kill(C,e._op[j]),z&&e._pt&&(Vs=e,Ot.killTweensOf(C,ee,e.globalTime(n)),W=!e.parent,Vs=0),e._pt&&h&&(Wm[M.id]=1)}w&&Ix(e),e._onInit&&e._onInit(e)}e._onUpdate=d,e._initted=(!e._op||e._pt)&&!W,x&&n<=0&&U.render(Oi,!0,!0)},Gb=function(e,n,r,s,a,u,f,h){var d=(e._pt&&e._ptCache||(e._ptCache={}))[n],g,_,x,p;if(!d)for(d=e._ptCache[n]=[],x=e._ptLookup,p=e._targets.length;p--;){if(g=x[p][n],g&&g.d&&g.d._pt)for(g=g.d._pt;g&&g.p!==n&&g.fp!==n;)g=g._next;if(!g)return ig=1,e.vars[n]="+=0",Hg(e,f),ig=0,h?Cu(n+" not eligible for reset"):1;d.push(g)}for(p=d.length;p--;)_=d[p],g=_._pt||_,g.s=(s||s===0)&&!a?s:g.s+(s||0)+u*g.c,g.c=r-g.s,_.e&&(_.e=qt(r)+On(_.e)),_.b&&(_.b=g.s+On(_.b))},Yb=function(e,n){var r=e[0]?Oa(e[0]).harness:0,s=r&&r.aliases,a,u,f,h;if(!s)return n;a=Ql({},n);for(u in s)if(u in a)for(h=s[u].split(","),f=h.length;f--;)a[h[f]]=a[u];return a},Qb=function(e,n,r,s){var a=n.ease||s||"power1.inOut",u,f;if(Vn(n))f=r[e]||(r[e]=[]),n.forEach(function(h,d){return f.push({t:d/(n.length-1)*100,v:h,e:a})});else for(u in n)f=r[u]||(r[u]=[]),u==="ease"||f.push({t:parseFloat(e),v:n[u],e:a})},Su=function(e,n,r,s,a){return zt(e)?e.call(n,r,s,a):pn(e)&&~e.indexOf("random(")?Du(e):e},Rx=zg+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Cx={};Xn(Rx+",id,stagger,delay,duration,paused,scrollTrigger",function(o){return Cx[o]=1});var rn=(function(o){Y1(e,o);function e(r,s,a,u){var f;typeof s=="number"&&(a.duration=s,s=a,a=null),f=o.call(this,u?s:_u(s))||this;var h=f.vars,d=h.duration,g=h.delay,_=h.immediateRender,x=h.stagger,p=h.overwrite,T=h.keyframes,S=h.defaults,E=h.scrollTrigger,V=h.yoyoEase,L=s.parent||Ot,z=(Vn(r)||X1(r)?Zr(r[0]):"length"in s)?[r]:Vi(r),U,N,j,R,b,C,w,M;if(f._targets=z.length?Bg(z):Cu("GSAP target "+r+" not found. https://gsap.com",!ci.nullTargetWarn)||[],f._ptLookup=[],f._overwrite=p,T||x||bf(d)||bf(g)){if(s=f.vars,U=f.timeline=new jn({data:"nested",defaults:S||{},targets:L&&L.data==="nested"?L.vars.targets:z}),U.kill(),U.parent=U._dp=Kr(f),U._start=0,x||bf(d)||bf(g)){if(R=z.length,w=x&&hx(x),wr(x))for(b in x)~Rx.indexOf(b)&&(M||(M={}),M[b]=x[b]);for(N=0;N<R;N++)j=Ff(s,Cx),j.stagger=0,V&&(j.yoyoEase=V),M&&Ql(j,M),C=z[N],j.duration=+Su(d,Kr(f),N,C,z),j.delay=(+Su(g,Kr(f),N,C,z)||0)-f._delay,!x&&R===1&&j.delay&&(f._delay=g=j.delay,f._start+=g,j.delay=0),U.to(C,j,w?w(N,C,z):0),U._ease=et.none;U.duration()?d=g=0:f.timeline=0}else if(T){_u(hi(U.vars.defaults,{ease:"none"})),U._ease=Pa(T.ease||s.ease||"none");var I=0,P,ee,te;if(Vn(T))T.forEach(function(q){return U.to(z,q,">")}),U.duration();else{j={};for(b in T)b==="ease"||b==="easeEach"||Qb(b,T[b],j,T.easeEach);for(b in j)for(P=j[b].sort(function(q,W){return q.t-W.t}),I=0,N=0;N<P.length;N++)ee=P[N],te={ease:ee.e,duration:(ee.t-(N?P[N-1].t:0))/100*d},te[b]=ee.v,U.to(z,te,I),I+=te.duration;U.duration()<d&&U.to({},{duration:d-U.duration()})}}d||f.duration(d=U.duration())}else f.timeline=0;return p===!0&&!Og&&(Vs=Kr(f),Ot.killTweensOf(z),Vs=0),xr(L,Kr(f),a),s.reversed&&f.reverse(),s.paused&&f.paused(!0),(_||!d&&!T&&f._start===sn(L._time)&&Qn(_)&&bb(Kr(f))&&L.data!=="nested")&&(f._tTime=-Tt,f.render(Math.max(0,-g)||0)),E&&ox(Kr(f),E),f}var n=e.prototype;return n.render=function(s,a,u){var f=this._time,h=this._tDur,d=this._dur,g=s<0,_=s>h-Tt&&!g?h:s<Tt?0:s,x,p,T,S,E,V,L,z,U;if(!d)wb(this,s,a,u);else if(_!==this._tTime||!s||u||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==g||this._lazy){if(x=_,z=this.timeline,this._repeat){if(S=d+this._rDelay,this._repeat<-1&&g)return this.totalTime(S*100+s,a,u);if(x=sn(_%S),_===h?(T=this._repeat,x=d):(E=sn(_/S),T=~~E,T&&T===E?(x=d,T--):x>d&&(x=d)),V=this._yoyo&&T&1,V&&(U=this._yEase,x=d-x),E=Xl(this._tTime,S),x===f&&!u&&this._initted&&T===E)return this._tTime=_,this;T!==E&&(z&&this._yEase&&Ex(z,V),this.vars.repeatRefresh&&!V&&!this._lock&&x!==S&&this._initted&&(this._lock=u=1,this.render(sn(S*T),!0).invalidate()._lock=0))}if(!this._initted){if(ux(this,g?s:x,u,a,_))return this._tTime=0,this;if(f!==this._time&&!(u&&this.vars.repeatRefresh&&T!==E))return this;if(d!==this._dur)return this.render(s,a,u)}if(this._tTime=_,this._time=x,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=L=(U||this._ease)(x/d),this._from&&(this.ratio=L=1-L),!f&&_&&!a&&!E&&(ui(this,"onStart"),this._tTime!==_))return this;for(p=this._pt;p;)p.r(L,p.d),p=p._next;z&&z.render(s<0?s:z._dur*z._ease(x/this._dur),a,u)||this._startAt&&(this._zTime=s),this._onUpdate&&!a&&(g&&Zm(this,s,a,u),ui(this,"onUpdate")),this._repeat&&T!==E&&this.vars.onRepeat&&!a&&this.parent&&ui(this,"onRepeat"),(_===this._tDur||!_)&&this._tTime===_&&(g&&!this._onUpdate&&Zm(this,s,!0,!0),(s||!d)&&(_===this._tDur&&this._ts>0||!_&&this._ts<0)&&qs(this,1),!a&&!(g&&!f)&&(_||f||V)&&(ui(this,_===h?"onComplete":"onReverseComplete",!0),this._prom&&!(_<h&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),o.prototype.invalidate.call(this,s)},n.resetTo=function(s,a,u,f,h){Nu||oi.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts),g;return this._initted||Hg(this,d),g=this._ease(d/this._dur),Gb(this,s,a,u,f,g,d,h)?this.resetTo(s,a,u,f,1):(hh(this,0),this.parent||ax(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(s,a){if(a===void 0&&(a="all"),!s&&(!a||a==="all"))return this._lazy=this._pt=0,this.parent?hu(this):this.scrollTrigger&&this.scrollTrigger.kill(!!An),this;if(this.timeline){var u=this.timeline.totalDuration();return this.timeline.killTweensOf(s,a,Vs&&Vs.vars.overwrite!==!0)._first||hu(this),this.parent&&u!==this.timeline.totalDuration()&&Kl(this,this._dur*this.timeline._tDur/u,0,1),this}var f=this._targets,h=s?Vi(s):f,d=this._ptLookup,g=this._pt,_,x,p,T,S,E,V;if((!a||a==="all")&&Tb(f,h))return a==="all"&&(this._pt=0),hu(this);for(_=this._op=this._op||[],a!=="all"&&(pn(a)&&(S={},Xn(a,function(L){return S[L]=1}),a=S),a=Yb(f,a)),V=f.length;V--;)if(~h.indexOf(f[V])){x=d[V],a==="all"?(_[V]=a,T=x,p={}):(p=_[V]=_[V]||{},T=a);for(S in T)E=x&&x[S],E&&((!("kill"in E.d)||E.d.kill(S)===!0)&&ch(this,E,"_pt"),delete x[S]),p!=="all"&&(p[S]=1)}return this._initted&&!this._pt&&g&&hu(this),this},e.to=function(s,a){return new e(s,a,arguments[2])},e.from=function(s,a){return xu(1,arguments)},e.delayedCall=function(s,a,u,f){return new e(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:a,onReverseComplete:a,onCompleteParams:u,onReverseCompleteParams:u,callbackScope:f})},e.fromTo=function(s,a,u){return xu(2,arguments)},e.set=function(s,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new e(s,a)},e.killTweensOf=function(s,a,u){return Ot.killTweensOf(s,a,u)},e})(Iu);hi(rn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Xn("staggerTo,staggerFrom,staggerFromTo",function(o){rn[o]=function(){var e=new jn,n=eg.call(arguments,0);return n.splice(o==="staggerFromTo"?5:4,0,0),e[o].apply(e,n)}});var qg=function(e,n,r){return e[n]=r},Mx=function(e,n,r){return e[n](r)},Xb=function(e,n,r,s){return e[n](s.fp,r)},Kb=function(e,n,r){return e.setAttribute(n,r)},Gg=function(e,n){return zt(e[n])?Mx:Vg(e[n])&&e.setAttribute?Kb:qg},Dx=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},$b=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},Nx=function(e,n){var r=n._pt,s="";if(!e&&n.b)s=n.b;else if(e===1&&n.e)s=n.e;else{for(;r;)s=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+s,r=r._next;s+=n.c}n.set(n.t,n.p,s,n)},Yg=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},Wb=function(e,n,r,s){for(var a=this._pt,u;a;)u=a._next,a.p===s&&a.modifier(e,n,r),a=u},Zb=function(e){for(var n=this._pt,r,s;n;)s=n._next,n.p===e&&!n.op||n.op===e?ch(this,n,"_pt"):n.dep||(r=1),n=s;return!r},Jb=function(e,n,r,s){s.mSet(e,n,s.m.call(s.tween,r,s.mt),s)},Ix=function(e){for(var n=e._pt,r,s,a,u;n;){for(r=n._next,s=a;s&&s.pr>n.pr;)s=s._next;(n._prev=s?s._prev:u)?n._prev._next=n:a=n,(n._next=s)?s._prev=n:u=n,n=r}e._pt=a},Kn=(function(){function o(n,r,s,a,u,f,h,d,g){this.t=r,this.s=a,this.c=u,this.p=s,this.r=f||Dx,this.d=h||this,this.set=d||qg,this.pr=g||0,this._next=n,n&&(n._prev=this)}var e=o.prototype;return e.modifier=function(r,s,a){this.mSet=this.mSet||this.set,this.set=Jb,this.m=r,this.mt=a,this.tween=s},o})();Xn(zg+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(o){return jg[o]=1});fi.TweenMax=fi.TweenLite=rn;fi.TimelineLite=fi.TimelineMax=jn;Ot=new jn({sortChildren:!1,defaults:Yl,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ci.stringFilter=Sx;var ka=[],If={},eA=[],y_=0,tA=0,Om=function(e){return(If[e]||eA).map(function(n){return n()})},rg=function(){var e=Date.now(),n=[];e-y_>2&&(Om("matchMediaInit"),ka.forEach(function(r){var s=r.queries,a=r.conditions,u,f,h,d;for(f in s)u=yr.matchMedia(s[f]).matches,u&&(h=1),u!==a[f]&&(a[f]=u,d=1);d&&(r.revert(),h&&n.push(r))}),Om("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(s){return r.add(null,s)})}),y_=e,Om("matchMedia"))},Ox=(function(){function o(n,r){this.selector=r&&tg(r),this.data=[],this._r=[],this.isReverted=!1,this.id=tA++,n&&this.add(n)}var e=o.prototype;return e.add=function(r,s,a){zt(r)&&(a=s,s=r,r=zt);var u=this,f=function(){var d=Nt,g=u.selector,_;return d&&d!==u&&d.data.push(u),a&&(u.selector=tg(a)),Nt=u,_=s.apply(u,arguments),zt(_)&&u._r.push(_),Nt=d,u.selector=g,u.isReverted=!1,_};return u.last=f,r===zt?f(u,function(h){return u.add(null,h)}):r?u[r]=f:f},e.ignore=function(r){var s=Nt;Nt=null,r(this),Nt=s},e.getTweens=function(){var r=[];return this.data.forEach(function(s){return s instanceof o?r.push.apply(r,s.getTweens()):s instanceof rn&&!(s.parent&&s.parent.data==="nested")&&r.push(s)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,s){var a=this;if(r?(function(){for(var f=a.getTweens(),h=a.data.length,d;h--;)d=a.data[h],d.data==="isFlip"&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(g){return f.splice(f.indexOf(g),1)}));for(f.map(function(g){return{g:g._dur||g._delay||g._sat&&!g._sat.vars.immediateRender?g.globalTime(0):-1/0,t:g}}).sort(function(g,_){return _.g-g.g||-1/0}).forEach(function(g){return g.t.revert(r)}),h=a.data.length;h--;)d=a.data[h],d instanceof jn?d.data!=="nested"&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof rn)&&d.revert&&d.revert(r);a._r.forEach(function(g){return g(r,a)}),a.isReverted=!0})():this.data.forEach(function(f){return f.kill&&f.kill()}),this.clear(),s)for(var u=ka.length;u--;)ka[u].id===this.id&&ka.splice(u,1)},e.revert=function(r){this.kill(r||{})},o})(),nA=(function(){function o(n){this.contexts=[],this.scope=n,Nt&&Nt.data.push(this)}var e=o.prototype;return e.add=function(r,s,a){wr(r)||(r={matches:r});var u=new Ox(0,a||this.scope),f=u.conditions={},h,d,g;Nt&&!u.selector&&(u.selector=Nt.selector),this.contexts.push(u),s=u.add("onMatch",s),u.queries=r;for(d in r)d==="all"?g=1:(h=yr.matchMedia(r[d]),h&&(ka.indexOf(u)<0&&ka.push(u),(f[d]=h.matches)&&(g=1),h.addListener?h.addListener(rg):h.addEventListener("change",rg)));return g&&s(u,function(_){return u.add(null,_)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(s){return s.kill(r,!0)})},o})(),qf={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(s){return vx(s)})},timeline:function(e){return new jn(e)},getTweensOf:function(e,n){return Ot.getTweensOf(e,n)},getProperty:function(e,n,r,s){pn(e)&&(e=Vi(e)[0]);var a=Oa(e||{}).get,u=r?sx:rx;return r==="native"&&(r=""),e&&(n?u((li[n]&&li[n].get||a)(e,n,r,s)):function(f,h,d){return u((li[f]&&li[f].get||a)(e,f,h,d))})},quickSetter:function(e,n,r){if(e=Vi(e),e.length>1){var s=e.map(function(g){return Wn.quickSetter(g,n,r)}),a=s.length;return function(g){for(var _=a;_--;)s[_](g)}}e=e[0]||{};var u=li[n],f=Oa(e),h=f.harness&&(f.harness.aliases||{})[n]||n,d=u?function(g){var _=new u;Bl._pt=0,_.init(e,r?g+r:g,Bl,0,[e]),_.render(1,_),Bl._pt&&Yg(1,Bl)}:f.set(e,h);return u?d:function(g){return d(e,h,r?g+r:g,f,1)}},quickTo:function(e,n,r){var s,a=Wn.to(e,hi((s={},s[n]="+=0.1",s.paused=!0,s.stagger=0,s),r||{})),u=function(h,d,g){return a.resetTo(n,h,d,g)};return u.tween=a,u},isTweening:function(e){return Ot.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Pa(e.ease,Yl.ease)),h_(Yl,e||{})},config:function(e){return h_(ci,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,s=e.plugins,a=e.defaults,u=e.extendTimeline;(s||"").split(",").forEach(function(f){return f&&!li[f]&&!fi[f]&&Cu(n+" effect requires "+f+" plugin.")}),Mm[n]=function(f,h,d){return r(Vi(f),hi(h||{},a),d)},u&&(jn.prototype[n]=function(f,h,d){return this.add(Mm[n](f,wr(h)?h:(d=h)&&{},this),d)})},registerEase:function(e,n){et[e]=Pa(n)},parseEase:function(e,n){return arguments.length?Pa(e,n):et},getById:function(e){return Ot.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new jn(e),s,a;for(r.smoothChildTiming=Qn(e.smoothChildTiming),Ot.remove(r),r._dp=0,r._time=r._tTime=Ot._time,s=Ot._first;s;)a=s._next,(n||!(!s._dur&&s instanceof rn&&s.vars.onComplete===s._targets[0]))&&xr(r,s,s._start-s._delay),s=a;return xr(Ot,r,0),r},context:function(e,n){return e?new Ox(e,n):Nt},matchMedia:function(e){return new nA(e)},matchMediaRefresh:function(){return ka.forEach(function(e){var n=e.conditions,r,s;for(s in n)n[s]&&(n[s]=!1,r=1);r&&e.revert()})||rg()},addEventListener:function(e,n){var r=If[e]||(If[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=If[e],s=r&&r.indexOf(n);s>=0&&r.splice(s,1)},utils:{wrap:Vb,wrapYoyo:Pb,distribute:hx,random:mx,snap:dx,normalize:Ob,getUnit:On,clamp:Mb,splitColor:_x,toArray:Vi,selector:tg,mapRange:px,pipe:Nb,unitize:Ib,interpolate:kb,shuffle:fx},install:J1,effects:Mm,ticker:oi,updateRoot:jn.updateRoot,plugins:li,globalTimeline:Ot,core:{PropTween:Kn,globals:ex,Tween:rn,Timeline:jn,Animation:Iu,getCache:Oa,_removeLinkedListItem:ch,reverting:function(){return An},context:function(e){return e&&Nt&&(Nt.data.push(e),e._ctx=Nt),Nt},suppressOverwrites:function(e){return Og=e}}};Xn("to,from,fromTo,delayedCall,set,killTweensOf",function(o){return qf[o]=rn[o]});oi.add(jn.updateRoot);Bl=qf.to({},{duration:0});var iA=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},rA=function(e,n){var r=e._targets,s,a,u;for(s in n)for(a=r.length;a--;)u=e._ptLookup[a][s],u&&(u=u.d)&&(u._pt&&(u=iA(u,s)),u&&u.modifier&&u.modifier(n[s],e,r[a],s))},Vm=function(e,n){return{name:e,headless:1,rawVars:1,init:function(s,a,u){u._onInit=function(f){var h,d;if(pn(a)&&(h={},Xn(a,function(g){return h[g]=1}),a=h),n){h={};for(d in a)h[d]=n(a[d]);a=h}rA(f,a)}}}},Wn=qf.registerPlugin({name:"attr",init:function(e,n,r,s,a){var u,f,h;this.tween=r;for(u in n)h=e.getAttribute(u)||"",f=this.add(e,"setAttribute",(h||0)+"",n[u],s,a,0,0,u),f.op=u,f.b=h,this._props.push(u)},render:function(e,n){for(var r=n._pt;r;)An?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},Vm("roundProps",ng),Vm("modifiers"),Vm("snap",dx))||qf;rn.version=jn.version=Wn.version="3.13.0";Z1=1;Pg()&&$l();et.Power0;et.Power1;et.Power2;et.Power3;et.Power4;et.Linear;et.Quad;et.Cubic;et.Quart;et.Quint;et.Strong;et.Elastic;et.Back;et.SteppedEase;et.Bounce;et.Sine;et.Expo;et.Circ;var v_,Ps,Fl,Qg,Na,__,Xg,sA=function(){return typeof window<"u"},Jr={},Ma=180/Math.PI,Hl=Math.PI/180,Ol=Math.atan2,x_=1e8,Kg=/([A-Z])/g,aA=/(left|right|width|margin|padding|x)/i,lA=/[\s,\(]\S/,Sr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},sg=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},oA=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},uA=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},cA=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},Vx=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},Px=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},fA=function(e,n,r){return e.style[n]=r},hA=function(e,n,r){return e.style.setProperty(n,r)},dA=function(e,n,r){return e._gsap[n]=r},mA=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},gA=function(e,n,r,s,a){var u=e._gsap;u.scaleX=u.scaleY=r,u.renderTransform(a,u)},pA=function(e,n,r,s,a){var u=e._gsap;u[n]=r,u.renderTransform(a,u)},Pt="transform",$n=Pt+"Origin",yA=function o(e,n){var r=this,s=this.target,a=s.style,u=s._gsap;if(e in Jr&&a){if(this.tfm=this.tfm||{},e!=="transform")e=Sr[e]||e,~e.indexOf(",")?e.split(",").forEach(function(f){return r.tfm[f]=$r(s,f)}):this.tfm[e]=u.x?u[e]:$r(s,e),e===$n&&(this.tfm.zOrigin=u.zOrigin);else return Sr.transform.split(",").forEach(function(f){return o.call(r,f,n)});if(this.props.indexOf(Pt)>=0)return;u.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push($n,n,"")),e=Pt}(a||n)&&this.props.push(e,n,a[e])},kx=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},vA=function(){var e=this.props,n=this.target,r=n.style,s=n._gsap,a,u;for(a=0;a<e.length;a+=3)e[a+1]?e[a+1]===2?n[e[a]](e[a+2]):n[e[a]]=e[a+2]:e[a+2]?r[e[a]]=e[a+2]:r.removeProperty(e[a].substr(0,2)==="--"?e[a]:e[a].replace(Kg,"-$1").toLowerCase());if(this.tfm){for(u in this.tfm)s[u]=this.tfm[u];s.svg&&(s.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),a=Xg(),(!a||!a.isStart)&&!r[Pt]&&(kx(r),s.zOrigin&&r[$n]&&(r[$n]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},Lx=function(e,n){var r={target:e,props:[],revert:vA,save:yA};return e._gsap||Wn.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(s){return r.save(s)}),r},jx,ag=function(e,n){var r=Ps.createElementNS?Ps.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Ps.createElement(e);return r&&r.style?r:Ps.createElement(e)},Pi=function o(e,n,r){var s=getComputedStyle(e);return s[n]||s.getPropertyValue(n.replace(Kg,"-$1").toLowerCase())||s.getPropertyValue(n)||!r&&o(e,Wl(n)||n,1)||""},S_="O,Moz,ms,Ms,Webkit".split(","),Wl=function(e,n,r){var s=n||Na,a=s.style,u=5;if(e in a&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);u--&&!(S_[u]+e in a););return u<0?null:(u===3?"ms":u>=0?S_[u]:"")+e},lg=function(){sA()&&window.document&&(v_=window,Ps=v_.document,Fl=Ps.documentElement,Na=ag("div")||{style:{}},ag("div"),Pt=Wl(Pt),$n=Pt+"Origin",Na.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",jx=!!Wl("perspective"),Xg=Wn.core.reverting,Qg=1)},T_=function(e){var n=e.ownerSVGElement,r=ag("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=e.cloneNode(!0),a;s.style.display="block",r.appendChild(s),Fl.appendChild(r);try{a=s.getBBox()}catch{}return r.removeChild(s),Fl.removeChild(r),a},E_=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},zx=function(e){var n,r;try{n=e.getBBox()}catch{n=T_(e),r=1}return n&&(n.width||n.height)||r||(n=T_(e)),n&&!n.width&&!n.x&&!n.y?{x:+E_(e,["x","cx","x1"])||0,y:+E_(e,["y","cy","y1"])||0,width:0,height:0}:n},Bx=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&zx(e))},ja=function(e,n){if(n){var r=e.style,s;n in Jr&&n!==$n&&(n=Pt),r.removeProperty?(s=n.substr(0,2),(s==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(s==="--"?n:n.replace(Kg,"-$1").toLowerCase())):r.removeAttribute(n)}},ks=function(e,n,r,s,a,u){var f=new Kn(e._pt,n,r,0,1,u?Px:Vx);return e._pt=f,f.b=s,f.e=a,e._props.push(r),f},b_={deg:1,rad:1,turn:1},_A={grid:1,flex:1},Gs=function o(e,n,r,s){var a=parseFloat(r)||0,u=(r+"").trim().substr((a+"").length)||"px",f=Na.style,h=aA.test(n),d=e.tagName.toLowerCase()==="svg",g=(d?"client":"offset")+(h?"Width":"Height"),_=100,x=s==="px",p=s==="%",T,S,E,V;if(s===u||!a||b_[s]||b_[u])return a;if(u!=="px"&&!x&&(a=o(e,n,r,"px")),V=e.getCTM&&Bx(e),(p||u==="%")&&(Jr[n]||~n.indexOf("adius")))return T=V?e.getBBox()[h?"width":"height"]:e[g],qt(p?a/T*_:a/100*T);if(f[h?"width":"height"]=_+(x?u:s),S=s!=="rem"&&~n.indexOf("adius")||s==="em"&&e.appendChild&&!d?e:e.parentNode,V&&(S=(e.ownerSVGElement||{}).parentNode),(!S||S===Ps||!S.appendChild)&&(S=Ps.body),E=S._gsap,E&&p&&E.width&&h&&E.time===oi.time&&!E.uncache)return qt(a/E.width*_);if(p&&(n==="height"||n==="width")){var L=e.style[n];e.style[n]=_+s,T=e[g],L?e.style[n]=L:ja(e,n)}else(p||u==="%")&&!_A[Pi(S,"display")]&&(f.position=Pi(e,"position")),S===e&&(f.position="static"),S.appendChild(Na),T=Na[g],S.removeChild(Na),f.position="absolute";return h&&p&&(E=Oa(S),E.time=oi.time,E.width=S[g]),qt(x?T*a/_:T&&a?_/T*a:0)},$r=function(e,n,r,s){var a;return Qg||lg(),n in Sr&&n!=="transform"&&(n=Sr[n],~n.indexOf(",")&&(n=n.split(",")[0])),Jr[n]&&n!=="transform"?(a=Vu(e,s),a=n!=="transformOrigin"?a[n]:a.svg?a.origin:Yf(Pi(e,$n))+" "+a.zOrigin+"px"):(a=e.style[n],(!a||a==="auto"||s||~(a+"").indexOf("calc("))&&(a=Gf[n]&&Gf[n](e,n,r)||Pi(e,n)||nx(e,n)||(n==="opacity"?1:0))),r&&!~(a+"").trim().indexOf(" ")?Gs(e,n,a,r)+r:a},xA=function(e,n,r,s){if(!r||r==="none"){var a=Wl(n,e,1),u=a&&Pi(e,a,1);u&&u!==r?(n=a,r=u):n==="borderColor"&&(r=Pi(e,"borderTopColor"))}var f=new Kn(this._pt,e.style,n,0,1,Nx),h=0,d=0,g,_,x,p,T,S,E,V,L,z,U,N;if(f.b=r,f.e=s,r+="",s+="",s.substring(0,6)==="var(--"&&(s=Pi(e,s.substring(4,s.indexOf(")")))),s==="auto"&&(S=e.style[n],e.style[n]=s,s=Pi(e,n)||s,S?e.style[n]=S:ja(e,n)),g=[r,s],Sx(g),r=g[0],s=g[1],x=r.match(zl)||[],N=s.match(zl)||[],N.length){for(;_=zl.exec(s);)E=_[0],L=s.substring(h,_.index),T?T=(T+1)%5:(L.substr(-5)==="rgba("||L.substr(-5)==="hsla(")&&(T=1),E!==(S=x[d++]||"")&&(p=parseFloat(S)||0,U=S.substr((p+"").length),E.charAt(1)==="="&&(E=Ul(p,E)+U),V=parseFloat(E),z=E.substr((V+"").length),h=zl.lastIndex-z.length,z||(z=z||ci.units[n]||U,h===s.length&&(s+=z,f.e+=z)),U!==z&&(p=Gs(e,n,S,z)||0),f._pt={_next:f._pt,p:L||d===1?L:",",s:p,c:V-p,m:T&&T<4||n==="zIndex"?Math.round:0});f.c=h<s.length?s.substring(h,s.length):""}else f.r=n==="display"&&s==="none"?Px:Vx;return $1.test(s)&&(f.e=0),this._pt=f,f},A_={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},SA=function(e){var n=e.split(" "),r=n[0],s=n[1]||"50%";return(r==="top"||r==="bottom"||s==="left"||s==="right")&&(e=r,r=s,s=e),n[0]=A_[r]||r,n[1]=A_[s]||s,n.join(" ")},TA=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,s=r.style,a=n.u,u=r._gsap,f,h,d;if(a==="all"||a===!0)s.cssText="",h=1;else for(a=a.split(","),d=a.length;--d>-1;)f=a[d],Jr[f]&&(h=1,f=f==="transformOrigin"?$n:Pt),ja(r,f);h&&(ja(r,Pt),u&&(u.svg&&r.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",Vu(r,1),u.uncache=1,kx(s)))}},Gf={clearProps:function(e,n,r,s,a){if(a.data!=="isFromStart"){var u=e._pt=new Kn(e._pt,n,r,0,0,TA);return u.u=s,u.pr=-10,u.tween=a,e._props.push(r),1}}},Ou=[1,0,0,1,0,0],Ux={},Fx=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},w_=function(e){var n=Pi(e,Pt);return Fx(n)?Ou:n.substr(7).match(K1).map(qt)},$g=function(e,n){var r=e._gsap||Oa(e),s=e.style,a=w_(e),u,f,h,d;return r.svg&&e.getAttribute("transform")?(h=e.transform.baseVal.consolidate().matrix,a=[h.a,h.b,h.c,h.d,h.e,h.f],a.join(",")==="1,0,0,1,0,0"?Ou:a):(a===Ou&&!e.offsetParent&&e!==Fl&&!r.svg&&(h=s.display,s.display="block",u=e.parentNode,(!u||!e.offsetParent&&!e.getBoundingClientRect().width)&&(d=1,f=e.nextElementSibling,Fl.appendChild(e)),a=w_(e),h?s.display=h:ja(e,"display"),d&&(f?u.insertBefore(e,f):u?u.appendChild(e):Fl.removeChild(e))),n&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},og=function(e,n,r,s,a,u){var f=e._gsap,h=a||$g(e,!0),d=f.xOrigin||0,g=f.yOrigin||0,_=f.xOffset||0,x=f.yOffset||0,p=h[0],T=h[1],S=h[2],E=h[3],V=h[4],L=h[5],z=n.split(" "),U=parseFloat(z[0])||0,N=parseFloat(z[1])||0,j,R,b,C;r?h!==Ou&&(R=p*E-T*S)&&(b=U*(E/R)+N*(-S/R)+(S*L-E*V)/R,C=U*(-T/R)+N*(p/R)-(p*L-T*V)/R,U=b,N=C):(j=zx(e),U=j.x+(~z[0].indexOf("%")?U/100*j.width:U),N=j.y+(~(z[1]||z[0]).indexOf("%")?N/100*j.height:N)),s||s!==!1&&f.smooth?(V=U-d,L=N-g,f.xOffset=_+(V*p+L*S)-V,f.yOffset=x+(V*T+L*E)-L):f.xOffset=f.yOffset=0,f.xOrigin=U,f.yOrigin=N,f.smooth=!!s,f.origin=n,f.originIsAbsolute=!!r,e.style[$n]="0px 0px",u&&(ks(u,f,"xOrigin",d,U),ks(u,f,"yOrigin",g,N),ks(u,f,"xOffset",_,f.xOffset),ks(u,f,"yOffset",x,f.yOffset)),e.setAttribute("data-svg-origin",U+" "+N)},Vu=function(e,n){var r=e._gsap||new Ax(e);if("x"in r&&!n&&!r.uncache)return r;var s=e.style,a=r.scaleX<0,u="px",f="deg",h=getComputedStyle(e),d=Pi(e,$n)||"0",g,_,x,p,T,S,E,V,L,z,U,N,j,R,b,C,w,M,I,P,ee,te,q,W,ce,ve,we,Y,H,$,J,he;return g=_=x=S=E=V=L=z=U=0,p=T=1,r.svg=!!(e.getCTM&&Bx(e)),h.translate&&((h.translate!=="none"||h.scale!=="none"||h.rotate!=="none")&&(s[Pt]=(h.translate!=="none"?"translate3d("+(h.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(h.rotate!=="none"?"rotate("+h.rotate+") ":"")+(h.scale!=="none"?"scale("+h.scale.split(" ").join(",")+") ":"")+(h[Pt]!=="none"?h[Pt]:"")),s.scale=s.rotate=s.translate="none"),R=$g(e,r.svg),r.svg&&(r.uncache?(ce=e.getBBox(),d=r.xOrigin-ce.x+"px "+(r.yOrigin-ce.y)+"px",W=""):W=!n&&e.getAttribute("data-svg-origin"),og(e,W||d,!!W||r.originIsAbsolute,r.smooth!==!1,R)),N=r.xOrigin||0,j=r.yOrigin||0,R!==Ou&&(M=R[0],I=R[1],P=R[2],ee=R[3],g=te=R[4],_=q=R[5],R.length===6?(p=Math.sqrt(M*M+I*I),T=Math.sqrt(ee*ee+P*P),S=M||I?Ol(I,M)*Ma:0,L=P||ee?Ol(P,ee)*Ma+S:0,L&&(T*=Math.abs(Math.cos(L*Hl))),r.svg&&(g-=N-(N*M+j*P),_-=j-(N*I+j*ee))):(he=R[6],$=R[7],we=R[8],Y=R[9],H=R[10],J=R[11],g=R[12],_=R[13],x=R[14],b=Ol(he,H),E=b*Ma,b&&(C=Math.cos(-b),w=Math.sin(-b),W=te*C+we*w,ce=q*C+Y*w,ve=he*C+H*w,we=te*-w+we*C,Y=q*-w+Y*C,H=he*-w+H*C,J=$*-w+J*C,te=W,q=ce,he=ve),b=Ol(-P,H),V=b*Ma,b&&(C=Math.cos(-b),w=Math.sin(-b),W=M*C-we*w,ce=I*C-Y*w,ve=P*C-H*w,J=ee*w+J*C,M=W,I=ce,P=ve),b=Ol(I,M),S=b*Ma,b&&(C=Math.cos(b),w=Math.sin(b),W=M*C+I*w,ce=te*C+q*w,I=I*C-M*w,q=q*C-te*w,M=W,te=ce),E&&Math.abs(E)+Math.abs(S)>359.9&&(E=S=0,V=180-V),p=qt(Math.sqrt(M*M+I*I+P*P)),T=qt(Math.sqrt(q*q+he*he)),b=Ol(te,q),L=Math.abs(b)>2e-4?b*Ma:0,U=J?1/(J<0?-J:J):0),r.svg&&(W=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!Fx(Pi(e,Pt)),W&&e.setAttribute("transform",W))),Math.abs(L)>90&&Math.abs(L)<270&&(a?(p*=-1,L+=S<=0?180:-180,S+=S<=0?180:-180):(T*=-1,L+=L<=0?180:-180)),n=n||r.uncache,r.x=g-((r.xPercent=g&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-g)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+u,r.y=_-((r.yPercent=_&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-_)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+u,r.z=x+u,r.scaleX=qt(p),r.scaleY=qt(T),r.rotation=qt(S)+f,r.rotationX=qt(E)+f,r.rotationY=qt(V)+f,r.skewX=L+f,r.skewY=z+f,r.transformPerspective=U+u,(r.zOrigin=parseFloat(d.split(" ")[2])||!n&&r.zOrigin||0)&&(s[$n]=Yf(d)),r.xOffset=r.yOffset=0,r.force3D=ci.force3D,r.renderTransform=r.svg?bA:jx?Hx:EA,r.uncache=0,r},Yf=function(e){return(e=e.split(" "))[0]+" "+e[1]},Pm=function(e,n,r){var s=On(n);return qt(parseFloat(n)+parseFloat(Gs(e,"x",r+"px",s)))+s},EA=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,Hx(e,n)},Ra="0deg",fu="0px",Ca=") ",Hx=function(e,n){var r=n||this,s=r.xPercent,a=r.yPercent,u=r.x,f=r.y,h=r.z,d=r.rotation,g=r.rotationY,_=r.rotationX,x=r.skewX,p=r.skewY,T=r.scaleX,S=r.scaleY,E=r.transformPerspective,V=r.force3D,L=r.target,z=r.zOrigin,U="",N=V==="auto"&&e&&e!==1||V===!0;if(z&&(_!==Ra||g!==Ra)){var j=parseFloat(g)*Hl,R=Math.sin(j),b=Math.cos(j),C;j=parseFloat(_)*Hl,C=Math.cos(j),u=Pm(L,u,R*C*-z),f=Pm(L,f,-Math.sin(j)*-z),h=Pm(L,h,b*C*-z+z)}E!==fu&&(U+="perspective("+E+Ca),(s||a)&&(U+="translate("+s+"%, "+a+"%) "),(N||u!==fu||f!==fu||h!==fu)&&(U+=h!==fu||N?"translate3d("+u+", "+f+", "+h+") ":"translate("+u+", "+f+Ca),d!==Ra&&(U+="rotate("+d+Ca),g!==Ra&&(U+="rotateY("+g+Ca),_!==Ra&&(U+="rotateX("+_+Ca),(x!==Ra||p!==Ra)&&(U+="skew("+x+", "+p+Ca),(T!==1||S!==1)&&(U+="scale("+T+", "+S+Ca),L.style[Pt]=U||"translate(0, 0)"},bA=function(e,n){var r=n||this,s=r.xPercent,a=r.yPercent,u=r.x,f=r.y,h=r.rotation,d=r.skewX,g=r.skewY,_=r.scaleX,x=r.scaleY,p=r.target,T=r.xOrigin,S=r.yOrigin,E=r.xOffset,V=r.yOffset,L=r.forceCSS,z=parseFloat(u),U=parseFloat(f),N,j,R,b,C;h=parseFloat(h),d=parseFloat(d),g=parseFloat(g),g&&(g=parseFloat(g),d+=g,h+=g),h||d?(h*=Hl,d*=Hl,N=Math.cos(h)*_,j=Math.sin(h)*_,R=Math.sin(h-d)*-x,b=Math.cos(h-d)*x,d&&(g*=Hl,C=Math.tan(d-g),C=Math.sqrt(1+C*C),R*=C,b*=C,g&&(C=Math.tan(g),C=Math.sqrt(1+C*C),N*=C,j*=C)),N=qt(N),j=qt(j),R=qt(R),b=qt(b)):(N=_,b=x,j=R=0),(z&&!~(u+"").indexOf("px")||U&&!~(f+"").indexOf("px"))&&(z=Gs(p,"x",u,"px"),U=Gs(p,"y",f,"px")),(T||S||E||V)&&(z=qt(z+T-(T*N+S*R)+E),U=qt(U+S-(T*j+S*b)+V)),(s||a)&&(C=p.getBBox(),z=qt(z+s/100*C.width),U=qt(U+a/100*C.height)),C="matrix("+N+","+j+","+R+","+b+","+z+","+U+")",p.setAttribute("transform",C),L&&(p.style[Pt]=C)},AA=function(e,n,r,s,a){var u=360,f=pn(a),h=parseFloat(a)*(f&&~a.indexOf("rad")?Ma:1),d=h-s,g=s+d+"deg",_,x;return f&&(_=a.split("_")[1],_==="short"&&(d%=u,d!==d%(u/2)&&(d+=d<0?u:-u)),_==="cw"&&d<0?d=(d+u*x_)%u-~~(d/u)*u:_==="ccw"&&d>0&&(d=(d-u*x_)%u-~~(d/u)*u)),e._pt=x=new Kn(e._pt,n,r,s,d,oA),x.e=g,x.u="deg",e._props.push(r),x},R_=function(e,n){for(var r in n)e[r]=n[r];return e},wA=function(e,n,r){var s=R_({},r._gsap),a="perspective,force3D,transformOrigin,svgOrigin",u=r.style,f,h,d,g,_,x,p,T;s.svg?(d=r.getAttribute("transform"),r.setAttribute("transform",""),u[Pt]=n,f=Vu(r,1),ja(r,Pt),r.setAttribute("transform",d)):(d=getComputedStyle(r)[Pt],u[Pt]=n,f=Vu(r,1),u[Pt]=d);for(h in Jr)d=s[h],g=f[h],d!==g&&a.indexOf(h)<0&&(p=On(d),T=On(g),_=p!==T?Gs(r,h,d,T):parseFloat(d),x=parseFloat(g),e._pt=new Kn(e._pt,f,h,_,x-_,sg),e._pt.u=T||0,e._props.push(h));R_(f,s)};Xn("padding,margin,Width,Radius",function(o,e){var n="Top",r="Right",s="Bottom",a="Left",u=(e<3?[n,r,s,a]:[n+a,n+r,s+r,s+a]).map(function(f){return e<2?o+f:"border"+f+o});Gf[e>1?"border"+o:o]=function(f,h,d,g,_){var x,p;if(arguments.length<4)return x=u.map(function(T){return $r(f,T,d)}),p=x.join(" "),p.split(x[0]).length===5?x[0]:p;x=(g+"").split(" "),p={},u.forEach(function(T,S){return p[T]=x[S]=x[S]||x[(S-1)/2|0]}),f.init(h,p,_)}});var qx={name:"css",register:lg,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,s,a){var u=this._props,f=e.style,h=r.vars.startAt,d,g,_,x,p,T,S,E,V,L,z,U,N,j,R,b;Qg||lg(),this.styles=this.styles||Lx(e),b=this.styles.props,this.tween=r;for(S in n)if(S!=="autoRound"&&(g=n[S],!(li[S]&&wx(S,n,r,s,e,a)))){if(p=typeof g,T=Gf[S],p==="function"&&(g=g.call(r,s,e,a),p=typeof g),p==="string"&&~g.indexOf("random(")&&(g=Du(g)),T)T(this,e,S,g,r)&&(R=1);else if(S.substr(0,2)==="--")d=(getComputedStyle(e).getPropertyValue(S)+"").trim(),g+="",zs.lastIndex=0,zs.test(d)||(E=On(d),V=On(g)),V?E!==V&&(d=Gs(e,S,d,V)+V):E&&(g+=E),this.add(f,"setProperty",d,g,s,a,0,0,S),u.push(S),b.push(S,0,f[S]);else if(p!=="undefined"){if(h&&S in h?(d=typeof h[S]=="function"?h[S].call(r,s,e,a):h[S],pn(d)&&~d.indexOf("random(")&&(d=Du(d)),On(d+"")||d==="auto"||(d+=ci.units[S]||On($r(e,S))||""),(d+"").charAt(1)==="="&&(d=$r(e,S))):d=$r(e,S),x=parseFloat(d),L=p==="string"&&g.charAt(1)==="="&&g.substr(0,2),L&&(g=g.substr(2)),_=parseFloat(g),S in Sr&&(S==="autoAlpha"&&(x===1&&$r(e,"visibility")==="hidden"&&_&&(x=0),b.push("visibility",0,f.visibility),ks(this,f,"visibility",x?"inherit":"hidden",_?"inherit":"hidden",!_)),S!=="scale"&&S!=="transform"&&(S=Sr[S],~S.indexOf(",")&&(S=S.split(",")[0]))),z=S in Jr,z){if(this.styles.save(S),p==="string"&&g.substring(0,6)==="var(--"&&(g=Pi(e,g.substring(4,g.indexOf(")"))),_=parseFloat(g)),U||(N=e._gsap,N.renderTransform&&!n.parseTransform||Vu(e,n.parseTransform),j=n.smoothOrigin!==!1&&N.smooth,U=this._pt=new Kn(this._pt,f,Pt,0,1,N.renderTransform,N,0,-1),U.dep=1),S==="scale")this._pt=new Kn(this._pt,N,"scaleY",N.scaleY,(L?Ul(N.scaleY,L+_):_)-N.scaleY||0,sg),this._pt.u=0,u.push("scaleY",S),S+="X";else if(S==="transformOrigin"){b.push($n,0,f[$n]),g=SA(g),N.svg?og(e,g,0,j,0,this):(V=parseFloat(g.split(" ")[2])||0,V!==N.zOrigin&&ks(this,N,"zOrigin",N.zOrigin,V),ks(this,f,S,Yf(d),Yf(g)));continue}else if(S==="svgOrigin"){og(e,g,1,j,0,this);continue}else if(S in Ux){AA(this,N,S,x,L?Ul(x,L+g):g);continue}else if(S==="smoothOrigin"){ks(this,N,"smooth",N.smooth,g);continue}else if(S==="force3D"){N[S]=g;continue}else if(S==="transform"){wA(this,g,e);continue}}else S in f||(S=Wl(S)||S);if(z||(_||_===0)&&(x||x===0)&&!lA.test(g)&&S in f)E=(d+"").substr((x+"").length),_||(_=0),V=On(g)||(S in ci.units?ci.units[S]:E),E!==V&&(x=Gs(e,S,d,V)),this._pt=new Kn(this._pt,z?N:f,S,x,(L?Ul(x,L+_):_)-x,!z&&(V==="px"||S==="zIndex")&&n.autoRound!==!1?cA:sg),this._pt.u=V||0,E!==V&&V!=="%"&&(this._pt.b=d,this._pt.r=uA);else if(S in f)xA.call(this,e,S,d,L?L+g:g);else if(S in e)this.add(e,S,d||e[S],L?L+g:g,s,a);else if(S!=="parseTransform"){Lg(S,g);continue}z||(S in f?b.push(S,0,f[S]):typeof e[S]=="function"?b.push(S,2,e[S]()):b.push(S,1,d||e[S])),u.push(S)}}R&&Ix(this)},render:function(e,n){if(n.tween._time||!Xg())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:$r,aliases:Sr,getSetter:function(e,n,r){var s=Sr[n];return s&&s.indexOf(",")<0&&(n=s),n in Jr&&n!==$n&&(e._gsap.x||$r(e,"x"))?r&&__===r?n==="scale"?mA:dA:(__=r||{})&&(n==="scale"?gA:pA):e.style&&!Vg(e.style[n])?fA:~n.indexOf("-")?hA:Gg(e,n)},core:{_removeProperty:ja,_getMatrix:$g}};Wn.utils.checkPrefix=Wl;Wn.core.getStyleSaver=Lx;(function(o,e,n,r){var s=Xn(o+","+e+","+n,function(a){Jr[a]=1});Xn(e,function(a){ci.units[a]="deg",Ux[a]=1}),Sr[s[13]]=o+","+e,Xn(r,function(a){var u=a.split(":");Sr[u[1]]=s[u[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Xn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(o){ci.units[o]="px"});Wn.registerPlugin(qx);var It=Wn.registerPlugin(qx)||Wn;It.core.Tween;const RA=({onStartGame:o,onTutorial:e,onSettings:n,onLeaderboard:r})=>{const s=ae.useRef(null),a=ae.useRef([]),u=ae.useRef(null);ae.useEffect(()=>{It.fromTo(s.current,{y:-50,opacity:0},{y:0,opacity:1,duration:.8,ease:"power3.out"}),It.to(u.current,{y:-10,duration:2,repeat:-1,yoyo:!0,ease:"power1.inOut"}),It.fromTo(a.current,{x:-50,opacity:0},{x:0,opacity:1,duration:.5,stagger:.1,ease:"power2.out",delay:.3})},[]);const f=h=>{It.to(".main-menu",{opacity:0,scale:.95,duration:.3,ease:"power2.in",onComplete:h})};return k.jsxs("div",{className:"main-menu min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-900 flex flex-col items-center justify-center p-4",children:[k.jsx("div",{className:"absolute inset-0 overflow-hidden",children:k.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-[200%] h-[200%] opacity-10",children:k.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(45deg,transparent_25%,rgba(255,255,255,0.1)_25%,rgba(255,255,255,0.1)_50%,transparent_50%,transparent_75%,rgba(255,255,255,0.1)_75%)] bg-[length:60px_60px] animate-[slide_20s_linear_infinite]"})})}),k.jsxs("div",{className:"relative z-10 max-w-md w-full",children:[k.jsxs("div",{ref:s,className:"text-center mb-12",children:[k.jsx("div",{ref:u,className:"inline-block mb-4",children:k.jsx(O2,{className:"w-20 h-20 text-blue-400 mx-auto"})}),k.jsx("h1",{className:"text-5xl md:text-6xl font-display font-black gradient-text mb-2",children:"PARKING"}),k.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-blue-400",children:"MASTER"}),k.jsx("p",{className:"text-gray-400 mt-2 text-sm",children:"Learn to park like a pro!"})]}),k.jsxs("div",{className:"space-y-4",children:[k.jsxs("button",{ref:h=>a.current[0]=h,onClick:()=>f(o),className:"w-full btn btn-primary group relative overflow-hidden",children:[k.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-blue-500 group-hover:from-blue-500 group-hover:to-blue-400 transition-all duration-300"}),k.jsxs("span",{className:"relative flex items-center justify-center gap-3",children:[k.jsx(F1,{className:"w-5 h-5"}),k.jsx("span",{className:"text-lg font-bold",children:"START GAME"})]})]}),k.jsxs("button",{ref:h=>a.current[1]=h,onClick:()=>f(e),className:"w-full btn btn-secondary group",children:[k.jsx(c_,{className:"w-5 h-5 mr-3"}),k.jsx("span",{className:"font-semibold",children:"TUTORIAL"})]}),k.jsxs("button",{ref:h=>a.current[2]=h,onClick:()=>f(r),className:"w-full btn btn-secondary group",children:[k.jsx(G1,{className:"w-5 h-5 mr-3 text-yellow-400"}),k.jsx("span",{className:"font-semibold",children:"LEADERBOARD"})]}),k.jsxs("button",{ref:h=>a.current[3]=h,onClick:()=>f(n),className:"w-full btn btn-secondary group",children:[k.jsx(H1,{className:"w-5 h-5 mr-3"}),k.jsx("span",{className:"font-semibold",children:"SETTINGS"})]})]}),k.jsxs("div",{className:"flex justify-center gap-6 mt-12",children:[k.jsx("button",{className:"p-3 rounded-full bg-gray-800 hover:bg-gray-700 transition-colors",children:k.jsx(cb,{className:"w-5 h-5 text-gray-400"})}),k.jsx("button",{className:"p-3 rounded-full bg-gray-800 hover:bg-gray-700 transition-colors",children:k.jsx(c_,{className:"w-5 h-5 text-gray-400"})})]})]}),k.jsx("div",{className:"absolute bottom-4 right-4 text-xs text-gray-600",children:"v3.2.0"})]})},CA=({onSelectLevel:o,onBack:e,unlockedLevels:n=5,levelScores:r={}})=>{const s=ae.useRef([]),a=ae.useRef(null),u=Array.from({length:15},(_,x)=>({number:x+1,name:`Level ${x+1}`,difficulty:x<3?"Easy":x<7?"Medium":x<11?"Hard":"Expert",description:f(x+1),unlocked:!0,stars:r[x+1]||0}));function f(_){return{1:"Empty Lot - Forward Parking",2:"Simple Parallel Parking",3:"Angled Parking",4:"Tight Forward Parking",5:"Reverse Bay Parking",6:"Parallel Parking Challenge",7:"Shopping Mall Parking",8:"Time Trial Parking",9:"Multi-Point Turn",10:"Advanced Parallel",11:"Precision Parallel",12:"Garage Parking",13:"Valet Challenge",14:"Tight Squeeze",15:"Master Challenge"}[_]}ae.useEffect(()=>{It.fromTo(a.current,{opacity:0},{opacity:1,duration:.5,ease:"power2.out"}),It.fromTo(s.current,{scale:0,opacity:0,rotation:-10},{scale:1,opacity:1,rotation:0,duration:.4,stagger:{amount:.5,from:"start",grid:[5,3]},ease:"back.out(1.2)",delay:.2})},[]);const h=_=>{if(!_.unlocked)return;const x=_.number-1;It.to(s.current[x],{scale:1.2,duration:.2,ease:"power2.in",onComplete:()=>{It.to(a.current,{opacity:0,scale:.9,duration:.3,ease:"power2.in",onComplete:()=>o(_.number)})}})},d=_=>{switch(_){case"Easy":return"text-green-400 border-green-400/30";case"Medium":return"text-yellow-400 border-yellow-400/30";case"Hard":return"text-orange-400 border-orange-400/30";case"Expert":return"text-red-400 border-red-400/30";default:return"text-gray-400 border-gray-400/30"}},g=()=>Math.round(n/15*100);return k.jsxs("div",{ref:a,className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-900 p-4",children:[k.jsxs("div",{className:"max-w-6xl mx-auto mb-8",children:[k.jsxs("div",{className:"flex justify-between items-center mb-6",children:[k.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-300 hover:text-white transition-colors",children:[k.jsx(L2,{className:"w-6 h-6"}),k.jsx("span",{className:"font-semibold",children:"Back"})]}),k.jsx("h1",{className:"text-3xl font-display font-bold gradient-text",children:"Select Level"}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(G1,{className:"w-5 h-5 text-yellow-400"}),k.jsxs("span",{className:"text-gray-300 font-mono",children:[g(),"%"]})]})]}),k.jsx("div",{className:"bg-gray-800 rounded-full h-3 overflow-hidden mb-8",children:k.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-green-500 transition-all duration-500",style:{width:`${g()}%`}})})]}),k.jsx("div",{className:"max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:u.map((_,x)=>k.jsxs("div",{ref:p=>s.current[x]=p,onClick:()=>h(_),className:`
              level-card relative p-4 rounded-xl border-2 transition-all duration-300
              ${_.unlocked?"bg-surface hover:bg-surface-light border-border hover:border-primary cursor-pointer hover:scale-105 hover:shadow-xl":"bg-gray-900 border-gray-800 opacity-50 cursor-not-allowed"}
            `,children:[k.jsxs("div",{className:"text-center mb-3",children:[k.jsx("div",{className:"text-3xl font-bold font-mono text-white mb-1",children:_.unlocked?_.number.toString().padStart(2,"0"):k.jsx(K2,{className:"w-8 h-8 mx-auto text-gray-600"})}),k.jsx("div",{className:`text-xs font-semibold ${d(_.difficulty)}`,children:_.difficulty})]}),_.unlocked&&k.jsx("div",{className:"flex justify-center gap-1 mb-2",children:[1,2,3].map(p=>k.jsx(q1,{className:`w-4 h-4 ${p<=_.stars?"fill-yellow-400 text-yellow-400":"fill-gray-700 text-gray-700"}`},p))}),k.jsx("div",{className:"text-xs text-gray-400 text-center",children:_.description}),_.unlocked&&_.stars===0&&k.jsx("div",{className:"absolute -top-2 -right-2 bg-blue-500 text-white text-xs px-2 py-1 rounded-full font-bold",children:"NEW"})]},_.number))}),k.jsx("div",{className:"max-w-6xl mx-auto mt-8 p-4 bg-surface rounded-xl border border-border",children:k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[k.jsxs("div",{children:[k.jsx("div",{className:"text-2xl font-bold text-green-400",children:u.filter(_=>_.stars===3).length}),k.jsx("div",{className:"text-xs text-gray-400",children:"Perfect Scores"})]}),k.jsxs("div",{children:[k.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[n,"/15"]}),k.jsx("div",{className:"text-xs text-gray-400",children:"Levels Unlocked"})]}),k.jsxs("div",{children:[k.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:Object.values(r).reduce((_,x)=>_+x,0)}),k.jsx("div",{className:"text-xs text-gray-400",children:"Total Stars"})]})]})})]})},MA=({onSteer:o,maxAngle:e=180})=>{const n=ae.useRef(null),[r,s]=ae.useState(!1),[a,u]=ae.useState(0),f=ae.useRef(0),h=ae.useRef({x:0,y:0});ae.useEffect(()=>{const p=()=>{if(n.current){const T=n.current.getBoundingClientRect();h.current={x:T.left+T.width/2,y:T.top+T.height/2}}};return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const d=(p,T)=>{const S=p-h.current.x,E=T-h.current.y;return Math.atan2(E,S)*(180/Math.PI)+90},g=p=>{p.preventDefault(),s(!0);const T=p.touches?p.touches[0].clientX:p.clientX,S=p.touches?p.touches[0].clientY:p.clientY;if(n.current){const E=n.current.getBoundingClientRect();h.current={x:E.left+E.width/2,y:E.top+E.height/2}}f.current=d(T,S)-a,It.to(n.current,{scale:1.05,duration:.2,ease:"power2.out"})},_=p=>{if(!r)return;p.preventDefault();const T=p.touches?p.touches[0].clientX:p.clientX,S=p.touches?p.touches[0].clientY:p.clientY;let E=d(T,S)-f.current;for(;E>180;)E-=360;for(;E<-180;)E+=360;E=Math.max(-e,Math.min(e,E)),u(E),o(E/e),It.set(n.current,{rotation:E,ease:"none"})},x=()=>{r&&(s(!1),It.to(n.current,{rotation:0,scale:1,duration:.5,ease:"elastic.out(1, 0.3)",onUpdate:function(){const p=this.progress(),T=a*(1-p);u(T),o(T/e)}}))};return ae.useEffect(()=>{const p=S=>_(S),T=()=>x();return r&&(document.addEventListener("mousemove",p),document.addEventListener("mouseup",T),document.addEventListener("touchmove",p,{passive:!1}),document.addEventListener("touchend",T)),()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",T),document.removeEventListener("touchmove",p),document.removeEventListener("touchend",T)}},[r,a]),k.jsxs("div",{className:"steering-container relative",children:[k.jsxs("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 text-xs font-mono text-gray-400",children:[Math.round(a),""]}),k.jsxs("div",{ref:n,className:"steering-wheel relative w-32 h-32 md:w-40 md:h-40 cursor-grab active:cursor-grabbing",onMouseDown:g,onTouchStart:g,style:{background:"radial-gradient(circle at 30% 30%, #374151, #1F2937)",boxShadow:r?"0 0 30px rgba(59, 130, 246, 0.5), inset 0 0 20px rgba(0,0,0,0.5)":"inset 0 0 20px rgba(0,0,0,0.5)"},children:[k.jsx("div",{className:"absolute inset-4 rounded-full bg-gray-900 flex items-center justify-center",children:k.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 border-2 border-gray-600"})}),k.jsx("div",{className:"absolute top-2 left-1/2 transform -translate-x-1/2 w-8 h-4 bg-blue-500 rounded-full opacity-50"}),k.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 w-8 h-4 bg-blue-500 rounded-full opacity-50"}),k.jsx("div",{className:"absolute left-2 top-1/2 transform -translate-y-1/2 w-4 h-8 bg-blue-500 rounded-full opacity-50"}),k.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-8 bg-blue-500 rounded-full opacity-50"}),k.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 w-1 h-6 bg-red-500 rounded-full"})]}),k.jsx("div",{className:"absolute inset-0 rounded-full pointer-events-none",children:k.jsx("div",{className:`absolute inset-0 rounded-full border-2 transition-all duration-300 ${r?"border-blue-400 animate-pulse":"border-transparent"}`})})]})},DA=({onGearChange:o,onBrake:e})=>{const[n,r]=ae.useState("N"),[s,a]=ae.useState({forward:!1,reverse:!1,brake:!1}),u=ae.useRef({}),f=(h,d)=>{const g=d==="press";g?(r(h),o(h),It.to(u.current[h],{scale:.95,backgroundColor:h==="D"?"#10B981":h==="R"?"#F59E0B":"#EF4444",duration:.1,ease:"power2.out"}),window.navigator.vibrate&&window.navigator.vibrate(50)):(r("N"),o("N"),It.to(u.current[h],{scale:1,backgroundColor:"#374151",duration:.2,ease:"elastic.out(1, 0.5)"})),a(_=>({..._,forward:h==="D"&&g,reverse:h==="R"&&g,brake:h==="B"&&g}))};return ae.useEffect(()=>{Object.values(u.current).forEach(h=>{h&&It.set(h,{scale:1,backgroundColor:"#374151"})})},[]),k.jsxs("div",{className:"gear-controls flex flex-col gap-3 select-none",children:[k.jsxs("button",{ref:h=>u.current.D=h,onMouseDown:()=>f("D","press"),onMouseUp:()=>f("D","release"),onMouseLeave:()=>s.forward&&f("D","release"),onTouchStart:h=>{h.preventDefault(),f("D","press")},onTouchEnd:h=>{h.preventDefault(),f("D","release")},className:`control-button relative ${s.forward?"ring-4 ring-green-500":""}`,style:{boxShadow:s.forward?"0 0 20px rgba(16, 185, 129, 0.5)":"none"},children:[k.jsxs("div",{className:"flex flex-col items-center",children:[k.jsx(U2,{className:"w-8 h-8 mb-1"}),k.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Forward"})]}),s.forward&&k.jsx("div",{className:"absolute inset-0 rounded-xl bg-green-500 opacity-20 animate-pulse"})]}),k.jsxs("button",{ref:h=>u.current.B=h,onMouseDown:()=>{f("B","press"),e(!0)},onMouseUp:()=>{f("B","release"),e(!1)},onMouseLeave:()=>{s.brake&&(f("B","release"),e(!1))},onTouchStart:h=>{h.preventDefault(),f("B","press"),e(!0)},onTouchEnd:h=>{h.preventDefault(),f("B","release"),e(!1)},className:`control-button relative ${s.brake?"ring-4 ring-red-500":""}`,style:{boxShadow:s.brake?"0 0 20px rgba(239, 68, 68, 0.5)":"none"},children:[k.jsxs("div",{className:"flex flex-col items-center",children:[k.jsx(nb,{className:"w-6 h-6 mb-1"}),k.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Brake"})]}),s.brake&&k.jsx("div",{className:"absolute inset-0 rounded-xl bg-red-500 opacity-20 animate-pulse"})]}),k.jsxs("button",{ref:h=>u.current.R=h,onMouseDown:()=>f("R","press"),onMouseUp:()=>f("R","release"),onMouseLeave:()=>s.reverse&&f("R","release"),onTouchStart:h=>{h.preventDefault(),f("R","press")},onTouchEnd:h=>{h.preventDefault(),f("R","release")},className:`control-button relative ${s.reverse?"ring-4 ring-orange-500":""}`,style:{boxShadow:s.reverse?"0 0 20px rgba(245, 158, 11, 0.5)":"none"},children:[k.jsxs("div",{className:"flex flex-col items-center",children:[k.jsx(P2,{className:"w-8 h-8 mb-1"}),k.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Reverse"})]}),s.reverse&&k.jsx("div",{className:"absolute inset-0 rounded-xl bg-orange-500 opacity-20 animate-pulse"})]}),k.jsx("div",{className:"mt-2 text-center",children:k.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-gray-800 border border-gray-700",children:[k.jsx("span",{className:"text-xs text-gray-400",children:"Gear:"}),k.jsx("span",{className:`font-mono font-bold text-lg ${n==="D"?"text-green-400":n==="R"?"text-orange-400":n==="B"?"text-red-400":"text-gray-400"}`,children:n})]})})]})},NA=({level:o=1,time:e=0,score:n=0,speed:r=0,maxSpeed:s=30,accuracy:a=0,onPause:u,onRestart:f,onHome:h})=>{const d=ae.useRef(null),g=ae.useRef(null);ae.useEffect(()=>{const T=Math.min(r/s*100,100);It.to(d.current,{width:`${T}%`,duration:.2,ease:"power2.out"})},[r,s]),ae.useEffect(()=>{a>0&&It.fromTo(g.current,{scale:0,opacity:0},{scale:1,opacity:1,duration:.3,ease:"back.out(1.7)"})},[a]);const _=T=>{const S=Math.floor(T/60),E=T%60;return`${S.toString().padStart(2,"0")}:${E.toString().padStart(2,"0")}`},x=()=>{const T=r/s*100;return T<33?"bg-green-500":T<66?"bg-yellow-500":"bg-red-500"},p=()=>a>=90?"text-green-400":a>=70?"text-yellow-400":a>=50?"text-orange-400":"text-red-400";return k.jsxs("div",{className:"hud relative",children:[k.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 flex justify-between items-start z-20",children:[k.jsxs("div",{className:"hud-element flex items-center gap-3",children:[k.jsx("span",{className:"text-gray-400 text-xs",children:"LEVEL"}),k.jsx("span",{className:"text-2xl font-bold font-mono text-blue-400",children:o.toString().padStart(2,"0")})]}),k.jsxs("div",{className:"flex flex-col items-center gap-2",children:[k.jsxs("div",{className:"hud-element flex items-center gap-2",children:[k.jsx(lb,{className:"w-4 h-4 text-gray-400"}),k.jsx("span",{className:"font-mono text-lg text-white",children:_(e)})]}),k.jsxs("div",{className:"hud-element flex items-center gap-2",children:[k.jsx("span",{className:"text-xs text-gray-400",children:"SCORE"}),k.jsx("span",{className:"font-mono font-bold text-yellow-400",children:n})]})]}),k.jsxs("div",{className:"flex gap-2",children:[k.jsx("button",{onClick:h,className:"hud-element p-2 hover:bg-gray-700 transition-colors rounded-lg","aria-label":"Home",children:k.jsx(Ng,{className:"w-5 h-5"})}),k.jsx("button",{onClick:f,className:"hud-element p-2 hover:bg-gray-700 transition-colors rounded-lg","aria-label":"Restart",children:k.jsx(Ig,{className:"w-5 h-5"})}),k.jsx("button",{onClick:u,className:"hud-element p-2 hover:bg-gray-700 transition-colors rounded-lg","aria-label":"Pause",children:k.jsx(W2,{className:"w-5 h-5"})})]})]}),k.jsxs("div",{className:"absolute bottom-20 left-0 right-0 px-4",children:[k.jsx("div",{className:"mb-4",children:k.jsxs("div",{className:"hud-element max-w-md mx-auto p-3",children:[k.jsxs("div",{className:"flex items-center justify-between mb-2",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(G2,{className:"w-4 h-4 text-gray-400"}),k.jsx("span",{className:"text-xs text-gray-400 uppercase",children:"Speed"})]}),k.jsxs("span",{className:"font-mono font-bold text-white",children:[Math.round(r)," ",k.jsx("span",{className:"text-xs text-gray-400",children:"km/h"})]})]}),k.jsx("div",{className:"speed-bar h-2 bg-gray-700 rounded-full overflow-hidden",children:k.jsx("div",{ref:d,className:`speed-fill h-full ${x()} transition-colors duration-300`,style:{width:"0%"}})})]})}),a>0&&k.jsx("div",{ref:g,className:"hud-element max-w-md mx-auto p-3",children:k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(sb,{className:"w-4 h-4 text-gray-400"}),k.jsx("span",{className:"text-xs text-gray-400 uppercase",children:"Accuracy"})]}),k.jsxs("span",{className:`font-mono font-bold text-2xl ${p()}`,children:[Math.round(a),"%"]})]})})]}),k.jsx("div",{className:"absolute top-1/2 left-4 transform -translate-y-1/2",children:k.jsx("div",{className:"flex flex-col gap-2",children:[3,2,1,.5].map(T=>k.jsx("div",{className:"hud-element px-2 py-1 text-xs",children:k.jsxs("span",{className:"text-gray-400",children:[T,"m"]})},T))})})]})};var Of={exports:{}};var IA=Of.exports,C_;function OA(){return C_||(C_=1,(function(o,e){(function(r,s){o.exports=s()})(IA,function(){return(function(n){var r={};function s(a){if(r[a])return r[a].exports;var u=r[a]={i:a,l:!1,exports:{}};return n[a].call(u.exports,u,u.exports,s),u.l=!0,u.exports}return s.m=n,s.c=r,s.d=function(a,u,f){s.o(a,u)||Object.defineProperty(a,u,{enumerable:!0,get:f})},s.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},s.t=function(a,u){if(u&1&&(a=s(a)),u&8||u&4&&typeof a=="object"&&a&&a.__esModule)return a;var f=Object.create(null);if(s.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:a}),u&2&&typeof a!="string")for(var h in a)s.d(f,h,(function(d){return a[d]}).bind(null,h));return f},s.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return s.d(u,"a",u),u},s.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},s.p="",s(s.s=20)})([(function(n,r){var s={};n.exports=s,(function(){s._baseDelta=1e3/60,s._nextId=0,s._seed=0,s._nowStartTime=+new Date,s._warnedOnce={},s._decomp=null,s.extend=function(u,f){var h,d;typeof f=="boolean"?(h=2,d=f):(h=1,d=!0);for(var g=h;g<arguments.length;g++){var _=arguments[g];if(_)for(var x in _)d&&_[x]&&_[x].constructor===Object&&(!u[x]||u[x].constructor===Object)?(u[x]=u[x]||{},s.extend(u[x],d,_[x])):u[x]=_[x]}return u},s.clone=function(u,f){return s.extend({},f,u)},s.keys=function(u){if(Object.keys)return Object.keys(u);var f=[];for(var h in u)f.push(h);return f},s.values=function(u){var f=[];if(Object.keys){for(var h=Object.keys(u),d=0;d<h.length;d++)f.push(u[h[d]]);return f}for(var g in u)f.push(u[g]);return f},s.get=function(u,f,h,d){f=f.split(".").slice(h,d);for(var g=0;g<f.length;g+=1)u=u[f[g]];return u},s.set=function(u,f,h,d,g){var _=f.split(".").slice(d,g);return s.get(u,f,0,-1)[_[_.length-1]]=h,h},s.shuffle=function(u){for(var f=u.length-1;f>0;f--){var h=Math.floor(s.random()*(f+1)),d=u[f];u[f]=u[h],u[h]=d}return u},s.choose=function(u){return u[Math.floor(s.random()*u.length)]},s.isElement=function(u){return typeof HTMLElement<"u"?u instanceof HTMLElement:!!(u&&u.nodeType&&u.nodeName)},s.isArray=function(u){return Object.prototype.toString.call(u)==="[object Array]"},s.isFunction=function(u){return typeof u=="function"},s.isPlainObject=function(u){return typeof u=="object"&&u.constructor===Object},s.isString=function(u){return toString.call(u)==="[object String]"},s.clamp=function(u,f,h){return u<f?f:u>h?h:u},s.sign=function(u){return u<0?-1:1},s.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-s._nowStartTime},s.random=function(u,f){return u=typeof u<"u"?u:0,f=typeof f<"u"?f:1,u+a()*(f-u)};var a=function(){return s._seed=(s._seed*9301+49297)%233280,s._seed/233280};s.colorToNumber=function(u){return u=u.replace("#",""),u.length==3&&(u=u.charAt(0)+u.charAt(0)+u.charAt(1)+u.charAt(1)+u.charAt(2)+u.charAt(2)),parseInt(u,16)},s.logLevel=1,s.log=function(){console&&s.logLevel>0&&s.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},s.info=function(){console&&s.logLevel>0&&s.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},s.warn=function(){console&&s.logLevel>0&&s.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},s.warnOnce=function(){var u=Array.prototype.slice.call(arguments).join(" ");s._warnedOnce[u]||(s.warn(u),s._warnedOnce[u]=!0)},s.deprecated=function(u,f,h){u[f]=s.chain(function(){s.warnOnce(" deprecated ",h)},u[f])},s.nextId=function(){return s._nextId++},s.indexOf=function(u,f){if(u.indexOf)return u.indexOf(f);for(var h=0;h<u.length;h++)if(u[h]===f)return h;return-1},s.map=function(u,f){if(u.map)return u.map(f);for(var h=[],d=0;d<u.length;d+=1)h.push(f(u[d]));return h},s.topologicalSort=function(u){var f=[],h=[],d=[];for(var g in u)!h[g]&&!d[g]&&s._topologicalSort(g,h,d,u,f);return f},s._topologicalSort=function(u,f,h,d,g){var _=d[u]||[];h[u]=!0;for(var x=0;x<_.length;x+=1){var p=_[x];h[p]||f[p]||s._topologicalSort(p,f,h,d,g)}h[u]=!1,f[u]=!0,g.push(u)},s.chain=function(){for(var u=[],f=0;f<arguments.length;f+=1){var h=arguments[f];h._chained?u.push.apply(u,h._chained):u.push(h)}var d=function(){for(var g,_=new Array(arguments.length),x=0,p=arguments.length;x<p;x++)_[x]=arguments[x];for(x=0;x<u.length;x+=1){var T=u[x].apply(g,_);typeof T<"u"&&(g=T)}return g};return d._chained=u,d},s.chainPathBefore=function(u,f,h){return s.set(u,f,s.chain(h,s.get(u,f)))},s.chainPathAfter=function(u,f,h){return s.set(u,f,s.chain(s.get(u,f),h))},s.setDecomp=function(u){s._decomp=u},s.getDecomp=function(){var u=s._decomp;try{!u&&typeof window<"u"&&(u=window.decomp),!u&&typeof Wv<"u"&&(u=Wv.decomp)}catch{u=null}return u}})()}),(function(n,r){var s={};n.exports=s,(function(){s.create=function(a){var u={min:{x:0,y:0},max:{x:0,y:0}};return a&&s.update(u,a),u},s.update=function(a,u,f){a.min.x=1/0,a.max.x=-1/0,a.min.y=1/0,a.max.y=-1/0;for(var h=0;h<u.length;h++){var d=u[h];d.x>a.max.x&&(a.max.x=d.x),d.x<a.min.x&&(a.min.x=d.x),d.y>a.max.y&&(a.max.y=d.y),d.y<a.min.y&&(a.min.y=d.y)}f&&(f.x>0?a.max.x+=f.x:a.min.x+=f.x,f.y>0?a.max.y+=f.y:a.min.y+=f.y)},s.contains=function(a,u){return u.x>=a.min.x&&u.x<=a.max.x&&u.y>=a.min.y&&u.y<=a.max.y},s.overlaps=function(a,u){return a.min.x<=u.max.x&&a.max.x>=u.min.x&&a.max.y>=u.min.y&&a.min.y<=u.max.y},s.translate=function(a,u){a.min.x+=u.x,a.max.x+=u.x,a.min.y+=u.y,a.max.y+=u.y},s.shift=function(a,u){var f=a.max.x-a.min.x,h=a.max.y-a.min.y;a.min.x=u.x,a.max.x=u.x+f,a.min.y=u.y,a.max.y=u.y+h}})()}),(function(n,r){var s={};n.exports=s,(function(){s.create=function(a,u){return{x:a||0,y:u||0}},s.clone=function(a){return{x:a.x,y:a.y}},s.magnitude=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)},s.magnitudeSquared=function(a){return a.x*a.x+a.y*a.y},s.rotate=function(a,u,f){var h=Math.cos(u),d=Math.sin(u);f||(f={});var g=a.x*h-a.y*d;return f.y=a.x*d+a.y*h,f.x=g,f},s.rotateAbout=function(a,u,f,h){var d=Math.cos(u),g=Math.sin(u);h||(h={});var _=f.x+((a.x-f.x)*d-(a.y-f.y)*g);return h.y=f.y+((a.x-f.x)*g+(a.y-f.y)*d),h.x=_,h},s.normalise=function(a){var u=s.magnitude(a);return u===0?{x:0,y:0}:{x:a.x/u,y:a.y/u}},s.dot=function(a,u){return a.x*u.x+a.y*u.y},s.cross=function(a,u){return a.x*u.y-a.y*u.x},s.cross3=function(a,u,f){return(u.x-a.x)*(f.y-a.y)-(u.y-a.y)*(f.x-a.x)},s.add=function(a,u,f){return f||(f={}),f.x=a.x+u.x,f.y=a.y+u.y,f},s.sub=function(a,u,f){return f||(f={}),f.x=a.x-u.x,f.y=a.y-u.y,f},s.mult=function(a,u){return{x:a.x*u,y:a.y*u}},s.div=function(a,u){return{x:a.x/u,y:a.y/u}},s.perp=function(a,u){return u=u===!0?-1:1,{x:u*-a.y,y:u*a.x}},s.neg=function(a){return{x:-a.x,y:-a.y}},s.angle=function(a,u){return Math.atan2(u.y-a.y,u.x-a.x)},s._temp=[s.create(),s.create(),s.create(),s.create(),s.create(),s.create()]})()}),(function(n,r,s){var a={};n.exports=a;var u=s(2),f=s(0);(function(){a.create=function(h,d){for(var g=[],_=0;_<h.length;_++){var x=h[_],p={x:x.x,y:x.y,index:_,body:d,isInternal:!1};g.push(p)}return g},a.fromPath=function(h,d){var g=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,_=[];return h.replace(g,function(x,p,T){_.push({x:parseFloat(p),y:parseFloat(T)})}),a.create(_,d)},a.centre=function(h){for(var d=a.area(h,!0),g={x:0,y:0},_,x,p,T=0;T<h.length;T++)p=(T+1)%h.length,_=u.cross(h[T],h[p]),x=u.mult(u.add(h[T],h[p]),_),g=u.add(g,x);return u.div(g,6*d)},a.mean=function(h){for(var d={x:0,y:0},g=0;g<h.length;g++)d.x+=h[g].x,d.y+=h[g].y;return u.div(d,h.length)},a.area=function(h,d){for(var g=0,_=h.length-1,x=0;x<h.length;x++)g+=(h[_].x-h[x].x)*(h[_].y+h[x].y),_=x;return d?g/2:Math.abs(g)/2},a.inertia=function(h,d){for(var g=0,_=0,x=h,p,T,S=0;S<x.length;S++)T=(S+1)%x.length,p=Math.abs(u.cross(x[T],x[S])),g+=p*(u.dot(x[T],x[T])+u.dot(x[T],x[S])+u.dot(x[S],x[S])),_+=p;return d/6*(g/_)},a.translate=function(h,d,g){g=typeof g<"u"?g:1;var _=h.length,x=d.x*g,p=d.y*g,T;for(T=0;T<_;T++)h[T].x+=x,h[T].y+=p;return h},a.rotate=function(h,d,g){if(d!==0){var _=Math.cos(d),x=Math.sin(d),p=g.x,T=g.y,S=h.length,E,V,L,z;for(z=0;z<S;z++)E=h[z],V=E.x-p,L=E.y-T,E.x=p+(V*_-L*x),E.y=T+(V*x+L*_);return h}},a.contains=function(h,d){for(var g=d.x,_=d.y,x=h.length,p=h[x-1],T,S=0;S<x;S++){if(T=h[S],(g-p.x)*(T.y-p.y)+(_-p.y)*(p.x-T.x)>0)return!1;p=T}return!0},a.scale=function(h,d,g,_){if(d===1&&g===1)return h;_=_||a.centre(h);for(var x,p,T=0;T<h.length;T++)x=h[T],p=u.sub(x,_),h[T].x=_.x+p.x*d,h[T].y=_.y+p.y*g;return h},a.chamfer=function(h,d,g,_,x){typeof d=="number"?d=[d]:d=d||[8],g=typeof g<"u"?g:-1,_=_||2,x=x||14;for(var p=[],T=0;T<h.length;T++){var S=h[T-1>=0?T-1:h.length-1],E=h[T],V=h[(T+1)%h.length],L=d[T<d.length?T:d.length-1];if(L===0){p.push(E);continue}var z=u.normalise({x:E.y-S.y,y:S.x-E.x}),U=u.normalise({x:V.y-E.y,y:E.x-V.x}),N=Math.sqrt(2*Math.pow(L,2)),j=u.mult(f.clone(z),L),R=u.normalise(u.mult(u.add(z,U),.5)),b=u.sub(E,u.mult(R,N)),C=g;g===-1&&(C=Math.pow(L,.32)*1.75),C=f.clamp(C,_,x),C%2===1&&(C+=1);for(var w=Math.acos(u.dot(z,U)),M=w/C,I=0;I<C;I++)p.push(u.add(u.rotate(j,M*I),b))}return p},a.clockwiseSort=function(h){var d=a.mean(h);return h.sort(function(g,_){return u.angle(d,g)-u.angle(d,_)}),h},a.isConvex=function(h){var d=0,g=h.length,_,x,p,T;if(g<3)return null;for(_=0;_<g;_++)if(x=(_+1)%g,p=(_+2)%g,T=(h[x].x-h[_].x)*(h[p].y-h[x].y),T-=(h[x].y-h[_].y)*(h[p].x-h[x].x),T<0?d|=1:T>0&&(d|=2),d===3)return!1;return d!==0?!0:null},a.hull=function(h){var d=[],g=[],_,x;for(h=h.slice(0),h.sort(function(p,T){var S=p.x-T.x;return S!==0?S:p.y-T.y}),x=0;x<h.length;x+=1){for(_=h[x];g.length>=2&&u.cross3(g[g.length-2],g[g.length-1],_)<=0;)g.pop();g.push(_)}for(x=h.length-1;x>=0;x-=1){for(_=h[x];d.length>=2&&u.cross3(d[d.length-2],d[d.length-1],_)<=0;)d.pop();d.push(_)}return d.pop(),g.pop(),d.concat(g)}})()}),(function(n,r,s){var a={};n.exports=a;var u=s(3),f=s(2),h=s(7),d=s(0),g=s(1),_=s(11);(function(){a._timeCorrection=!0,a._inertiaScale=4,a._nextCollidingGroupId=1,a._nextNonCollidingGroupId=-1,a._nextCategory=1,a._baseDelta=1e3/60,a.create=function(p){var T={id:d.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:u.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},S=d.extend(T,p);return x(S,p),S},a.nextGroup=function(p){return p?a._nextNonCollidingGroupId--:a._nextCollidingGroupId++},a.nextCategory=function(){return a._nextCategory=a._nextCategory<<1,a._nextCategory};var x=function(p,T){T=T||{},a.set(p,{bounds:p.bounds||g.create(p.vertices),positionPrev:p.positionPrev||f.clone(p.position),anglePrev:p.anglePrev||p.angle,vertices:p.vertices,parts:p.parts||[p],isStatic:p.isStatic,isSleeping:p.isSleeping,parent:p.parent||p}),u.rotate(p.vertices,p.angle,p.position),_.rotate(p.axes,p.angle),g.update(p.bounds,p.vertices,p.velocity),a.set(p,{axes:T.axes||p.axes,area:T.area||p.area,mass:T.mass||p.mass,inertia:T.inertia||p.inertia});var S=p.isStatic?"#14151f":d.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),E=p.isStatic?"#555":"#ccc",V=p.isStatic&&p.render.fillStyle===null?1:0;p.render.fillStyle=p.render.fillStyle||S,p.render.strokeStyle=p.render.strokeStyle||E,p.render.lineWidth=p.render.lineWidth||V,p.render.sprite.xOffset+=-(p.bounds.min.x-p.position.x)/(p.bounds.max.x-p.bounds.min.x),p.render.sprite.yOffset+=-(p.bounds.min.y-p.position.y)/(p.bounds.max.y-p.bounds.min.y)};a.set=function(p,T,S){var E;typeof T=="string"&&(E=T,T={},T[E]=S);for(E in T)if(Object.prototype.hasOwnProperty.call(T,E))switch(S=T[E],E){case"isStatic":a.setStatic(p,S);break;case"isSleeping":h.set(p,S);break;case"mass":a.setMass(p,S);break;case"density":a.setDensity(p,S);break;case"inertia":a.setInertia(p,S);break;case"vertices":a.setVertices(p,S);break;case"position":a.setPosition(p,S);break;case"angle":a.setAngle(p,S);break;case"velocity":a.setVelocity(p,S);break;case"angularVelocity":a.setAngularVelocity(p,S);break;case"speed":a.setSpeed(p,S);break;case"angularSpeed":a.setAngularSpeed(p,S);break;case"parts":a.setParts(p,S);break;case"centre":a.setCentre(p,S);break;default:p[E]=S}},a.setStatic=function(p,T){for(var S=0;S<p.parts.length;S++){var E=p.parts[S];T?(E.isStatic||(E._original={restitution:E.restitution,friction:E.friction,mass:E.mass,inertia:E.inertia,density:E.density,inverseMass:E.inverseMass,inverseInertia:E.inverseInertia}),E.restitution=0,E.friction=1,E.mass=E.inertia=E.density=1/0,E.inverseMass=E.inverseInertia=0,E.positionPrev.x=E.position.x,E.positionPrev.y=E.position.y,E.anglePrev=E.angle,E.angularVelocity=0,E.speed=0,E.angularSpeed=0,E.motion=0):E._original&&(E.restitution=E._original.restitution,E.friction=E._original.friction,E.mass=E._original.mass,E.inertia=E._original.inertia,E.density=E._original.density,E.inverseMass=E._original.inverseMass,E.inverseInertia=E._original.inverseInertia,E._original=null),E.isStatic=T}},a.setMass=function(p,T){var S=p.inertia/(p.mass/6);p.inertia=S*(T/6),p.inverseInertia=1/p.inertia,p.mass=T,p.inverseMass=1/p.mass,p.density=p.mass/p.area},a.setDensity=function(p,T){a.setMass(p,T*p.area),p.density=T},a.setInertia=function(p,T){p.inertia=T,p.inverseInertia=1/p.inertia},a.setVertices=function(p,T){T[0].body===p?p.vertices=T:p.vertices=u.create(T,p),p.axes=_.fromVertices(p.vertices),p.area=u.area(p.vertices),a.setMass(p,p.density*p.area);var S=u.centre(p.vertices);u.translate(p.vertices,S,-1),a.setInertia(p,a._inertiaScale*u.inertia(p.vertices,p.mass)),u.translate(p.vertices,p.position),g.update(p.bounds,p.vertices,p.velocity)},a.setParts=function(p,T,S){var E;for(T=T.slice(0),p.parts.length=0,p.parts.push(p),p.parent=p,E=0;E<T.length;E++){var V=T[E];V!==p&&(V.parent=p,p.parts.push(V))}if(p.parts.length!==1){if(S=typeof S<"u"?S:!0,S){var L=[];for(E=0;E<T.length;E++)L=L.concat(T[E].vertices);u.clockwiseSort(L);var z=u.hull(L),U=u.centre(z);a.setVertices(p,z),u.translate(p.vertices,U)}var N=a._totalProperties(p);p.area=N.area,p.parent=p,p.position.x=N.centre.x,p.position.y=N.centre.y,p.positionPrev.x=N.centre.x,p.positionPrev.y=N.centre.y,a.setMass(p,N.mass),a.setInertia(p,N.inertia),a.setPosition(p,N.centre)}},a.setCentre=function(p,T,S){S?(p.positionPrev.x+=T.x,p.positionPrev.y+=T.y,p.position.x+=T.x,p.position.y+=T.y):(p.positionPrev.x=T.x-(p.position.x-p.positionPrev.x),p.positionPrev.y=T.y-(p.position.y-p.positionPrev.y),p.position.x=T.x,p.position.y=T.y)},a.setPosition=function(p,T,S){var E=f.sub(T,p.position);S?(p.positionPrev.x=p.position.x,p.positionPrev.y=p.position.y,p.velocity.x=E.x,p.velocity.y=E.y,p.speed=f.magnitude(E)):(p.positionPrev.x+=E.x,p.positionPrev.y+=E.y);for(var V=0;V<p.parts.length;V++){var L=p.parts[V];L.position.x+=E.x,L.position.y+=E.y,u.translate(L.vertices,E),g.update(L.bounds,L.vertices,p.velocity)}},a.setAngle=function(p,T,S){var E=T-p.angle;S?(p.anglePrev=p.angle,p.angularVelocity=E,p.angularSpeed=Math.abs(E)):p.anglePrev+=E;for(var V=0;V<p.parts.length;V++){var L=p.parts[V];L.angle+=E,u.rotate(L.vertices,E,p.position),_.rotate(L.axes,E),g.update(L.bounds,L.vertices,p.velocity),V>0&&f.rotateAbout(L.position,E,p.position,L.position)}},a.setVelocity=function(p,T){var S=p.deltaTime/a._baseDelta;p.positionPrev.x=p.position.x-T.x*S,p.positionPrev.y=p.position.y-T.y*S,p.velocity.x=(p.position.x-p.positionPrev.x)/S,p.velocity.y=(p.position.y-p.positionPrev.y)/S,p.speed=f.magnitude(p.velocity)},a.getVelocity=function(p){var T=a._baseDelta/p.deltaTime;return{x:(p.position.x-p.positionPrev.x)*T,y:(p.position.y-p.positionPrev.y)*T}},a.getSpeed=function(p){return f.magnitude(a.getVelocity(p))},a.setSpeed=function(p,T){a.setVelocity(p,f.mult(f.normalise(a.getVelocity(p)),T))},a.setAngularVelocity=function(p,T){var S=p.deltaTime/a._baseDelta;p.anglePrev=p.angle-T*S,p.angularVelocity=(p.angle-p.anglePrev)/S,p.angularSpeed=Math.abs(p.angularVelocity)},a.getAngularVelocity=function(p){return(p.angle-p.anglePrev)*a._baseDelta/p.deltaTime},a.getAngularSpeed=function(p){return Math.abs(a.getAngularVelocity(p))},a.setAngularSpeed=function(p,T){a.setAngularVelocity(p,d.sign(a.getAngularVelocity(p))*T)},a.translate=function(p,T,S){a.setPosition(p,f.add(p.position,T),S)},a.rotate=function(p,T,S,E){if(!S)a.setAngle(p,p.angle+T,E);else{var V=Math.cos(T),L=Math.sin(T),z=p.position.x-S.x,U=p.position.y-S.y;a.setPosition(p,{x:S.x+(z*V-U*L),y:S.y+(z*L+U*V)},E),a.setAngle(p,p.angle+T,E)}},a.scale=function(p,T,S,E){var V=0,L=0;E=E||p.position;for(var z=0;z<p.parts.length;z++){var U=p.parts[z];u.scale(U.vertices,T,S,E),U.axes=_.fromVertices(U.vertices),U.area=u.area(U.vertices),a.setMass(U,p.density*U.area),u.translate(U.vertices,{x:-U.position.x,y:-U.position.y}),a.setInertia(U,a._inertiaScale*u.inertia(U.vertices,U.mass)),u.translate(U.vertices,{x:U.position.x,y:U.position.y}),z>0&&(V+=U.area,L+=U.inertia),U.position.x=E.x+(U.position.x-E.x)*T,U.position.y=E.y+(U.position.y-E.y)*S,g.update(U.bounds,U.vertices,p.velocity)}p.parts.length>1&&(p.area=V,p.isStatic||(a.setMass(p,p.density*V),a.setInertia(p,L))),p.circleRadius&&(T===S?p.circleRadius*=T:p.circleRadius=null)},a.update=function(p,T){T=(typeof T<"u"?T:1e3/60)*p.timeScale;var S=T*T,E=a._timeCorrection?T/(p.deltaTime||T):1,V=1-p.frictionAir*(T/d._baseDelta),L=(p.position.x-p.positionPrev.x)*E,z=(p.position.y-p.positionPrev.y)*E;p.velocity.x=L*V+p.force.x/p.mass*S,p.velocity.y=z*V+p.force.y/p.mass*S,p.positionPrev.x=p.position.x,p.positionPrev.y=p.position.y,p.position.x+=p.velocity.x,p.position.y+=p.velocity.y,p.deltaTime=T,p.angularVelocity=(p.angle-p.anglePrev)*V*E+p.torque/p.inertia*S,p.anglePrev=p.angle,p.angle+=p.angularVelocity;for(var U=0;U<p.parts.length;U++){var N=p.parts[U];u.translate(N.vertices,p.velocity),U>0&&(N.position.x+=p.velocity.x,N.position.y+=p.velocity.y),p.angularVelocity!==0&&(u.rotate(N.vertices,p.angularVelocity,p.position),_.rotate(N.axes,p.angularVelocity),U>0&&f.rotateAbout(N.position,p.angularVelocity,p.position,N.position)),g.update(N.bounds,N.vertices,p.velocity)}},a.updateVelocities=function(p){var T=a._baseDelta/p.deltaTime,S=p.velocity;S.x=(p.position.x-p.positionPrev.x)*T,S.y=(p.position.y-p.positionPrev.y)*T,p.speed=Math.sqrt(S.x*S.x+S.y*S.y),p.angularVelocity=(p.angle-p.anglePrev)*T,p.angularSpeed=Math.abs(p.angularVelocity)},a.applyForce=function(p,T,S){var E={x:T.x-p.position.x,y:T.y-p.position.y};p.force.x+=S.x,p.force.y+=S.y,p.torque+=E.x*S.y-E.y*S.x},a._totalProperties=function(p){for(var T={mass:0,area:0,inertia:0,centre:{x:0,y:0}},S=p.parts.length===1?0:1;S<p.parts.length;S++){var E=p.parts[S],V=E.mass!==1/0?E.mass:1;T.mass+=V,T.area+=E.area,T.inertia+=E.inertia,T.centre=f.add(T.centre,f.mult(E.position,V))}return T.centre=f.div(T.centre,T.mass),T}})()}),(function(n,r,s){var a={};n.exports=a;var u=s(0);(function(){a.on=function(f,h,d){for(var g=h.split(" "),_,x=0;x<g.length;x++)_=g[x],f.events=f.events||{},f.events[_]=f.events[_]||[],f.events[_].push(d);return d},a.off=function(f,h,d){if(!h){f.events={};return}typeof h=="function"&&(d=h,h=u.keys(f.events).join(" "));for(var g=h.split(" "),_=0;_<g.length;_++){var x=f.events[g[_]],p=[];if(d&&x)for(var T=0;T<x.length;T++)x[T]!==d&&p.push(x[T]);f.events[g[_]]=p}},a.trigger=function(f,h,d){var g,_,x,p,T=f.events;if(T&&u.keys(T).length>0){d||(d={}),g=h.split(" ");for(var S=0;S<g.length;S++)if(_=g[S],x=T[_],x){p=u.clone(d,!1),p.name=_,p.source=f;for(var E=0;E<x.length;E++)x[E].apply(f,[p])}}}})()}),(function(n,r,s){var a={};n.exports=a;var u=s(5),f=s(0),h=s(1),d=s(4);(function(){a.create=function(g){return f.extend({id:f.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},g)},a.setModified=function(g,_,x,p){if(g.isModified=_,_&&g.cache&&(g.cache.allBodies=null,g.cache.allConstraints=null,g.cache.allComposites=null),x&&g.parent&&a.setModified(g.parent,_,x,p),p)for(var T=0;T<g.composites.length;T++){var S=g.composites[T];a.setModified(S,_,x,p)}},a.add=function(g,_){var x=[].concat(_);u.trigger(g,"beforeAdd",{object:_});for(var p=0;p<x.length;p++){var T=x[p];switch(T.type){case"body":if(T.parent!==T){f.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}a.addBody(g,T);break;case"constraint":a.addConstraint(g,T);break;case"composite":a.addComposite(g,T);break;case"mouseConstraint":a.addConstraint(g,T.constraint);break}}return u.trigger(g,"afterAdd",{object:_}),g},a.remove=function(g,_,x){var p=[].concat(_);u.trigger(g,"beforeRemove",{object:_});for(var T=0;T<p.length;T++){var S=p[T];switch(S.type){case"body":a.removeBody(g,S,x);break;case"constraint":a.removeConstraint(g,S,x);break;case"composite":a.removeComposite(g,S,x);break;case"mouseConstraint":a.removeConstraint(g,S.constraint);break}}return u.trigger(g,"afterRemove",{object:_}),g},a.addComposite=function(g,_){return g.composites.push(_),_.parent=g,a.setModified(g,!0,!0,!1),g},a.removeComposite=function(g,_,x){var p=f.indexOf(g.composites,_);if(p!==-1){var T=a.allBodies(_);a.removeCompositeAt(g,p);for(var S=0;S<T.length;S++)T[S].sleepCounter=0}if(x)for(var S=0;S<g.composites.length;S++)a.removeComposite(g.composites[S],_,!0);return g},a.removeCompositeAt=function(g,_){return g.composites.splice(_,1),a.setModified(g,!0,!0,!1),g},a.addBody=function(g,_){return g.bodies.push(_),a.setModified(g,!0,!0,!1),g},a.removeBody=function(g,_,x){var p=f.indexOf(g.bodies,_);if(p!==-1&&(a.removeBodyAt(g,p),_.sleepCounter=0),x)for(var T=0;T<g.composites.length;T++)a.removeBody(g.composites[T],_,!0);return g},a.removeBodyAt=function(g,_){return g.bodies.splice(_,1),a.setModified(g,!0,!0,!1),g},a.addConstraint=function(g,_){return g.constraints.push(_),a.setModified(g,!0,!0,!1),g},a.removeConstraint=function(g,_,x){var p=f.indexOf(g.constraints,_);if(p!==-1&&a.removeConstraintAt(g,p),x)for(var T=0;T<g.composites.length;T++)a.removeConstraint(g.composites[T],_,!0);return g},a.removeConstraintAt=function(g,_){return g.constraints.splice(_,1),a.setModified(g,!0,!0,!1),g},a.clear=function(g,_,x){if(x)for(var p=0;p<g.composites.length;p++)a.clear(g.composites[p],_,!0);return _?g.bodies=g.bodies.filter(function(T){return T.isStatic}):g.bodies.length=0,g.constraints.length=0,g.composites.length=0,a.setModified(g,!0,!0,!1),g},a.allBodies=function(g){if(g.cache&&g.cache.allBodies)return g.cache.allBodies;for(var _=[].concat(g.bodies),x=0;x<g.composites.length;x++)_=_.concat(a.allBodies(g.composites[x]));return g.cache&&(g.cache.allBodies=_),_},a.allConstraints=function(g){if(g.cache&&g.cache.allConstraints)return g.cache.allConstraints;for(var _=[].concat(g.constraints),x=0;x<g.composites.length;x++)_=_.concat(a.allConstraints(g.composites[x]));return g.cache&&(g.cache.allConstraints=_),_},a.allComposites=function(g){if(g.cache&&g.cache.allComposites)return g.cache.allComposites;for(var _=[].concat(g.composites),x=0;x<g.composites.length;x++)_=_.concat(a.allComposites(g.composites[x]));return g.cache&&(g.cache.allComposites=_),_},a.get=function(g,_,x){var p,T;switch(x){case"body":p=a.allBodies(g);break;case"constraint":p=a.allConstraints(g);break;case"composite":p=a.allComposites(g).concat(g);break}return p?(T=p.filter(function(S){return S.id.toString()===_.toString()}),T.length===0?null:T[0]):null},a.move=function(g,_,x){return a.remove(g,_),a.add(x,_),g},a.rebase=function(g){for(var _=a.allBodies(g).concat(a.allConstraints(g)).concat(a.allComposites(g)),x=0;x<_.length;x++)_[x].id=f.nextId();return g},a.translate=function(g,_,x){for(var p=x?a.allBodies(g):g.bodies,T=0;T<p.length;T++)d.translate(p[T],_);return g},a.rotate=function(g,_,x,p){for(var T=Math.cos(_),S=Math.sin(_),E=p?a.allBodies(g):g.bodies,V=0;V<E.length;V++){var L=E[V],z=L.position.x-x.x,U=L.position.y-x.y;d.setPosition(L,{x:x.x+(z*T-U*S),y:x.y+(z*S+U*T)}),d.rotate(L,_)}return g},a.scale=function(g,_,x,p,T){for(var S=T?a.allBodies(g):g.bodies,E=0;E<S.length;E++){var V=S[E],L=V.position.x-p.x,z=V.position.y-p.y;d.setPosition(V,{x:p.x+L*_,y:p.y+z*x}),d.scale(V,_,x)}return g},a.bounds=function(g){for(var _=a.allBodies(g),x=[],p=0;p<_.length;p+=1){var T=_[p];x.push(T.bounds.min,T.bounds.max)}return h.create(x)}})()}),(function(n,r,s){var a={};n.exports=a;var u=s(4),f=s(5),h=s(0);(function(){a._motionWakeThreshold=.18,a._motionSleepThreshold=.08,a._minBias=.9,a.update=function(d,g){for(var _=g/h._baseDelta,x=a._motionSleepThreshold,p=0;p<d.length;p++){var T=d[p],S=u.getSpeed(T),E=u.getAngularSpeed(T),V=S*S+E*E;if(T.force.x!==0||T.force.y!==0){a.set(T,!1);continue}var L=Math.min(T.motion,V),z=Math.max(T.motion,V);T.motion=a._minBias*L+(1-a._minBias)*z,T.sleepThreshold>0&&T.motion<x?(T.sleepCounter+=1,T.sleepCounter>=T.sleepThreshold/_&&a.set(T,!0)):T.sleepCounter>0&&(T.sleepCounter-=1)}},a.afterCollisions=function(d){for(var g=a._motionSleepThreshold,_=0;_<d.length;_++){var x=d[_];if(x.isActive){var p=x.collision,T=p.bodyA.parent,S=p.bodyB.parent;if(!(T.isSleeping&&S.isSleeping||T.isStatic||S.isStatic)&&(T.isSleeping||S.isSleeping)){var E=T.isSleeping&&!T.isStatic?T:S,V=E===T?S:T;!E.isStatic&&V.motion>g&&a.set(E,!1)}}}},a.set=function(d,g){var _=d.isSleeping;g?(d.isSleeping=!0,d.sleepCounter=d.sleepThreshold,d.positionImpulse.x=0,d.positionImpulse.y=0,d.positionPrev.x=d.position.x,d.positionPrev.y=d.position.y,d.anglePrev=d.angle,d.speed=0,d.angularSpeed=0,d.motion=0,_||f.trigger(d,"sleepStart")):(d.isSleeping=!1,d.sleepCounter=0,_&&f.trigger(d,"sleepEnd"))}})()}),(function(n,r,s){var a={};n.exports=a;var u=s(3),f=s(9);(function(){var h=[],d={overlap:0,axis:null},g={overlap:0,axis:null};a.create=function(_,x){return{pair:null,collided:!1,bodyA:_,bodyB:x,parentA:_.parent,parentB:x.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},a.collides=function(_,x,p){if(a._overlapAxes(d,_.vertices,x.vertices,_.axes),d.overlap<=0||(a._overlapAxes(g,x.vertices,_.vertices,x.axes),g.overlap<=0))return null;var T=p&&p.table[f.id(_,x)],S;T?S=T.collision:(S=a.create(_,x),S.collided=!0,S.bodyA=_.id<x.id?_:x,S.bodyB=_.id<x.id?x:_,S.parentA=S.bodyA.parent,S.parentB=S.bodyB.parent),_=S.bodyA,x=S.bodyB;var E;d.overlap<g.overlap?E=d:E=g;var V=S.normal,L=S.tangent,z=S.penetration,U=S.supports,N=E.overlap,j=E.axis,R=j.x,b=j.y,C=x.position.x-_.position.x,w=x.position.y-_.position.y;R*C+b*w>=0&&(R=-R,b=-b),V.x=R,V.y=b,L.x=-b,L.y=R,z.x=R*N,z.y=b*N,S.depth=N;var M=a._findSupports(_,x,V,1),I=0;if(u.contains(_.vertices,M[0])&&(U[I++]=M[0]),u.contains(_.vertices,M[1])&&(U[I++]=M[1]),I<2){var P=a._findSupports(x,_,V,-1);u.contains(x.vertices,P[0])&&(U[I++]=P[0]),I<2&&u.contains(x.vertices,P[1])&&(U[I++]=P[1])}return I===0&&(U[I++]=M[0]),S.supportCount=I,S},a._overlapAxes=function(_,x,p,T){var S=x.length,E=p.length,V=x[0].x,L=x[0].y,z=p[0].x,U=p[0].y,N=T.length,j=Number.MAX_VALUE,R=0,b,C,w,M,I,P;for(I=0;I<N;I++){var ee=T[I],te=ee.x,q=ee.y,W=V*te+L*q,ce=z*te+U*q,ve=W,we=ce;for(P=1;P<S;P+=1)M=x[P].x*te+x[P].y*q,M>ve?ve=M:M<W&&(W=M);for(P=1;P<E;P+=1)M=p[P].x*te+p[P].y*q,M>we?we=M:M<ce&&(ce=M);if(C=ve-ce,w=we-W,b=C<w?C:w,b<j&&(j=b,R=I,b<=0))break}_.axis=T[R],_.overlap=j},a._findSupports=function(_,x,p,T){var S=x.vertices,E=S.length,V=_.position.x,L=_.position.y,z=p.x*T,U=p.y*T,N=S[0],j=N,R=z*(V-j.x)+U*(L-j.y),b,C,w;for(w=1;w<E;w+=1)j=S[w],C=z*(V-j.x)+U*(L-j.y),C<R&&(R=C,N=j);return b=S[(E+N.index-1)%E],R=z*(V-b.x)+U*(L-b.y),j=S[(N.index+1)%E],z*(V-j.x)+U*(L-j.y)<R?(h[0]=N,h[1]=j,h):(h[0]=N,h[1]=b,h)}})()}),(function(n,r,s){var a={};n.exports=a;var u=s(16);(function(){a.create=function(f,h){var d=f.bodyA,g=f.bodyB,_={id:a.id(d,g),bodyA:d,bodyB:g,collision:f,contacts:[u.create(),u.create()],contactCount:0,separation:0,isActive:!0,isSensor:d.isSensor||g.isSensor,timeCreated:h,timeUpdated:h,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return a.update(_,f,h),_},a.update=function(f,h,d){var g=h.supports,_=h.supportCount,x=f.contacts,p=h.parentA,T=h.parentB;f.isActive=!0,f.timeUpdated=d,f.collision=h,f.separation=h.depth,f.inverseMass=p.inverseMass+T.inverseMass,f.friction=p.friction<T.friction?p.friction:T.friction,f.frictionStatic=p.frictionStatic>T.frictionStatic?p.frictionStatic:T.frictionStatic,f.restitution=p.restitution>T.restitution?p.restitution:T.restitution,f.slop=p.slop>T.slop?p.slop:T.slop,f.contactCount=_,h.pair=f;var S=g[0],E=x[0],V=g[1],L=x[1];(L.vertex===S||E.vertex===V)&&(x[1]=E,x[0]=E=L,L=x[1]),E.vertex=S,L.vertex=V},a.setActive=function(f,h,d){h?(f.isActive=!0,f.timeUpdated=d):(f.isActive=!1,f.contactCount=0)},a.id=function(f,h){return f.id<h.id?f.id.toString(36)+":"+h.id.toString(36):h.id.toString(36)+":"+f.id.toString(36)}})()}),(function(n,r,s){var a={};n.exports=a;var u=s(3),f=s(2),h=s(7),d=s(1),g=s(11),_=s(0);(function(){a._warming=.4,a._torqueDampen=1,a._minLength=1e-6,a.create=function(x){var p=x;p.bodyA&&!p.pointA&&(p.pointA={x:0,y:0}),p.bodyB&&!p.pointB&&(p.pointB={x:0,y:0});var T=p.bodyA?f.add(p.bodyA.position,p.pointA):p.pointA,S=p.bodyB?f.add(p.bodyB.position,p.pointB):p.pointB,E=f.magnitude(f.sub(T,S));p.length=typeof p.length<"u"?p.length:E,p.id=p.id||_.nextId(),p.label=p.label||"Constraint",p.type="constraint",p.stiffness=p.stiffness||(p.length>0?1:.7),p.damping=p.damping||0,p.angularStiffness=p.angularStiffness||0,p.angleA=p.bodyA?p.bodyA.angle:p.angleA,p.angleB=p.bodyB?p.bodyB.angle:p.angleB,p.plugin={};var V={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return p.length===0&&p.stiffness>.1?(V.type="pin",V.anchors=!1):p.stiffness<.9&&(V.type="spring"),p.render=_.extend(V,p.render),p},a.preSolveAll=function(x){for(var p=0;p<x.length;p+=1){var T=x[p],S=T.constraintImpulse;T.isStatic||S.x===0&&S.y===0&&S.angle===0||(T.position.x+=S.x,T.position.y+=S.y,T.angle+=S.angle)}},a.solveAll=function(x,p){for(var T=_.clamp(p/_._baseDelta,0,1),S=0;S<x.length;S+=1){var E=x[S],V=!E.bodyA||E.bodyA&&E.bodyA.isStatic,L=!E.bodyB||E.bodyB&&E.bodyB.isStatic;(V||L)&&a.solve(x[S],T)}for(S=0;S<x.length;S+=1)E=x[S],V=!E.bodyA||E.bodyA&&E.bodyA.isStatic,L=!E.bodyB||E.bodyB&&E.bodyB.isStatic,!V&&!L&&a.solve(x[S],T)},a.solve=function(x,p){var T=x.bodyA,S=x.bodyB,E=x.pointA,V=x.pointB;if(!(!T&&!S)){T&&!T.isStatic&&(f.rotate(E,T.angle-x.angleA,E),x.angleA=T.angle),S&&!S.isStatic&&(f.rotate(V,S.angle-x.angleB,V),x.angleB=S.angle);var L=E,z=V;if(T&&(L=f.add(T.position,E)),S&&(z=f.add(S.position,V)),!(!L||!z)){var U=f.sub(L,z),N=f.magnitude(U);N<a._minLength&&(N=a._minLength);var j=(N-x.length)/N,R=x.stiffness>=1||x.length===0,b=R?x.stiffness*p:x.stiffness*p*p,C=x.damping*p,w=f.mult(U,j*b),M=(T?T.inverseMass:0)+(S?S.inverseMass:0),I=(T?T.inverseInertia:0)+(S?S.inverseInertia:0),P=M+I,ee,te,q,W,ce;if(C>0){var ve=f.create();q=f.div(U,N),ce=f.sub(S&&f.sub(S.position,S.positionPrev)||ve,T&&f.sub(T.position,T.positionPrev)||ve),W=f.dot(q,ce)}T&&!T.isStatic&&(te=T.inverseMass/M,T.constraintImpulse.x-=w.x*te,T.constraintImpulse.y-=w.y*te,T.position.x-=w.x*te,T.position.y-=w.y*te,C>0&&(T.positionPrev.x-=C*q.x*W*te,T.positionPrev.y-=C*q.y*W*te),ee=f.cross(E,w)/P*a._torqueDampen*T.inverseInertia*(1-x.angularStiffness),T.constraintImpulse.angle-=ee,T.angle-=ee),S&&!S.isStatic&&(te=S.inverseMass/M,S.constraintImpulse.x+=w.x*te,S.constraintImpulse.y+=w.y*te,S.position.x+=w.x*te,S.position.y+=w.y*te,C>0&&(S.positionPrev.x+=C*q.x*W*te,S.positionPrev.y+=C*q.y*W*te),ee=f.cross(V,w)/P*a._torqueDampen*S.inverseInertia*(1-x.angularStiffness),S.constraintImpulse.angle+=ee,S.angle+=ee)}}},a.postSolveAll=function(x){for(var p=0;p<x.length;p++){var T=x[p],S=T.constraintImpulse;if(!(T.isStatic||S.x===0&&S.y===0&&S.angle===0)){h.set(T,!1);for(var E=0;E<T.parts.length;E++){var V=T.parts[E];u.translate(V.vertices,S),E>0&&(V.position.x+=S.x,V.position.y+=S.y),S.angle!==0&&(u.rotate(V.vertices,S.angle,T.position),g.rotate(V.axes,S.angle),E>0&&f.rotateAbout(V.position,S.angle,T.position,V.position)),d.update(V.bounds,V.vertices,T.velocity)}S.angle*=a._warming,S.x*=a._warming,S.y*=a._warming}}},a.pointAWorld=function(x){return{x:(x.bodyA?x.bodyA.position.x:0)+(x.pointA?x.pointA.x:0),y:(x.bodyA?x.bodyA.position.y:0)+(x.pointA?x.pointA.y:0)}},a.pointBWorld=function(x){return{x:(x.bodyB?x.bodyB.position.x:0)+(x.pointB?x.pointB.x:0),y:(x.bodyB?x.bodyB.position.y:0)+(x.pointB?x.pointB.y:0)}},a.currentLength=function(x){var p=(x.bodyA?x.bodyA.position.x:0)+(x.pointA?x.pointA.x:0),T=(x.bodyA?x.bodyA.position.y:0)+(x.pointA?x.pointA.y:0),S=(x.bodyB?x.bodyB.position.x:0)+(x.pointB?x.pointB.x:0),E=(x.bodyB?x.bodyB.position.y:0)+(x.pointB?x.pointB.y:0),V=p-S,L=T-E;return Math.sqrt(V*V+L*L)}})()}),(function(n,r,s){var a={};n.exports=a;var u=s(2),f=s(0);(function(){a.fromVertices=function(h){for(var d={},g=0;g<h.length;g++){var _=(g+1)%h.length,x=u.normalise({x:h[_].y-h[g].y,y:h[g].x-h[_].x}),p=x.y===0?1/0:x.x/x.y;p=p.toFixed(3).toString(),d[p]=x}return f.values(d)},a.rotate=function(h,d){if(d!==0)for(var g=Math.cos(d),_=Math.sin(d),x=0;x<h.length;x++){var p=h[x],T;T=p.x*g-p.y*_,p.y=p.x*_+p.y*g,p.x=T}}})()}),(function(n,r,s){var a={};n.exports=a;var u=s(3),f=s(0),h=s(4),d=s(1),g=s(2);(function(){a.rectangle=function(_,x,p,T,S){S=S||{};var E={label:"Rectangle Body",position:{x:_,y:x},vertices:u.fromPath("L 0 0 L "+p+" 0 L "+p+" "+T+" L 0 "+T)};if(S.chamfer){var V=S.chamfer;E.vertices=u.chamfer(E.vertices,V.radius,V.quality,V.qualityMin,V.qualityMax),delete S.chamfer}return h.create(f.extend({},E,S))},a.trapezoid=function(_,x,p,T,S,E){E=E||{},S>=1&&f.warn("Bodies.trapezoid: slope parameter must be < 1."),S*=.5;var V=(1-S*2)*p,L=p*S,z=L+V,U=z+L,N;S<.5?N="L 0 0 L "+L+" "+-T+" L "+z+" "+-T+" L "+U+" 0":N="L 0 0 L "+z+" "+-T+" L "+U+" 0";var j={label:"Trapezoid Body",position:{x:_,y:x},vertices:u.fromPath(N)};if(E.chamfer){var R=E.chamfer;j.vertices=u.chamfer(j.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete E.chamfer}return h.create(f.extend({},j,E))},a.circle=function(_,x,p,T,S){T=T||{};var E={label:"Circle Body",circleRadius:p};S=S||25;var V=Math.ceil(Math.max(10,Math.min(S,p)));return V%2===1&&(V+=1),a.polygon(_,x,V,p,f.extend({},E,T))},a.polygon=function(_,x,p,T,S){if(S=S||{},p<3)return a.circle(_,x,T,S);for(var E=2*Math.PI/p,V="",L=E*.5,z=0;z<p;z+=1){var U=L+z*E,N=Math.cos(U)*T,j=Math.sin(U)*T;V+="L "+N.toFixed(3)+" "+j.toFixed(3)+" "}var R={label:"Polygon Body",position:{x:_,y:x},vertices:u.fromPath(V)};if(S.chamfer){var b=S.chamfer;R.vertices=u.chamfer(R.vertices,b.radius,b.quality,b.qualityMin,b.qualityMax),delete S.chamfer}return h.create(f.extend({},R,S))},a.fromVertices=function(_,x,p,T,S,E,V,L){var z=f.getDecomp(),U,N,j,R,b,C,w,M,I,P,ee;for(U=!!(z&&z.quickDecomp),T=T||{},j=[],S=typeof S<"u"?S:!1,E=typeof E<"u"?E:.01,V=typeof V<"u"?V:10,L=typeof L<"u"?L:.01,f.isArray(p[0])||(p=[p]),P=0;P<p.length;P+=1)if(C=p[P],R=u.isConvex(C),b=!R,b&&!U&&f.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),R||!U)R?C=u.clockwiseSort(C):C=u.hull(C),j.push({position:{x:_,y:x},vertices:C});else{var te=C.map(function(ge){return[ge.x,ge.y]});z.makeCCW(te),E!==!1&&z.removeCollinearPoints(te,E),L!==!1&&z.removeDuplicatePoints&&z.removeDuplicatePoints(te,L);var q=z.quickDecomp(te);for(w=0;w<q.length;w++){var W=q[w],ce=W.map(function(ge){return{x:ge[0],y:ge[1]}});V>0&&u.area(ce)<V||j.push({position:u.centre(ce),vertices:ce})}}for(w=0;w<j.length;w++)j[w]=h.create(f.extend(j[w],T));if(S){var ve=5;for(w=0;w<j.length;w++){var we=j[w];for(M=w+1;M<j.length;M++){var Y=j[M];if(d.overlaps(we.bounds,Y.bounds)){var H=we.vertices,$=Y.vertices;for(I=0;I<we.vertices.length;I++)for(ee=0;ee<Y.vertices.length;ee++){var J=g.magnitudeSquared(g.sub(H[(I+1)%H.length],$[ee])),he=g.magnitudeSquared(g.sub(H[I],$[(ee+1)%$.length]));J<ve&&he<ve&&(H[I].isInternal=!0,$[ee].isInternal=!0)}}}}}return j.length>1?(N=h.create(f.extend({parts:j.slice(0)},T)),h.setPosition(N,{x:_,y:x}),N):j[0]}})()}),(function(n,r,s){var a={};n.exports=a;var u=s(0),f=s(8);(function(){a.create=function(h){var d={bodies:[],collisions:[],pairs:null};return u.extend(d,h)},a.setBodies=function(h,d){h.bodies=d.slice(0)},a.clear=function(h){h.bodies=[],h.collisions=[]},a.collisions=function(h){var d=h.pairs,g=h.bodies,_=g.length,x=a.canCollide,p=f.collides,T=h.collisions,S=0,E,V;for(g.sort(a._compareBoundsX),E=0;E<_;E++){var L=g[E],z=L.bounds,U=L.bounds.max.x,N=L.bounds.max.y,j=L.bounds.min.y,R=L.isStatic||L.isSleeping,b=L.parts.length,C=b===1;for(V=E+1;V<_;V++){var w=g[V],M=w.bounds;if(M.min.x>U)break;if(!(N<M.min.y||j>M.max.y)&&!(R&&(w.isStatic||w.isSleeping))&&x(L.collisionFilter,w.collisionFilter)){var I=w.parts.length;if(C&&I===1){var P=p(L,w,d);P&&(T[S++]=P)}else for(var ee=b>1?1:0,te=I>1?1:0,q=ee;q<b;q++)for(var W=L.parts[q],z=W.bounds,ce=te;ce<I;ce++){var ve=w.parts[ce],M=ve.bounds;if(!(z.min.x>M.max.x||z.max.x<M.min.x||z.max.y<M.min.y||z.min.y>M.max.y)){var P=p(W,ve,d);P&&(T[S++]=P)}}}}}return T.length!==S&&(T.length=S),T},a.canCollide=function(h,d){return h.group===d.group&&h.group!==0?h.group>0:(h.mask&d.category)!==0&&(d.mask&h.category)!==0},a._compareBoundsX=function(h,d){return h.bounds.min.x-d.bounds.min.x}})()}),(function(n,r,s){var a={};n.exports=a;var u=s(0);(function(){a.create=function(f){var h={};return f||u.log("Mouse.create: element was undefined, defaulting to document.body","warn"),h.element=f||document.body,h.absolute={x:0,y:0},h.position={x:0,y:0},h.mousedownPosition={x:0,y:0},h.mouseupPosition={x:0,y:0},h.offset={x:0,y:0},h.scale={x:1,y:1},h.wheelDelta=0,h.button=-1,h.pixelRatio=parseInt(h.element.getAttribute("data-pixel-ratio"),10)||1,h.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},h.mousemove=function(d){var g=a._getRelativeMousePosition(d,h.element,h.pixelRatio),_=d.changedTouches;_&&(h.button=0,d.preventDefault()),h.absolute.x=g.x,h.absolute.y=g.y,h.position.x=h.absolute.x*h.scale.x+h.offset.x,h.position.y=h.absolute.y*h.scale.y+h.offset.y,h.sourceEvents.mousemove=d},h.mousedown=function(d){var g=a._getRelativeMousePosition(d,h.element,h.pixelRatio),_=d.changedTouches;_?(h.button=0,d.preventDefault()):h.button=d.button,h.absolute.x=g.x,h.absolute.y=g.y,h.position.x=h.absolute.x*h.scale.x+h.offset.x,h.position.y=h.absolute.y*h.scale.y+h.offset.y,h.mousedownPosition.x=h.position.x,h.mousedownPosition.y=h.position.y,h.sourceEvents.mousedown=d},h.mouseup=function(d){var g=a._getRelativeMousePosition(d,h.element,h.pixelRatio),_=d.changedTouches;_&&d.preventDefault(),h.button=-1,h.absolute.x=g.x,h.absolute.y=g.y,h.position.x=h.absolute.x*h.scale.x+h.offset.x,h.position.y=h.absolute.y*h.scale.y+h.offset.y,h.mouseupPosition.x=h.position.x,h.mouseupPosition.y=h.position.y,h.sourceEvents.mouseup=d},h.mousewheel=function(d){h.wheelDelta=Math.max(-1,Math.min(1,d.wheelDelta||-d.detail)),d.preventDefault(),h.sourceEvents.mousewheel=d},a.setElement(h,h.element),h},a.setElement=function(f,h){f.element=h,h.addEventListener("mousemove",f.mousemove,{passive:!0}),h.addEventListener("mousedown",f.mousedown,{passive:!0}),h.addEventListener("mouseup",f.mouseup,{passive:!0}),h.addEventListener("wheel",f.mousewheel,{passive:!1}),h.addEventListener("touchmove",f.mousemove,{passive:!1}),h.addEventListener("touchstart",f.mousedown,{passive:!1}),h.addEventListener("touchend",f.mouseup,{passive:!1})},a.clearSourceEvents=function(f){f.sourceEvents.mousemove=null,f.sourceEvents.mousedown=null,f.sourceEvents.mouseup=null,f.sourceEvents.mousewheel=null,f.wheelDelta=0},a.setOffset=function(f,h){f.offset.x=h.x,f.offset.y=h.y,f.position.x=f.absolute.x*f.scale.x+f.offset.x,f.position.y=f.absolute.y*f.scale.y+f.offset.y},a.setScale=function(f,h){f.scale.x=h.x,f.scale.y=h.y,f.position.x=f.absolute.x*f.scale.x+f.offset.x,f.position.y=f.absolute.y*f.scale.y+f.offset.y},a._getRelativeMousePosition=function(f,h,d){var g=h.getBoundingClientRect(),_=document.documentElement||document.body.parentNode||document.body,x=window.pageXOffset!==void 0?window.pageXOffset:_.scrollLeft,p=window.pageYOffset!==void 0?window.pageYOffset:_.scrollTop,T=f.changedTouches,S,E;return T?(S=T[0].pageX-g.left-x,E=T[0].pageY-g.top-p):(S=f.pageX-g.left-x,E=f.pageY-g.top-p),{x:S/(h.clientWidth/(h.width||h.clientWidth)*d),y:E/(h.clientHeight/(h.height||h.clientHeight)*d)}}})()}),(function(n,r,s){var a={};n.exports=a;var u=s(0);(function(){a._registry={},a.register=function(f){if(a.isPlugin(f)||u.warn("Plugin.register:",a.toString(f),"does not implement all required fields."),f.name in a._registry){var h=a._registry[f.name],d=a.versionParse(f.version).number,g=a.versionParse(h.version).number;d>g?(u.warn("Plugin.register:",a.toString(h),"was upgraded to",a.toString(f)),a._registry[f.name]=f):d<g?u.warn("Plugin.register:",a.toString(h),"can not be downgraded to",a.toString(f)):f!==h&&u.warn("Plugin.register:",a.toString(f),"is already registered to different plugin object")}else a._registry[f.name]=f;return f},a.resolve=function(f){return a._registry[a.dependencyParse(f).name]},a.toString=function(f){return typeof f=="string"?f:(f.name||"anonymous")+"@"+(f.version||f.range||"0.0.0")},a.isPlugin=function(f){return f&&f.name&&f.version&&f.install},a.isUsed=function(f,h){return f.used.indexOf(h)>-1},a.isFor=function(f,h){var d=f.for&&a.dependencyParse(f.for);return!f.for||h.name===d.name&&a.versionSatisfies(h.version,d.range)},a.use=function(f,h){if(f.uses=(f.uses||[]).concat(h||[]),f.uses.length===0){u.warn("Plugin.use:",a.toString(f),"does not specify any dependencies to install.");return}for(var d=a.dependencies(f),g=u.topologicalSort(d),_=[],x=0;x<g.length;x+=1)if(g[x]!==f.name){var p=a.resolve(g[x]);if(!p){_.push(" "+g[x]);continue}a.isUsed(f,p.name)||(a.isFor(p,f)||(u.warn("Plugin.use:",a.toString(p),"is for",p.for,"but installed on",a.toString(f)+"."),p._warned=!0),p.install?p.install(f):(u.warn("Plugin.use:",a.toString(p),"does not specify an install function."),p._warned=!0),p._warned?(_.push(" "+a.toString(p)),delete p._warned):_.push(" "+a.toString(p)),f.used.push(p.name))}_.length>0&&u.info(_.join("  "))},a.dependencies=function(f,h){var d=a.dependencyParse(f),g=d.name;if(h=h||{},!(g in h)){f=a.resolve(f)||f,h[g]=u.map(f.uses||[],function(x){a.isPlugin(x)&&a.register(x);var p=a.dependencyParse(x),T=a.resolve(x);return T&&!a.versionSatisfies(T.version,p.range)?(u.warn("Plugin.dependencies:",a.toString(T),"does not satisfy",a.toString(p),"used by",a.toString(d)+"."),T._warned=!0,f._warned=!0):T||(u.warn("Plugin.dependencies:",a.toString(x),"used by",a.toString(d),"could not be resolved."),f._warned=!0),p.name});for(var _=0;_<h[g].length;_+=1)a.dependencies(h[g][_],h);return h}},a.dependencyParse=function(f){if(u.isString(f)){var h=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return h.test(f)||u.warn("Plugin.dependencyParse:",f,"is not a valid dependency string."),{name:f.split("@")[0],range:f.split("@")[1]||"*"}}return{name:f.name,range:f.range||f.version}},a.versionParse=function(f){var h=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;h.test(f)||u.warn("Plugin.versionParse:",f,"is not a valid version or range.");var d=h.exec(f),g=Number(d[4]),_=Number(d[5]),x=Number(d[6]);return{isRange:!!(d[1]||d[2]),version:d[3],range:f,operator:d[1]||d[2]||"",major:g,minor:_,patch:x,parts:[g,_,x],prerelease:d[7],number:g*1e8+_*1e4+x}},a.versionSatisfies=function(f,h){h=h||"*";var d=a.versionParse(h),g=a.versionParse(f);if(d.isRange){if(d.operator==="*"||f==="*")return!0;if(d.operator===">")return g.number>d.number;if(d.operator===">=")return g.number>=d.number;if(d.operator==="~")return g.major===d.major&&g.minor===d.minor&&g.patch>=d.patch;if(d.operator==="^")return d.major>0?g.major===d.major&&g.number>=d.number:d.minor>0?g.minor===d.minor&&g.patch>=d.patch:g.patch===d.patch}return f===h||f==="*"}})()}),(function(n,r){var s={};n.exports=s,(function(){s.create=function(a){return{vertex:a,normalImpulse:0,tangentImpulse:0}}})()}),(function(n,r,s){var a={};n.exports=a;var u=s(7),f=s(18),h=s(13),d=s(19),g=s(5),_=s(6),x=s(10),p=s(0),T=s(4);(function(){a._deltaMax=1e3/60,a.create=function(S){S=S||{};var E={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},V=p.extend(E,S);return V.world=S.world||_.create({label:"World"}),V.pairs=S.pairs||d.create(),V.detector=S.detector||h.create(),V.detector.pairs=V.pairs,V.grid={buckets:[]},V.world.gravity=V.gravity,V.broadphase=V.grid,V.metrics={},V},a.update=function(S,E){var V=p.now(),L=S.world,z=S.detector,U=S.pairs,N=S.timing,j=N.timestamp,R;E>a._deltaMax&&p.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",a._deltaMax.toFixed(3),"ms."),E=typeof E<"u"?E:p._baseDelta,E*=N.timeScale,N.timestamp+=E,N.lastDelta=E;var b={timestamp:N.timestamp,delta:E};g.trigger(S,"beforeUpdate",b);var C=_.allBodies(L),w=_.allConstraints(L);for(L.isModified&&(h.setBodies(z,C),_.setModified(L,!1,!1,!0)),S.enableSleeping&&u.update(C,E),a._bodiesApplyGravity(C,S.gravity),E>0&&a._bodiesUpdate(C,E),g.trigger(S,"beforeSolve",b),x.preSolveAll(C),R=0;R<S.constraintIterations;R++)x.solveAll(w,E);x.postSolveAll(C);var M=h.collisions(z);d.update(U,M,j),S.enableSleeping&&u.afterCollisions(U.list),U.collisionStart.length>0&&g.trigger(S,"collisionStart",{pairs:U.collisionStart,timestamp:N.timestamp,delta:E});var I=p.clamp(20/S.positionIterations,0,1);for(f.preSolvePosition(U.list),R=0;R<S.positionIterations;R++)f.solvePosition(U.list,E,I);for(f.postSolvePosition(C),x.preSolveAll(C),R=0;R<S.constraintIterations;R++)x.solveAll(w,E);for(x.postSolveAll(C),f.preSolveVelocity(U.list),R=0;R<S.velocityIterations;R++)f.solveVelocity(U.list,E);return a._bodiesUpdateVelocities(C),U.collisionActive.length>0&&g.trigger(S,"collisionActive",{pairs:U.collisionActive,timestamp:N.timestamp,delta:E}),U.collisionEnd.length>0&&g.trigger(S,"collisionEnd",{pairs:U.collisionEnd,timestamp:N.timestamp,delta:E}),a._bodiesClearForces(C),g.trigger(S,"afterUpdate",b),S.timing.lastElapsed=p.now()-V,S},a.merge=function(S,E){if(p.extend(S,E),E.world){S.world=E.world,a.clear(S);for(var V=_.allBodies(S.world),L=0;L<V.length;L++){var z=V[L];u.set(z,!1),z.id=p.nextId()}}},a.clear=function(S){d.clear(S.pairs),h.clear(S.detector)},a._bodiesClearForces=function(S){for(var E=S.length,V=0;V<E;V++){var L=S[V];L.force.x=0,L.force.y=0,L.torque=0}},a._bodiesApplyGravity=function(S,E){var V=typeof E.scale<"u"?E.scale:.001,L=S.length;if(!(E.x===0&&E.y===0||V===0))for(var z=0;z<L;z++){var U=S[z];U.isStatic||U.isSleeping||(U.force.y+=U.mass*E.y*V,U.force.x+=U.mass*E.x*V)}},a._bodiesUpdate=function(S,E){for(var V=S.length,L=0;L<V;L++){var z=S[L];z.isStatic||z.isSleeping||T.update(z,E)}},a._bodiesUpdateVelocities=function(S){for(var E=S.length,V=0;V<E;V++)T.updateVelocities(S[V])}})()}),(function(n,r,s){var a={};n.exports=a;var u=s(3),f=s(0),h=s(1);(function(){a._restingThresh=2,a._restingThreshTangent=Math.sqrt(6),a._positionDampen=.9,a._positionWarming=.8,a._frictionNormalMultiplier=5,a._frictionMaxStatic=Number.MAX_VALUE,a.preSolvePosition=function(d){var g,_,x,p=d.length;for(g=0;g<p;g++)_=d[g],_.isActive&&(x=_.contactCount,_.collision.parentA.totalContacts+=x,_.collision.parentB.totalContacts+=x)},a.solvePosition=function(d,g,_){var x,p,T,S,E,V,L,z,U=a._positionDampen*(_||1),N=f.clamp(g/f._baseDelta,0,1),j=d.length;for(x=0;x<j;x++)p=d[x],!(!p.isActive||p.isSensor)&&(T=p.collision,S=T.parentA,E=T.parentB,V=T.normal,p.separation=T.depth+V.x*(E.positionImpulse.x-S.positionImpulse.x)+V.y*(E.positionImpulse.y-S.positionImpulse.y));for(x=0;x<j;x++)p=d[x],!(!p.isActive||p.isSensor)&&(T=p.collision,S=T.parentA,E=T.parentB,V=T.normal,z=p.separation-p.slop*N,(S.isStatic||E.isStatic)&&(z*=2),S.isStatic||S.isSleeping||(L=U/S.totalContacts,S.positionImpulse.x+=V.x*z*L,S.positionImpulse.y+=V.y*z*L),E.isStatic||E.isSleeping||(L=U/E.totalContacts,E.positionImpulse.x-=V.x*z*L,E.positionImpulse.y-=V.y*z*L))},a.postSolvePosition=function(d){for(var g=a._positionWarming,_=d.length,x=u.translate,p=h.update,T=0;T<_;T++){var S=d[T],E=S.positionImpulse,V=E.x,L=E.y,z=S.velocity;if(S.totalContacts=0,V!==0||L!==0){for(var U=0;U<S.parts.length;U++){var N=S.parts[U];x(N.vertices,E),p(N.bounds,N.vertices,z),N.position.x+=V,N.position.y+=L}S.positionPrev.x+=V,S.positionPrev.y+=L,V*z.x+L*z.y<0?(E.x=0,E.y=0):(E.x*=g,E.y*=g)}}},a.preSolveVelocity=function(d){var g=d.length,_,x;for(_=0;_<g;_++){var p=d[_];if(!(!p.isActive||p.isSensor)){var T=p.contacts,S=p.contactCount,E=p.collision,V=E.parentA,L=E.parentB,z=E.normal,U=E.tangent;for(x=0;x<S;x++){var N=T[x],j=N.vertex,R=N.normalImpulse,b=N.tangentImpulse;if(R!==0||b!==0){var C=z.x*R+U.x*b,w=z.y*R+U.y*b;V.isStatic||V.isSleeping||(V.positionPrev.x+=C*V.inverseMass,V.positionPrev.y+=w*V.inverseMass,V.anglePrev+=V.inverseInertia*((j.x-V.position.x)*w-(j.y-V.position.y)*C)),L.isStatic||L.isSleeping||(L.positionPrev.x-=C*L.inverseMass,L.positionPrev.y-=w*L.inverseMass,L.anglePrev-=L.inverseInertia*((j.x-L.position.x)*w-(j.y-L.position.y)*C))}}}}},a.solveVelocity=function(d,g){var _=g/f._baseDelta,x=_*_,p=x*_,T=-a._restingThresh*_,S=a._restingThreshTangent,E=a._frictionNormalMultiplier*_,V=a._frictionMaxStatic,L=d.length,z,U,N,j;for(N=0;N<L;N++){var R=d[N];if(!(!R.isActive||R.isSensor)){var b=R.collision,C=b.parentA,w=b.parentB,M=b.normal.x,I=b.normal.y,P=b.tangent.x,ee=b.tangent.y,te=R.inverseMass,q=R.friction*R.frictionStatic*E,W=R.contacts,ce=R.contactCount,ve=1/ce,we=C.position.x-C.positionPrev.x,Y=C.position.y-C.positionPrev.y,H=C.angle-C.anglePrev,$=w.position.x-w.positionPrev.x,J=w.position.y-w.positionPrev.y,he=w.angle-w.anglePrev;for(j=0;j<ce;j++){var ge=W[j],xe=ge.vertex,Me=xe.x-C.position.x,Se=xe.y-C.position.y,Oe=xe.x-w.position.x,Ue=xe.y-w.position.y,Ge=we-Se*H,Pn=Y+Me*H,yn=$-Ue*he,ki=J+Oe*he,di=Ge-yn,G=Pn-ki,pe=M*di+I*G,K=P*di+ee*G,be=R.separation+pe,Ce=Math.min(be,1);Ce=be<0?0:Ce;var je=Ce*q;K<-je||K>je?(U=K>0?K:-K,z=R.friction*(K>0?1:-1)*p,z<-U?z=-U:z>U&&(z=U)):(z=K,U=V);var tt=Me*I-Se*M,Te=Oe*I-Ue*M,rt=ve/(te+C.inverseInertia*tt*tt+w.inverseInertia*Te*Te),ft=(1+R.restitution)*pe*rt;if(z*=rt,pe<T)ge.normalImpulse=0;else{var Et=ge.normalImpulse;ge.normalImpulse+=ft,ge.normalImpulse>0&&(ge.normalImpulse=0),ft=ge.normalImpulse-Et}if(K<-S||K>S)ge.tangentImpulse=0;else{var _t=ge.tangentImpulse;ge.tangentImpulse+=z,ge.tangentImpulse<-U&&(ge.tangentImpulse=-U),ge.tangentImpulse>U&&(ge.tangentImpulse=U),z=ge.tangentImpulse-_t}var Ct=M*ft+P*z,cn=I*ft+ee*z;C.isStatic||C.isSleeping||(C.positionPrev.x+=Ct*C.inverseMass,C.positionPrev.y+=cn*C.inverseMass,C.anglePrev+=(Me*cn-Se*Ct)*C.inverseInertia),w.isStatic||w.isSleeping||(w.positionPrev.x-=Ct*w.inverseMass,w.positionPrev.y-=cn*w.inverseMass,w.anglePrev-=(Oe*cn-Ue*Ct)*w.inverseInertia)}}}}})()}),(function(n,r,s){var a={};n.exports=a;var u=s(9),f=s(0);(function(){a.create=function(h){return f.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},h)},a.update=function(h,d,g){var _=u.update,x=u.create,p=u.setActive,T=h.table,S=h.list,E=S.length,V=E,L=h.collisionStart,z=h.collisionEnd,U=h.collisionActive,N=d.length,j=0,R=0,b=0,C,w,M;for(M=0;M<N;M++)C=d[M],w=C.pair,w?(w.isActive&&(U[b++]=w),_(w,C,g)):(w=x(C,g),T[w.id]=w,L[j++]=w,S[V++]=w);for(V=0,E=S.length,M=0;M<E;M++)w=S[M],w.timeUpdated>=g?S[V++]=w:(p(w,!1,g),w.collision.bodyA.sleepCounter>0&&w.collision.bodyB.sleepCounter>0?S[V++]=w:(z[R++]=w,delete T[w.id]));S.length!==V&&(S.length=V),L.length!==j&&(L.length=j),z.length!==R&&(z.length=R),U.length!==b&&(U.length=b)},a.clear=function(h){return h.table={},h.list.length=0,h.collisionStart.length=0,h.collisionActive.length=0,h.collisionEnd.length=0,h}})()}),(function(n,r,s){var a=n.exports=s(21);a.Axes=s(11),a.Bodies=s(12),a.Body=s(4),a.Bounds=s(1),a.Collision=s(8),a.Common=s(0),a.Composite=s(6),a.Composites=s(22),a.Constraint=s(10),a.Contact=s(16),a.Detector=s(13),a.Engine=s(17),a.Events=s(5),a.Grid=s(23),a.Mouse=s(14),a.MouseConstraint=s(24),a.Pair=s(9),a.Pairs=s(19),a.Plugin=s(15),a.Query=s(25),a.Render=s(26),a.Resolver=s(18),a.Runner=s(27),a.SAT=s(28),a.Sleeping=s(7),a.Svg=s(29),a.Vector=s(2),a.Vertices=s(3),a.World=s(30),a.Engine.run=a.Runner.run,a.Common.deprecated(a.Engine,"run","Engine.run  use Matter.Runner.run(engine) instead")}),(function(n,r,s){var a={};n.exports=a;var u=s(15),f=s(0);(function(){a.name="matter-js",a.version="0.20.0",a.uses=[],a.used=[],a.use=function(){u.use(a,Array.prototype.slice.call(arguments))},a.before=function(h,d){return h=h.replace(/^Matter./,""),f.chainPathBefore(a,h,d)},a.after=function(h,d){return h=h.replace(/^Matter./,""),f.chainPathAfter(a,h,d)}})()}),(function(n,r,s){var a={};n.exports=a;var u=s(6),f=s(10),h=s(0),d=s(4),g=s(12),_=h.deprecated;(function(){a.stack=function(x,p,T,S,E,V,L){for(var z=u.create({label:"Stack"}),U=x,N=p,j,R=0,b=0;b<S;b++){for(var C=0,w=0;w<T;w++){var M=L(U,N,w,b,j,R);if(M){var I=M.bounds.max.y-M.bounds.min.y,P=M.bounds.max.x-M.bounds.min.x;I>C&&(C=I),d.translate(M,{x:P*.5,y:I*.5}),U=M.bounds.max.x+E,u.addBody(z,M),j=M,R+=1}else U+=E}N+=C+V,U=x}return z},a.chain=function(x,p,T,S,E,V){for(var L=x.bodies,z=1;z<L.length;z++){var U=L[z-1],N=L[z],j=U.bounds.max.y-U.bounds.min.y,R=U.bounds.max.x-U.bounds.min.x,b=N.bounds.max.y-N.bounds.min.y,C=N.bounds.max.x-N.bounds.min.x,w={bodyA:U,pointA:{x:R*p,y:j*T},bodyB:N,pointB:{x:C*S,y:b*E}},M=h.extend(w,V);u.addConstraint(x,f.create(M))}return x.label+=" Chain",x},a.mesh=function(x,p,T,S,E){var V=x.bodies,L,z,U,N,j;for(L=0;L<T;L++){for(z=1;z<p;z++)U=V[z-1+L*p],N=V[z+L*p],u.addConstraint(x,f.create(h.extend({bodyA:U,bodyB:N},E)));if(L>0)for(z=0;z<p;z++)U=V[z+(L-1)*p],N=V[z+L*p],u.addConstraint(x,f.create(h.extend({bodyA:U,bodyB:N},E))),S&&z>0&&(j=V[z-1+(L-1)*p],u.addConstraint(x,f.create(h.extend({bodyA:j,bodyB:N},E)))),S&&z<p-1&&(j=V[z+1+(L-1)*p],u.addConstraint(x,f.create(h.extend({bodyA:j,bodyB:N},E))))}return x.label+=" Mesh",x},a.pyramid=function(x,p,T,S,E,V,L){return a.stack(x,p,T,S,E,V,function(z,U,N,j,R,b){var C=Math.min(S,Math.ceil(T/2)),w=R?R.bounds.max.x-R.bounds.min.x:0;if(!(j>C)){j=C-j;var M=j,I=T-1-j;if(!(N<M||N>I)){b===1&&d.translate(R,{x:(N+(T%2===1?1:-1))*w,y:0});var P=R?N*w:0;return L(x+P+N*E,U,N,j,R,b)}}})},a.newtonsCradle=function(x,p,T,S,E){for(var V=u.create({label:"Newtons Cradle"}),L=0;L<T;L++){var z=1.9,U=g.circle(x+L*(S*z),p+E,S,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),N=f.create({pointA:{x:x+L*(S*z),y:p},bodyB:U});u.addBody(V,U),u.addConstraint(V,N)}return V},_(a,"newtonsCradle","Composites.newtonsCradle  moved to newtonsCradle example"),a.car=function(x,p,T,S,E){var V=d.nextGroup(!0),L=20,z=-T*.5+L,U=T*.5-L,N=0,j=u.create({label:"Car"}),R=g.rectangle(x,p,T,S,{collisionFilter:{group:V},chamfer:{radius:S*.5},density:2e-4}),b=g.circle(x+z,p+N,E,{collisionFilter:{group:V},friction:.8}),C=g.circle(x+U,p+N,E,{collisionFilter:{group:V},friction:.8}),w=f.create({bodyB:R,pointB:{x:z,y:N},bodyA:b,stiffness:1,length:0}),M=f.create({bodyB:R,pointB:{x:U,y:N},bodyA:C,stiffness:1,length:0});return u.addBody(j,R),u.addBody(j,b),u.addBody(j,C),u.addConstraint(j,w),u.addConstraint(j,M),j},_(a,"car","Composites.car  moved to car example"),a.softBody=function(x,p,T,S,E,V,L,z,U,N){U=h.extend({inertia:1/0},U),N=h.extend({stiffness:.2,render:{type:"line",anchors:!1}},N);var j=a.stack(x,p,T,S,E,V,function(R,b){return g.circle(R,b,z,U)});return a.mesh(j,T,S,L,N),j.label="Soft Body",j},_(a,"softBody","Composites.softBody  moved to softBody and cloth examples")})()}),(function(n,r,s){var a={};n.exports=a;var u=s(9),f=s(0),h=f.deprecated;(function(){a.create=function(d){var g={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return f.extend(g,d)},a.update=function(d,g,_,x){var p,T,S,E=_.world,V=d.buckets,L,z,U=!1;for(p=0;p<g.length;p++){var N=g[p];if(!(N.isSleeping&&!x)&&!(E.bounds&&(N.bounds.max.x<E.bounds.min.x||N.bounds.min.x>E.bounds.max.x||N.bounds.max.y<E.bounds.min.y||N.bounds.min.y>E.bounds.max.y))){var j=a._getRegion(d,N);if(!N.region||j.id!==N.region.id||x){(!N.region||x)&&(N.region=j);var R=a._regionUnion(j,N.region);for(T=R.startCol;T<=R.endCol;T++)for(S=R.startRow;S<=R.endRow;S++){z=a._getBucketId(T,S),L=V[z];var b=T>=j.startCol&&T<=j.endCol&&S>=j.startRow&&S<=j.endRow,C=T>=N.region.startCol&&T<=N.region.endCol&&S>=N.region.startRow&&S<=N.region.endRow;!b&&C&&C&&L&&a._bucketRemoveBody(d,L,N),(N.region===j||b&&!C||x)&&(L||(L=a._createBucket(V,z)),a._bucketAddBody(d,L,N))}N.region=j,U=!0}}}U&&(d.pairsList=a._createActivePairsList(d))},h(a,"update","Grid.update  replaced by Matter.Detector"),a.clear=function(d){d.buckets={},d.pairs={},d.pairsList=[]},h(a,"clear","Grid.clear  replaced by Matter.Detector"),a._regionUnion=function(d,g){var _=Math.min(d.startCol,g.startCol),x=Math.max(d.endCol,g.endCol),p=Math.min(d.startRow,g.startRow),T=Math.max(d.endRow,g.endRow);return a._createRegion(_,x,p,T)},a._getRegion=function(d,g){var _=g.bounds,x=Math.floor(_.min.x/d.bucketWidth),p=Math.floor(_.max.x/d.bucketWidth),T=Math.floor(_.min.y/d.bucketHeight),S=Math.floor(_.max.y/d.bucketHeight);return a._createRegion(x,p,T,S)},a._createRegion=function(d,g,_,x){return{id:d+","+g+","+_+","+x,startCol:d,endCol:g,startRow:_,endRow:x}},a._getBucketId=function(d,g){return"C"+d+"R"+g},a._createBucket=function(d,g){var _=d[g]=[];return _},a._bucketAddBody=function(d,g,_){var x=d.pairs,p=u.id,T=g.length,S;for(S=0;S<T;S++){var E=g[S];if(!(_.id===E.id||_.isStatic&&E.isStatic)){var V=p(_,E),L=x[V];L?L[2]+=1:x[V]=[_,E,1]}}g.push(_)},a._bucketRemoveBody=function(d,g,_){var x=d.pairs,p=u.id,T;g.splice(f.indexOf(g,_),1);var S=g.length;for(T=0;T<S;T++){var E=x[p(_,g[T])];E&&(E[2]-=1)}},a._createActivePairsList=function(d){var g,_=d.pairs,x=f.keys(_),p=x.length,T=[],S;for(S=0;S<p;S++)g=_[x[S]],g[2]>0?T.push(g):delete _[x[S]];return T}})()}),(function(n,r,s){var a={};n.exports=a;var u=s(3),f=s(7),h=s(14),d=s(5),g=s(13),_=s(10),x=s(6),p=s(0),T=s(1);(function(){a.create=function(S,E){var V=(S?S.mouse:null)||(E?E.mouse:null);V||(S&&S.render&&S.render.canvas?V=h.create(S.render.canvas):E&&E.element?V=h.create(E.element):(V=h.create(),p.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var L=_.create({label:"Mouse Constraint",pointA:V.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),z={type:"mouseConstraint",mouse:V,element:null,body:null,constraint:L,collisionFilter:{category:1,mask:4294967295,group:0}},U=p.extend(z,E);return d.on(S,"beforeUpdate",function(){var N=x.allBodies(S.world);a.update(U,N),a._triggerEvents(U)}),U},a.update=function(S,E){var V=S.mouse,L=S.constraint,z=S.body;if(V.button===0){if(L.bodyB)f.set(L.bodyB,!1),L.pointA=V.position;else for(var U=0;U<E.length;U++)if(z=E[U],T.contains(z.bounds,V.position)&&g.canCollide(z.collisionFilter,S.collisionFilter))for(var N=z.parts.length>1?1:0;N<z.parts.length;N++){var j=z.parts[N];if(u.contains(j.vertices,V.position)){L.pointA=V.position,L.bodyB=S.body=z,L.pointB={x:V.position.x-z.position.x,y:V.position.y-z.position.y},L.angleB=z.angle,f.set(z,!1),d.trigger(S,"startdrag",{mouse:V,body:z});break}}}else L.bodyB=S.body=null,L.pointB=null,z&&d.trigger(S,"enddrag",{mouse:V,body:z})},a._triggerEvents=function(S){var E=S.mouse,V=E.sourceEvents;V.mousemove&&d.trigger(S,"mousemove",{mouse:E}),V.mousedown&&d.trigger(S,"mousedown",{mouse:E}),V.mouseup&&d.trigger(S,"mouseup",{mouse:E}),h.clearSourceEvents(E)}})()}),(function(n,r,s){var a={};n.exports=a;var u=s(2),f=s(8),h=s(1),d=s(12),g=s(3);(function(){a.collides=function(_,x){for(var p=[],T=x.length,S=_.bounds,E=f.collides,V=h.overlaps,L=0;L<T;L++){var z=x[L],U=z.parts.length,N=U===1?0:1;if(V(z.bounds,S))for(var j=N;j<U;j++){var R=z.parts[j];if(V(R.bounds,S)){var b=E(R,_);if(b){p.push(b);break}}}}return p},a.ray=function(_,x,p,T){T=T||1e-100;for(var S=u.angle(x,p),E=u.magnitude(u.sub(x,p)),V=(p.x+x.x)*.5,L=(p.y+x.y)*.5,z=d.rectangle(V,L,E,T,{angle:S}),U=a.collides(z,_),N=0;N<U.length;N+=1){var j=U[N];j.body=j.bodyB=j.bodyA}return U},a.region=function(_,x,p){for(var T=[],S=0;S<_.length;S++){var E=_[S],V=h.overlaps(E.bounds,x);(V&&!p||!V&&p)&&T.push(E)}return T},a.point=function(_,x){for(var p=[],T=0;T<_.length;T++){var S=_[T];if(h.contains(S.bounds,x))for(var E=S.parts.length===1?0:1;E<S.parts.length;E++){var V=S.parts[E];if(h.contains(V.bounds,x)&&g.contains(V.vertices,x)){p.push(S);break}}}return p}})()}),(function(n,r,s){var a={};n.exports=a;var u=s(4),f=s(0),h=s(6),d=s(1),g=s(5),_=s(2),x=s(14);(function(){var p,T;typeof window<"u"&&(p=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(N){window.setTimeout(function(){N(f.now())},1e3/60)},T=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),a._goodFps=30,a._goodDelta=1e3/60,a.create=function(N){var j={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!N.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},R=f.extend(j,N);return R.canvas&&(R.canvas.width=R.options.width||R.canvas.width,R.canvas.height=R.options.height||R.canvas.height),R.mouse=N.mouse,R.engine=N.engine,R.canvas=R.canvas||V(R.options.width,R.options.height),R.context=R.canvas.getContext("2d"),R.textures={},R.bounds=R.bounds||{min:{x:0,y:0},max:{x:R.canvas.width,y:R.canvas.height}},R.controller=a,R.options.showBroadphase=!1,R.options.pixelRatio!==1&&a.setPixelRatio(R,R.options.pixelRatio),f.isElement(R.element)&&R.element.appendChild(R.canvas),R},a.run=function(N){(function j(R){N.frameRequestId=p(j),S(N,R),a.world(N,R),N.context.setTransform(N.options.pixelRatio,0,0,N.options.pixelRatio,0,0),(N.options.showStats||N.options.showDebug)&&a.stats(N,N.context,R),(N.options.showPerformance||N.options.showDebug)&&a.performance(N,N.context,R),N.context.setTransform(1,0,0,1,0,0)})()},a.stop=function(N){T(N.frameRequestId)},a.setPixelRatio=function(N,j){var R=N.options,b=N.canvas;j==="auto"&&(j=L(b)),R.pixelRatio=j,b.setAttribute("data-pixel-ratio",j),b.width=R.width*j,b.height=R.height*j,b.style.width=R.width+"px",b.style.height=R.height+"px"},a.setSize=function(N,j,R){N.options.width=j,N.options.height=R,N.bounds.max.x=N.bounds.min.x+j,N.bounds.max.y=N.bounds.min.y+R,N.options.pixelRatio!==1?a.setPixelRatio(N,N.options.pixelRatio):(N.canvas.width=j,N.canvas.height=R)},a.lookAt=function(N,j,R,b){b=typeof b<"u"?b:!0,j=f.isArray(j)?j:[j],R=R||{x:0,y:0};for(var C={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},w=0;w<j.length;w+=1){var M=j[w],I=M.bounds?M.bounds.min:M.min||M.position||M,P=M.bounds?M.bounds.max:M.max||M.position||M;I&&P&&(I.x<C.min.x&&(C.min.x=I.x),P.x>C.max.x&&(C.max.x=P.x),I.y<C.min.y&&(C.min.y=I.y),P.y>C.max.y&&(C.max.y=P.y))}var ee=C.max.x-C.min.x+2*R.x,te=C.max.y-C.min.y+2*R.y,q=N.canvas.height,W=N.canvas.width,ce=W/q,ve=ee/te,we=1,Y=1;ve>ce?Y=ve/ce:we=ce/ve,N.options.hasBounds=!0,N.bounds.min.x=C.min.x,N.bounds.max.x=C.min.x+ee*we,N.bounds.min.y=C.min.y,N.bounds.max.y=C.min.y+te*Y,b&&(N.bounds.min.x+=ee*.5-ee*we*.5,N.bounds.max.x+=ee*.5-ee*we*.5,N.bounds.min.y+=te*.5-te*Y*.5,N.bounds.max.y+=te*.5-te*Y*.5),N.bounds.min.x-=R.x,N.bounds.max.x-=R.x,N.bounds.min.y-=R.y,N.bounds.max.y-=R.y,N.mouse&&(x.setScale(N.mouse,{x:(N.bounds.max.x-N.bounds.min.x)/N.canvas.width,y:(N.bounds.max.y-N.bounds.min.y)/N.canvas.height}),x.setOffset(N.mouse,N.bounds.min))},a.startViewTransform=function(N){var j=N.bounds.max.x-N.bounds.min.x,R=N.bounds.max.y-N.bounds.min.y,b=j/N.options.width,C=R/N.options.height;N.context.setTransform(N.options.pixelRatio/b,0,0,N.options.pixelRatio/C,0,0),N.context.translate(-N.bounds.min.x,-N.bounds.min.y)},a.endViewTransform=function(N){N.context.setTransform(N.options.pixelRatio,0,0,N.options.pixelRatio,0,0)},a.world=function(N,j){var R=f.now(),b=N.engine,C=b.world,w=N.canvas,M=N.context,I=N.options,P=N.timing,ee=h.allBodies(C),te=h.allConstraints(C),q=I.wireframes?I.wireframeBackground:I.background,W=[],ce=[],ve,we={timestamp:b.timing.timestamp};if(g.trigger(N,"beforeRender",we),N.currentBackground!==q&&U(N,q),M.globalCompositeOperation="source-in",M.fillStyle="transparent",M.fillRect(0,0,w.width,w.height),M.globalCompositeOperation="source-over",I.hasBounds){for(ve=0;ve<ee.length;ve++){var Y=ee[ve];d.overlaps(Y.bounds,N.bounds)&&W.push(Y)}for(ve=0;ve<te.length;ve++){var H=te[ve],$=H.bodyA,J=H.bodyB,he=H.pointA,ge=H.pointB;$&&(he=_.add($.position,H.pointA)),J&&(ge=_.add(J.position,H.pointB)),!(!he||!ge)&&(d.contains(N.bounds,he)||d.contains(N.bounds,ge))&&ce.push(H)}a.startViewTransform(N),N.mouse&&(x.setScale(N.mouse,{x:(N.bounds.max.x-N.bounds.min.x)/N.options.width,y:(N.bounds.max.y-N.bounds.min.y)/N.options.height}),x.setOffset(N.mouse,N.bounds.min))}else ce=te,W=ee,N.options.pixelRatio!==1&&N.context.setTransform(N.options.pixelRatio,0,0,N.options.pixelRatio,0,0);!I.wireframes||b.enableSleeping&&I.showSleeping?a.bodies(N,W,M):(I.showConvexHulls&&a.bodyConvexHulls(N,W,M),a.bodyWireframes(N,W,M)),I.showBounds&&a.bodyBounds(N,W,M),(I.showAxes||I.showAngleIndicator)&&a.bodyAxes(N,W,M),I.showPositions&&a.bodyPositions(N,W,M),I.showVelocity&&a.bodyVelocity(N,W,M),I.showIds&&a.bodyIds(N,W,M),I.showSeparations&&a.separations(N,b.pairs.list,M),I.showCollisions&&a.collisions(N,b.pairs.list,M),I.showVertexNumbers&&a.vertexNumbers(N,W,M),I.showMousePosition&&a.mousePosition(N,N.mouse,M),a.constraints(ce,M),I.hasBounds&&a.endViewTransform(N),g.trigger(N,"afterRender",we),P.lastElapsed=f.now()-R},a.stats=function(N,j,R){for(var b=N.engine,C=b.world,w=h.allBodies(C),M=0,I=55,P=44,ee=0,te=0,q=0;q<w.length;q+=1)M+=w[q].parts.length;var W={Part:M,Body:w.length,Cons:h.allConstraints(C).length,Comp:h.allComposites(C).length,Pair:b.pairs.list.length};j.fillStyle="#0e0f19",j.fillRect(ee,te,I*5.5,P),j.font="12px Arial",j.textBaseline="top",j.textAlign="right";for(var ce in W){var ve=W[ce];j.fillStyle="#aaa",j.fillText(ce,ee+I,te+8),j.fillStyle="#eee",j.fillText(ve,ee+I,te+26),ee+=I}},a.performance=function(N,j){var R=N.engine,b=N.timing,C=b.deltaHistory,w=b.elapsedHistory,M=b.timestampElapsedHistory,I=b.engineDeltaHistory,P=b.engineUpdatesHistory,ee=b.engineElapsedHistory,te=R.timing.lastUpdatesPerFrame,q=R.timing.lastDelta,W=E(C),ce=E(w),ve=E(I),we=E(P),Y=E(ee),H=E(M),$=H/W||0,J=Math.round(W/q),he=1e3/W||0,ge=4,xe=12,Me=60,Se=34,Oe=10,Ue=69;j.fillStyle="#0e0f19",j.fillRect(0,50,xe*5+Me*6+22,Se),a.status(j,Oe,Ue,Me,ge,C.length,Math.round(he)+" fps",he/a._goodFps,function(Ge){return C[Ge]/W-1}),a.status(j,Oe+xe+Me,Ue,Me,ge,I.length,q.toFixed(2)+" dt",a._goodDelta/q,function(Ge){return I[Ge]/ve-1}),a.status(j,Oe+(xe+Me)*2,Ue,Me,ge,P.length,te+" upf",Math.pow(f.clamp(we/J||1,0,1),4),function(Ge){return P[Ge]/we-1}),a.status(j,Oe+(xe+Me)*3,Ue,Me,ge,ee.length,Y.toFixed(2)+" ut",1-te*Y/a._goodFps,function(Ge){return ee[Ge]/Y-1}),a.status(j,Oe+(xe+Me)*4,Ue,Me,ge,w.length,ce.toFixed(2)+" rt",1-ce/a._goodFps,function(Ge){return w[Ge]/ce-1}),a.status(j,Oe+(xe+Me)*5,Ue,Me,ge,M.length,$.toFixed(2)+" x",$*$*$,function(Ge){return(M[Ge]/C[Ge]/$||0)-1})},a.status=function(N,j,R,b,C,w,M,I,P){N.strokeStyle="#888",N.fillStyle="#444",N.lineWidth=1,N.fillRect(j,R+7,b,1),N.beginPath(),N.moveTo(j,R+7-C*f.clamp(.4*P(0),-2,2));for(var ee=0;ee<b;ee+=1)N.lineTo(j+ee,R+7-(ee<w?C*f.clamp(.4*P(ee),-2,2):0));N.stroke(),N.fillStyle="hsl("+f.clamp(25+95*I,0,120)+",100%,60%)",N.fillRect(j,R-7,4,4),N.font="12px Arial",N.textBaseline="middle",N.textAlign="right",N.fillStyle="#eee",N.fillText(M,j+b,R-5)},a.constraints=function(N,j){for(var R=j,b=0;b<N.length;b++){var C=N[b];if(!(!C.render.visible||!C.pointA||!C.pointB)){var w=C.bodyA,M=C.bodyB,I,P;if(w?I=_.add(w.position,C.pointA):I=C.pointA,C.render.type==="pin")R.beginPath(),R.arc(I.x,I.y,3,0,2*Math.PI),R.closePath();else{if(M?P=_.add(M.position,C.pointB):P=C.pointB,R.beginPath(),R.moveTo(I.x,I.y),C.render.type==="spring")for(var ee=_.sub(P,I),te=_.perp(_.normalise(ee)),q=Math.ceil(f.clamp(C.length/5,12,20)),W,ce=1;ce<q;ce+=1)W=ce%2===0?1:-1,R.lineTo(I.x+ee.x*(ce/q)+te.x*W*4,I.y+ee.y*(ce/q)+te.y*W*4);R.lineTo(P.x,P.y)}C.render.lineWidth&&(R.lineWidth=C.render.lineWidth,R.strokeStyle=C.render.strokeStyle,R.stroke()),C.render.anchors&&(R.fillStyle=C.render.strokeStyle,R.beginPath(),R.arc(I.x,I.y,3,0,2*Math.PI),R.arc(P.x,P.y,3,0,2*Math.PI),R.closePath(),R.fill())}}},a.bodies=function(N,j,R){var b=R;N.engine;var C=N.options,w=C.showInternalEdges||!C.wireframes,M,I,P,ee;for(P=0;P<j.length;P++)if(M=j[P],!!M.render.visible){for(ee=M.parts.length>1?1:0;ee<M.parts.length;ee++)if(I=M.parts[ee],!!I.render.visible){if(C.showSleeping&&M.isSleeping?b.globalAlpha=.5*I.render.opacity:I.render.opacity!==1&&(b.globalAlpha=I.render.opacity),I.render.sprite&&I.render.sprite.texture&&!C.wireframes){var te=I.render.sprite,q=z(N,te.texture);b.translate(I.position.x,I.position.y),b.rotate(I.angle),b.drawImage(q,q.width*-te.xOffset*te.xScale,q.height*-te.yOffset*te.yScale,q.width*te.xScale,q.height*te.yScale),b.rotate(-I.angle),b.translate(-I.position.x,-I.position.y)}else{if(I.circleRadius)b.beginPath(),b.arc(I.position.x,I.position.y,I.circleRadius,0,2*Math.PI);else{b.beginPath(),b.moveTo(I.vertices[0].x,I.vertices[0].y);for(var W=1;W<I.vertices.length;W++)!I.vertices[W-1].isInternal||w?b.lineTo(I.vertices[W].x,I.vertices[W].y):b.moveTo(I.vertices[W].x,I.vertices[W].y),I.vertices[W].isInternal&&!w&&b.moveTo(I.vertices[(W+1)%I.vertices.length].x,I.vertices[(W+1)%I.vertices.length].y);b.lineTo(I.vertices[0].x,I.vertices[0].y),b.closePath()}C.wireframes?(b.lineWidth=1,b.strokeStyle=N.options.wireframeStrokeStyle,b.stroke()):(b.fillStyle=I.render.fillStyle,I.render.lineWidth&&(b.lineWidth=I.render.lineWidth,b.strokeStyle=I.render.strokeStyle,b.stroke()),b.fill())}b.globalAlpha=1}}},a.bodyWireframes=function(N,j,R){var b=R,C=N.options.showInternalEdges,w,M,I,P,ee;for(b.beginPath(),I=0;I<j.length;I++)if(w=j[I],!!w.render.visible)for(ee=w.parts.length>1?1:0;ee<w.parts.length;ee++){for(M=w.parts[ee],b.moveTo(M.vertices[0].x,M.vertices[0].y),P=1;P<M.vertices.length;P++)!M.vertices[P-1].isInternal||C?b.lineTo(M.vertices[P].x,M.vertices[P].y):b.moveTo(M.vertices[P].x,M.vertices[P].y),M.vertices[P].isInternal&&!C&&b.moveTo(M.vertices[(P+1)%M.vertices.length].x,M.vertices[(P+1)%M.vertices.length].y);b.lineTo(M.vertices[0].x,M.vertices[0].y)}b.lineWidth=1,b.strokeStyle=N.options.wireframeStrokeStyle,b.stroke()},a.bodyConvexHulls=function(N,j,R){var b=R,C,w,M;for(b.beginPath(),w=0;w<j.length;w++)if(C=j[w],!(!C.render.visible||C.parts.length===1)){for(b.moveTo(C.vertices[0].x,C.vertices[0].y),M=1;M<C.vertices.length;M++)b.lineTo(C.vertices[M].x,C.vertices[M].y);b.lineTo(C.vertices[0].x,C.vertices[0].y)}b.lineWidth=1,b.strokeStyle="rgba(255,255,255,0.2)",b.stroke()},a.vertexNumbers=function(N,j,R){var b=R,C,w,M;for(C=0;C<j.length;C++){var I=j[C].parts;for(M=I.length>1?1:0;M<I.length;M++){var P=I[M];for(w=0;w<P.vertices.length;w++)b.fillStyle="rgba(255,255,255,0.2)",b.fillText(C+"_"+w,P.position.x+(P.vertices[w].x-P.position.x)*.8,P.position.y+(P.vertices[w].y-P.position.y)*.8)}}},a.mousePosition=function(N,j,R){var b=R;b.fillStyle="rgba(255,255,255,0.8)",b.fillText(j.position.x+"  "+j.position.y,j.position.x+5,j.position.y-5)},a.bodyBounds=function(N,j,R){var b=R;N.engine;var C=N.options;b.beginPath();for(var w=0;w<j.length;w++){var M=j[w];if(M.render.visible)for(var I=j[w].parts,P=I.length>1?1:0;P<I.length;P++){var ee=I[P];b.rect(ee.bounds.min.x,ee.bounds.min.y,ee.bounds.max.x-ee.bounds.min.x,ee.bounds.max.y-ee.bounds.min.y)}}C.wireframes?b.strokeStyle="rgba(255,255,255,0.08)":b.strokeStyle="rgba(0,0,0,0.1)",b.lineWidth=1,b.stroke()},a.bodyAxes=function(N,j,R){var b=R;N.engine;var C=N.options,w,M,I,P;for(b.beginPath(),M=0;M<j.length;M++){var ee=j[M],te=ee.parts;if(ee.render.visible)if(C.showAxes)for(I=te.length>1?1:0;I<te.length;I++)for(w=te[I],P=0;P<w.axes.length;P++){var q=w.axes[P];b.moveTo(w.position.x,w.position.y),b.lineTo(w.position.x+q.x*20,w.position.y+q.y*20)}else for(I=te.length>1?1:0;I<te.length;I++)for(w=te[I],P=0;P<w.axes.length;P++)b.moveTo(w.position.x,w.position.y),b.lineTo((w.vertices[0].x+w.vertices[w.vertices.length-1].x)/2,(w.vertices[0].y+w.vertices[w.vertices.length-1].y)/2)}C.wireframes?(b.strokeStyle="indianred",b.lineWidth=1):(b.strokeStyle="rgba(255, 255, 255, 0.4)",b.globalCompositeOperation="overlay",b.lineWidth=2),b.stroke(),b.globalCompositeOperation="source-over"},a.bodyPositions=function(N,j,R){var b=R;N.engine;var C=N.options,w,M,I,P;for(b.beginPath(),I=0;I<j.length;I++)if(w=j[I],!!w.render.visible)for(P=0;P<w.parts.length;P++)M=w.parts[P],b.arc(M.position.x,M.position.y,3,0,2*Math.PI,!1),b.closePath();for(C.wireframes?b.fillStyle="indianred":b.fillStyle="rgba(0,0,0,0.5)",b.fill(),b.beginPath(),I=0;I<j.length;I++)w=j[I],w.render.visible&&(b.arc(w.positionPrev.x,w.positionPrev.y,2,0,2*Math.PI,!1),b.closePath());b.fillStyle="rgba(255,165,0,0.8)",b.fill()},a.bodyVelocity=function(N,j,R){var b=R;b.beginPath();for(var C=0;C<j.length;C++){var w=j[C];if(w.render.visible){var M=u.getVelocity(w);b.moveTo(w.position.x,w.position.y),b.lineTo(w.position.x+M.x,w.position.y+M.y)}}b.lineWidth=3,b.strokeStyle="cornflowerblue",b.stroke()},a.bodyIds=function(N,j,R){var b=R,C,w;for(C=0;C<j.length;C++)if(j[C].render.visible){var M=j[C].parts;for(w=M.length>1?1:0;w<M.length;w++){var I=M[w];b.font="12px Arial",b.fillStyle="rgba(255,255,255,0.5)",b.fillText(I.id,I.position.x+10,I.position.y-10)}}},a.collisions=function(N,j,R){var b=R,C=N.options,w,M,I,P;for(b.beginPath(),I=0;I<j.length;I++)if(w=j[I],!!w.isActive)for(M=w.collision,P=0;P<w.contactCount;P++){var ee=w.contacts[P],te=ee.vertex;b.rect(te.x-1.5,te.y-1.5,3.5,3.5)}for(C.wireframes?b.fillStyle="rgba(255,255,255,0.7)":b.fillStyle="orange",b.fill(),b.beginPath(),I=0;I<j.length;I++)if(w=j[I],!!w.isActive&&(M=w.collision,w.contactCount>0)){var q=w.contacts[0].vertex.x,W=w.contacts[0].vertex.y;w.contactCount===2&&(q=(w.contacts[0].vertex.x+w.contacts[1].vertex.x)/2,W=(w.contacts[0].vertex.y+w.contacts[1].vertex.y)/2),M.bodyB===M.supports[0].body||M.bodyA.isStatic===!0?b.moveTo(q-M.normal.x*8,W-M.normal.y*8):b.moveTo(q+M.normal.x*8,W+M.normal.y*8),b.lineTo(q,W)}C.wireframes?b.strokeStyle="rgba(255,165,0,0.7)":b.strokeStyle="orange",b.lineWidth=1,b.stroke()},a.separations=function(N,j,R){var b=R,C=N.options,w,M,I,P,ee;for(b.beginPath(),ee=0;ee<j.length;ee++)if(w=j[ee],!!w.isActive){M=w.collision,I=M.bodyA,P=M.bodyB;var te=1;!P.isStatic&&!I.isStatic&&(te=.5),P.isStatic&&(te=0),b.moveTo(P.position.x,P.position.y),b.lineTo(P.position.x-M.penetration.x*te,P.position.y-M.penetration.y*te),te=1,!P.isStatic&&!I.isStatic&&(te=.5),I.isStatic&&(te=0),b.moveTo(I.position.x,I.position.y),b.lineTo(I.position.x+M.penetration.x*te,I.position.y+M.penetration.y*te)}C.wireframes?b.strokeStyle="rgba(255,165,0,0.5)":b.strokeStyle="orange",b.stroke()},a.inspector=function(N,j){N.engine;var R=N.selected,b=N.render,C=b.options,w;if(C.hasBounds){var M=b.bounds.max.x-b.bounds.min.x,I=b.bounds.max.y-b.bounds.min.y,P=M/b.options.width,ee=I/b.options.height;j.scale(1/P,1/ee),j.translate(-b.bounds.min.x,-b.bounds.min.y)}for(var te=0;te<R.length;te++){var q=R[te].data;switch(j.translate(.5,.5),j.lineWidth=1,j.strokeStyle="rgba(255,165,0,0.9)",j.setLineDash([1,2]),q.type){case"body":w=q.bounds,j.beginPath(),j.rect(Math.floor(w.min.x-3),Math.floor(w.min.y-3),Math.floor(w.max.x-w.min.x+6),Math.floor(w.max.y-w.min.y+6)),j.closePath(),j.stroke();break;case"constraint":var W=q.pointA;q.bodyA&&(W=q.pointB),j.beginPath(),j.arc(W.x,W.y,10,0,2*Math.PI),j.closePath(),j.stroke();break}j.setLineDash([]),j.translate(-.5,-.5)}N.selectStart!==null&&(j.translate(.5,.5),j.lineWidth=1,j.strokeStyle="rgba(255,165,0,0.6)",j.fillStyle="rgba(255,165,0,0.1)",w=N.selectBounds,j.beginPath(),j.rect(Math.floor(w.min.x),Math.floor(w.min.y),Math.floor(w.max.x-w.min.x),Math.floor(w.max.y-w.min.y)),j.closePath(),j.stroke(),j.fill(),j.translate(-.5,-.5)),C.hasBounds&&j.setTransform(1,0,0,1,0,0)};var S=function(N,j){var R=N.engine,b=N.timing,C=b.historySize,w=R.timing.timestamp;b.delta=j-b.lastTime||a._goodDelta,b.lastTime=j,b.timestampElapsed=w-b.lastTimestamp||0,b.lastTimestamp=w,b.deltaHistory.unshift(b.delta),b.deltaHistory.length=Math.min(b.deltaHistory.length,C),b.engineDeltaHistory.unshift(R.timing.lastDelta),b.engineDeltaHistory.length=Math.min(b.engineDeltaHistory.length,C),b.timestampElapsedHistory.unshift(b.timestampElapsed),b.timestampElapsedHistory.length=Math.min(b.timestampElapsedHistory.length,C),b.engineUpdatesHistory.unshift(R.timing.lastUpdatesPerFrame),b.engineUpdatesHistory.length=Math.min(b.engineUpdatesHistory.length,C),b.engineElapsedHistory.unshift(R.timing.lastElapsed),b.engineElapsedHistory.length=Math.min(b.engineElapsedHistory.length,C),b.elapsedHistory.unshift(b.lastElapsed),b.elapsedHistory.length=Math.min(b.elapsedHistory.length,C)},E=function(N){for(var j=0,R=0;R<N.length;R+=1)j+=N[R];return j/N.length||0},V=function(N,j){var R=document.createElement("canvas");return R.width=N,R.height=j,R.oncontextmenu=function(){return!1},R.onselectstart=function(){return!1},R},L=function(N){var j=N.getContext("2d"),R=window.devicePixelRatio||1,b=j.webkitBackingStorePixelRatio||j.mozBackingStorePixelRatio||j.msBackingStorePixelRatio||j.oBackingStorePixelRatio||j.backingStorePixelRatio||1;return R/b},z=function(N,j){var R=N.textures[j];return R||(R=N.textures[j]=new Image,R.src=j,R)},U=function(N,j){var R=j;/(jpg|gif|png)$/.test(j)&&(R="url("+j+")"),N.canvas.style.background=R,N.canvas.style.backgroundSize="contain",N.currentBackground=j}})()}),(function(n,r,s){var a={};n.exports=a;var u=s(5),f=s(17),h=s(0);(function(){a._maxFrameDelta=1e3/15,a._frameDeltaFallback=1e3/60,a._timeBufferMargin=1.5,a._elapsedNextEstimate=1,a._smoothingLowerBound=.1,a._smoothingUpperBound=.9,a.create=function(g){var _={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},x=h.extend(_,g);return x.fps=0,x},a.run=function(g,_){return g.timeBuffer=a._frameDeltaFallback,(function x(p){g.frameRequestId=a._onNextFrame(g,x),p&&g.enabled&&a.tick(g,_,p)})(),g},a.tick=function(g,_,x){var p=h.now(),T=g.delta,S=0,E=x-g.timeLastTick;if((!E||!g.timeLastTick||E>Math.max(a._maxFrameDelta,g.maxFrameTime))&&(E=g.frameDelta||a._frameDeltaFallback),g.frameDeltaSmoothing){g.frameDeltaHistory.push(E),g.frameDeltaHistory=g.frameDeltaHistory.slice(-g.frameDeltaHistorySize);var V=g.frameDeltaHistory.slice(0).sort(),L=g.frameDeltaHistory.slice(V.length*a._smoothingLowerBound,V.length*a._smoothingUpperBound),z=d(L);E=z||E}g.frameDeltaSnapping&&(E=1e3/Math.round(1e3/E)),g.frameDelta=E,g.timeLastTick=x,g.timeBuffer+=g.frameDelta,g.timeBuffer=h.clamp(g.timeBuffer,0,g.frameDelta+T*a._timeBufferMargin),g.lastUpdatesDeferred=0;var U=g.maxUpdates||Math.ceil(g.maxFrameTime/T),N={timestamp:_.timing.timestamp};u.trigger(g,"beforeTick",N),u.trigger(g,"tick",N);for(var j=h.now();T>0&&g.timeBuffer>=T*a._timeBufferMargin;){u.trigger(g,"beforeUpdate",N),f.update(_,T),u.trigger(g,"afterUpdate",N),g.timeBuffer-=T,S+=1;var R=h.now()-p,b=h.now()-j,C=R+a._elapsedNextEstimate*b/S;if(S>=U||C>g.maxFrameTime){g.lastUpdatesDeferred=Math.round(Math.max(0,g.timeBuffer/T-a._timeBufferMargin));break}}_.timing.lastUpdatesPerFrame=S,u.trigger(g,"afterTick",N),g.frameDeltaHistory.length>=100&&(g.lastUpdatesDeferred&&Math.round(g.frameDelta/T)>U?h.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):g.lastUpdatesDeferred&&h.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof g.isFixed<"u"&&h.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(g.deltaMin||g.deltaMax)&&h.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),g.fps!==0&&h.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},a.stop=function(g){a._cancelNextFrame(g)},a._onNextFrame=function(g,_){if(typeof window<"u"&&window.requestAnimationFrame)g.frameRequestId=window.requestAnimationFrame(_);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return g.frameRequestId},a._cancelNextFrame=function(g){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(g.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var d=function(g){for(var _=0,x=g.length,p=0;p<x;p+=1)_+=g[p];return _/x||0}})()}),(function(n,r,s){var a={};n.exports=a;var u=s(8),f=s(0),h=f.deprecated;(function(){a.collides=function(d,g){return u.collides(d,g)},h(a,"collides","SAT.collides  replaced by Collision.collides")})()}),(function(n,r,s){var a={};n.exports=a,s(1);var u=s(0);(function(){a.pathToVertices=function(f,h){typeof window<"u"&&!("SVGPathSeg"in window)&&u.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var d,g,_,x,p,T,S,E,V,L,z=[],U,N,j=0,R=0,b=0;h=h||15;var C=function(M,I,P){var ee=P%2===1&&P>1;if(!V||M!=V.x||I!=V.y){V&&ee?(U=V.x,N=V.y):(U=0,N=0);var te={x:U+M,y:N+I};(ee||!V)&&(V=te),z.push(te),R=U+M,b=N+I}},w=function(M){var I=M.pathSegTypeAsLetter.toUpperCase();if(I!=="Z"){switch(I){case"M":case"L":case"T":case"C":case"S":case"Q":R=M.x,b=M.y;break;case"H":R=M.x;break;case"V":b=M.y;break}C(R,b,M.pathSegType)}};for(a._svgPathToAbsolute(f),_=f.getTotalLength(),T=[],d=0;d<f.pathSegList.numberOfItems;d+=1)T.push(f.pathSegList.getItem(d));for(S=T.concat();j<_;){if(L=f.getPathSegAtLength(j),p=T[L],p!=E){for(;S.length&&S[0]!=p;)w(S.shift());E=p}switch(p.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":x=f.getPointAtLength(j),C(x.x,x.y,0);break}j+=h}for(d=0,g=S.length;d<g;++d)w(S[d]);return z},a._svgPathToAbsolute=function(f){for(var h,d,g,_,x,p,T=f.pathSegList,S=0,E=0,V=T.numberOfItems,L=0;L<V;++L){var z=T.getItem(L),U=z.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(U))"x"in z&&(S=z.x),"y"in z&&(E=z.y);else switch("x1"in z&&(g=S+z.x1),"x2"in z&&(x=S+z.x2),"y1"in z&&(_=E+z.y1),"y2"in z&&(p=E+z.y2),"x"in z&&(S+=z.x),"y"in z&&(E+=z.y),U){case"m":T.replaceItem(f.createSVGPathSegMovetoAbs(S,E),L);break;case"l":T.replaceItem(f.createSVGPathSegLinetoAbs(S,E),L);break;case"h":T.replaceItem(f.createSVGPathSegLinetoHorizontalAbs(S),L);break;case"v":T.replaceItem(f.createSVGPathSegLinetoVerticalAbs(E),L);break;case"c":T.replaceItem(f.createSVGPathSegCurvetoCubicAbs(S,E,g,_,x,p),L);break;case"s":T.replaceItem(f.createSVGPathSegCurvetoCubicSmoothAbs(S,E,x,p),L);break;case"q":T.replaceItem(f.createSVGPathSegCurvetoQuadraticAbs(S,E,g,_),L);break;case"t":T.replaceItem(f.createSVGPathSegCurvetoQuadraticSmoothAbs(S,E),L);break;case"a":T.replaceItem(f.createSVGPathSegArcAbs(S,E,z.r1,z.r2,z.angle,z.largeArcFlag,z.sweepFlag),L);break;case"z":case"Z":S=h,E=d;break}(U=="M"||U=="m")&&(h=S,d=E)}}})()}),(function(n,r,s){var a={};n.exports=a;var u=s(6);s(0),(function(){a.create=u.create,a.add=u.add,a.remove=u.remove,a.clear=u.clear,a.addComposite=u.addComposite,a.addBody=u.addBody,a.addConstraint=u.addConstraint})()})])})})(Of)),Of.exports}var $e=OA();const VA=(o={})=>{const e=ae.useRef(null),n=ae.useRef(null),[r,s]=ae.useState(!1);return ae.useEffect(()=>(e.current=$e.Engine.create({gravity:o.gravity||{x:0,y:0,scale:0},enableSleeping:o.enableSleeping||!1,...o}),n.current=e.current.world,()=>{e.current&&($e.World.clear(n.current,!1),$e.Engine.clear(e.current),e.current=null,n.current=null)}),[]),{engineRef:e,worldRef:n,isRunning:r,start:()=>{s(!0)},stop:()=>{s(!1)},cleanup:()=>{n.current&&$e.World.clear(n.current,!1)},reset:()=>{n.current&&$e.World.clear(n.current,!1)}}},wt={WIDTH:40,HEIGHT:60,MAX_SPEED:{FORWARD:30,REVERSE:15},ACCELERATION:.5,BRAKE_FORCE:1.5,FRICTION_AIR:.02,FRICTION:.1,RESTITUTION:.1,STEERING_MAX:30,TURN_RATE:.05},_r={CAR:1,OBSTACLE:2,PARKING_ZONE:4,WALL:8},Mi={STAR_THRESHOLDS:{THREE_STAR:85,TWO_STAR:70,ONE_STAR:50},WEIGHTS:{ACCURACY:.5,TIME:.3,COLLISIONS:.2}},Vl={POSITION_TOLERANCE:5,ANGLE_TOLERANCE:3,SPEED_THRESHOLD:1,VALID_DURATION:1e3},mu={TIMESTEP:1e3/60,MAX_COLLISION_COUNT:5},M_={WALL:{type:"wall",color:"#6B7280",friction:.8,restitution:.3},CAR:{type:"car",color:"#3B82F6",width:40,height:60,friction:.1,restitution:.1},CONE:{type:"cone",color:"#F59E0B",width:10,height:10,friction:.1,restitution:.5},BARRIER:{type:"barrier",color:"#EF4444",friction:.8,restitution:.2}},Gx={PROGRESS:"parkingMaster_progress",SETTINGS:"parkingMaster_settings",HIGH_SCORES:"parkingMaster_highScores"},PA=(o,e,n)=>{const r=ae.useRef(null),s=ae.useRef(null),a=ae.useRef(0);return ae.useEffect(()=>{if(!n||!o.current)return;const f=h=>{s.current===null&&(s.current=h);const d=h-s.current;for(s.current=h,a.current+=d;a.current>=mu.TIMESTEP;)$e.Engine.update(o.current,mu.TIMESTEP),a.current-=mu.TIMESTEP,a.current>mu.TIMESTEP*3&&(a.current=0,console.warn("Physics update took too long, resetting accumulator"));e&&e(d),r.current=requestAnimationFrame(f)};return r.current=requestAnimationFrame(f),()=>{r.current&&(cancelAnimationFrame(r.current),r.current=null)}},[n,o,e]),{reset:()=>{s.current=null,a.current=0}}},kA=(o,e)=>{const n=ae.useRef(null),r=ae.useRef("P"),[s,a]=ae.useState(0),[u,f]=ae.useState("P"),h=ae.useRef(0);return ae.useEffect(()=>{if(!o.current)return;const{x:S,y:E,angle:V}=e,L=$e.Bodies.rectangle(S,E,wt.WIDTH,wt.HEIGHT*.7,{render:{fillStyle:"#3B82F6",strokeStyle:"#1E40AF",lineWidth:2}}),z=$e.Bodies.rectangle(S,E-wt.HEIGHT*.15,wt.WIDTH*.7,wt.HEIGHT*.3,{render:{fillStyle:"#60A5FA",strokeStyle:"#2563EB",lineWidth:2}});return n.current=$e.Body.create({parts:[L,z],frictionAir:wt.FRICTION_AIR,friction:wt.FRICTION,restitution:wt.RESTITUTION,angle:V*(Math.PI/180),label:"car",collisionFilter:{category:_r.CAR,mask:_r.OBSTACLE|_r.WALL|_r.PARKING_ZONE},render:{fillStyle:"#3B82F6",strokeStyle:"#1E40AF",lineWidth:2,visible:!0}}),$e.World.add(o.current,n.current),()=>{n.current&&o.current&&($e.World.remove(o.current,n.current),n.current=null)}},[o,e]),{carBodyRef:n,steer:S=>{if(!n.current)return;h.current=S*wt.STEERING_MAX;const E=Math.sqrt(n.current.velocity.x**2+n.current.velocity.y**2),V=Math.min(E/wt.MAX_SPEED.FORWARD,1),L=h.current*V*wt.TURN_RATE;$e.Body.setAngularVelocity(n.current,L)},accelerate:S=>{if(!n.current||(r.current=S,f(S),S==="P"))return;const E=S==="D"?wt.MAX_SPEED.FORWARD:wt.MAX_SPEED.REVERSE,V=S==="D"?1:-1,L=n.current.angle,z=Math.sin(L)*wt.ACCELERATION*V,U=-Math.cos(L)*wt.ACCELERATION*V,N=n.current.velocity,j=Math.sqrt(N.x**2+N.y**2);j<E&&$e.Body.applyForce(n.current,n.current.position,{x:z,y:U}),a(j)},brake:()=>{if(!n.current)return;const S=n.current.velocity,E=-S.x*wt.BRAKE_FORCE,V=-S.y*wt.BRAKE_FORCE;$e.Body.applyForce(n.current,n.current.position,{x:E,y:V});const L=Math.sqrt(S.x**2+S.y**2);a(Math.max(0,L-wt.BRAKE_FORCE))},reset:()=>{n.current&&($e.Body.setPosition(n.current,{x:e.x,y:e.y}),$e.Body.setAngle(n.current,e.angle*(Math.PI/180)),$e.Body.setVelocity(n.current,{x:0,y:0}),$e.Body.setAngularVelocity(n.current,0),a(0),f("P"),r.current="P",h.current=0)},getPosition:()=>n.current?{x:n.current.position.x,y:n.current.position.y,angle:n.current.angle*(180/Math.PI)}:{x:0,y:0,angle:0},getVelocity:()=>{if(!n.current)return{x:0,y:0,magnitude:0};const S=n.current.velocity,E=Math.sqrt(S.x**2+S.y**2);return{x:S.x,y:S.y,magnitude:E}},speed:s,gear:u}},LA=(o,e)=>{const[n,r]=ae.useState(0),[s,a]=ae.useState(null),[u,f]=ae.useState([]),h=ae.useCallback(_=>{if(!e.current)return;const x=_.pairs;for(const p of x){const{bodyA:T,bodyB:S}=p;if(!(T.id===e.current.id||S.id===e.current.id))continue;const V=T.id===e.current.id?S:T;if(V.isSensor)continue;const L=e.current,z=Math.sqrt(L.velocity.x**2+L.velocity.y**2);let U="minor";z>20?U="major":z>10&&(U="moderate");const N={timestamp:Date.now(),obstacleId:V.id,obstacleLabel:V.label||"unknown",impactVelocity:z,severity:U,position:{x:L.position.x,y:L.position.y}};a(N),r(j=>j+1),f(j=>[...j,N])}},[e]);return ae.useEffect(()=>{if(o.current)return $e.Events.on(o.current,"collisionStart",h),()=>{o.current&&$e.Events.off(o.current,"collisionStart",h)}},[o,h]),{collisionCount:n,lastCollision:s,collisions:u,resetCollisions:()=>{r(0),a(null),f([])},getCollisionSummary:()=>({total:n,minor:u.filter(x=>x.severity==="minor").length,moderate:u.filter(x=>x.severity==="moderate").length,major:u.filter(x=>x.severity==="major").length,lastCollision:s})}},jA=(o,e,n)=>{const[r,s]=ae.useState(!1),[a,u]=ae.useState(0),[f,h]=ae.useState(!1),d=ae.useRef(null),g=ae.useRef(null),_=ae.useCallback(()=>{if(!o.current||!e)return{isValid:!1,accuracy:0,posError:1/0,angleError:1/0,speed:0};const S=o.current,E=S.position,V=S.angle*(180/Math.PI),L=n?n():S.velocity,z=typeof L.magnitude<"u"?L.magnitude:Math.sqrt(L.x**2+L.y**2),U=Math.sqrt((E.x-e.x)**2+(E.y-e.y)**2);let N=Math.abs(V-e.angle);N>180&&(N=360-N);const j=U<=Vl.POSITION_TOLERANCE,R=N<=Vl.ANGLE_TOLERANCE,b=z<Vl.SPEED_THRESHOLD,C=Math.max(0,100-U/Vl.POSITION_TOLERANCE*50),w=Math.max(0,100-N/Vl.ANGLE_TOLERANCE*50),M=(C+w)/2,I=j&&R&&b;return h(j&&R),{isValid:I,accuracy:M,posError:U,angleError:N,speed:z}},[o,e,n]),x=ae.useCallback(()=>{g.current&&(clearInterval(g.current),g.current=null)},[]),p=ae.useCallback(()=>{g.current||(g.current=setInterval(()=>{const S=_();u(S.accuracy),S.isValid?(d.current||(d.current=Date.now()),Date.now()-d.current>=Vl.VALID_DURATION&&(s(!0),x())):(d.current=null,s(!1))},100))},[_,x]),T=ae.useCallback(()=>{s(!1),u(0),h(!1),d.current=null,x()},[x]);return ae.useEffect(()=>{f&&!g.current?p():!f&&g.current&&(x(),d.current=null)},[f,p,x]),ae.useEffect(()=>()=>{x()},[x]),{isParkingValid:r,parkingAccuracy:a,isInZone:f,checkParking:_,startValidation:p,stopValidation:x,reset:T}},Ri={car:{normal:{fillStyle:"#60A5FA",strokeStyle:"#3B82F6",lineWidth:2,shadowBlur:15,shadowColor:"rgba(59, 130, 246, 0.5)"},collision:{fillStyle:"#EF4444",strokeStyle:"#DC2626",lineWidth:3,shadowBlur:20,shadowColor:"rgba(239, 68, 68, 0.8)"},success:{fillStyle:"#10B981",strokeStyle:"#059669",lineWidth:2,shadowBlur:25,shadowColor:"rgba(16, 185, 129, 0.6)"},steering:{wheelColor:"#1F2937",wheelSize:4,steeringIndicator:!0}},parkingZone:{default:{fillStyle:"rgba(252, 211, 77, 0.15)",strokeStyle:"#FCD34D",lineWidth:3,lineDash:[10,5],cornerMarkers:!0},validating:{fillStyle:"rgba(251, 191, 36, 0.25)",strokeStyle:"#FBB917",lineWidth:4,lineDash:[15,5],pulse:!0},valid:{fillStyle:"rgba(16, 185, 129, 0.25)",strokeStyle:"#10B981",lineWidth:4,lineDash:[],glow:!0},invalid:{fillStyle:"rgba(239, 68, 68, 0.15)",strokeStyle:"#EF4444",lineWidth:3,lineDash:[5,10],shake:!0}},obstacles:{wall:{fillStyle:"#4B5563",strokeStyle:"#374151",lineWidth:2,pattern:"bricks"},car:{fillStyle:"#6B7280",strokeStyle:"#4B5563",lineWidth:2,shadowBlur:8,shadowColor:"rgba(0, 0, 0, 0.3)"},cone:{fillStyle:"#F59E0B",strokeStyle:"#D97706",lineWidth:2,shape:"triangle"},barrier:{fillStyle:"#DC2626",strokeStyle:"#991B1B",lineWidth:2,pattern:"stripes"}},background:{color:"#111827",grid:{color:"#1F2937",size:50,lineWidth:1,opacity:.3}},ui:{distanceGuide:{close:"#EF4444",optimal:"#10B981",far:"#3B82F6"},angleIndicator:{perfect:"#10B981",acceptable:"#F59E0B",bad:"#EF4444"}}};class zA{constructor(e,n){this.render=e,this.context=n,this.animationFrame=0}drawBackground(){const e=this.context,{width:n,height:r}=this.render.canvas;e.fillStyle=Ri.background.color,e.fillRect(0,0,n,r);{const s=Ri.background.grid;e.strokeStyle=s.color,e.lineWidth=s.lineWidth,e.globalAlpha=s.opacity;for(let a=0;a<=n;a+=s.size)e.beginPath(),e.moveTo(a,0),e.lineTo(a,r),e.stroke();for(let a=0;a<=r;a+=s.size)e.beginPath(),e.moveTo(0,a),e.lineTo(n,a),e.stroke();e.globalAlpha=1}}drawParkingZone(e,n="default"){const r=this.context,s=Ri.parkingZone[n],a=e.vertices;r.save(),s.pulse&&this.animationFrame%60<30&&(r.globalAlpha=.5+Math.sin(this.animationFrame*.1)*.3),r.fillStyle=s.fillStyle,r.beginPath(),r.moveTo(a[0].x,a[0].y);for(let h=1;h<a.length;h++)r.lineTo(a[h].x,a[h].y);r.closePath(),r.fill(),r.strokeStyle=s.strokeStyle,r.lineWidth=s.lineWidth,s.lineDash&&r.setLineDash(s.lineDash),r.stroke(),r.setLineDash([]),s.cornerMarkers&&(r.fillStyle=s.strokeStyle,a.forEach(h=>{r.beginPath(),r.arc(h.x,h.y,5,0,Math.PI*2),r.fill()}));const u=e.position.x,f=e.position.y;r.font="bold 24px Arial",r.fillStyle=s.strokeStyle,r.textAlign="center",r.textBaseline="middle",r.globalAlpha=.5,r.fillText("P",u,f),r.restore()}drawCar(e,n="normal",r=0){const s=this.context,a=Ri.car[n];s.save(),a.shadowBlur&&(s.shadowBlur=a.shadowBlur,s.shadowColor=a.shadowColor),e.parts.forEach((d,g)=>{if(g===0)return;const _=d.vertices;s.fillStyle=a.fillStyle,s.beginPath(),s.moveTo(_[0].x,_[0].y);for(let x=1;x<_.length;x++)s.lineTo(_[x].x,_[x].y);s.closePath(),s.fill(),s.strokeStyle=a.strokeStyle,s.lineWidth=a.lineWidth,s.stroke()});const u=e.angle,f=e.position.x,h=e.position.y;s.save(),s.translate(f,h),s.rotate(u),s.fillStyle="rgba(31, 41, 55, 0.7)",s.fillRect(-40*.3,-60*.4,wt.WIDTH*.6,wt.HEIGHT*.2),s.fillStyle=Ri.car.steering.wheelColor,s.save(),s.translate(wt.WIDTH*.3,-60*.3),s.rotate(r*Math.PI/180),s.fillRect(-2,-6,4,12),s.restore(),s.save(),s.translate(-40*.3,-60*.3),s.rotate(r*Math.PI/180),s.fillRect(-2,-6,4,12),s.restore(),s.fillRect(wt.WIDTH*.3-2,wt.HEIGHT*.3-6,4,12),s.fillRect(-40*.3-2,wt.HEIGHT*.3-6,4,12),s.strokeStyle="#F9FAFB",s.lineWidth=2,s.beginPath(),s.moveTo(-10,-60*.45),s.lineTo(0,-60*.5),s.lineTo(10,-60*.45),s.stroke(),s.restore(),s.restore()}drawObstacle(e){const n=this.context,r=e.label||"wall",s=Ri.obstacles[r];if(n.save(),s.shadowBlur&&(n.shadowBlur=s.shadowBlur,n.shadowColor=s.shadowColor),s.shape==="triangle"){const a=e.position.x,u=e.position.y,f=10;n.fillStyle=s.fillStyle,n.beginPath(),n.moveTo(a,u-f),n.lineTo(a-f,u+f),n.lineTo(a+f,u+f),n.closePath(),n.fill(),n.strokeStyle=s.strokeStyle,n.lineWidth=s.lineWidth,n.stroke()}else{const a=e.vertices;if(s.pattern==="stripes"){n.fillStyle=s.fillStyle,n.beginPath(),n.moveTo(a[0].x,a[0].y);for(let f=1;f<a.length;f++)n.lineTo(a[f].x,a[f].y);n.closePath(),n.fill(),n.strokeStyle="#FCD34D",n.lineWidth=2;const u=e.bounds;for(let f=u.min.x;f<u.max.x+50;f+=10)n.beginPath(),n.moveTo(f,u.min.y),n.lineTo(f-20,u.max.y),n.stroke()}else{n.fillStyle=s.fillStyle,n.beginPath(),n.moveTo(a[0].x,a[0].y);for(let u=1;u<a.length;u++)n.lineTo(a[u].x,a[u].y);n.closePath(),n.fill()}n.strokeStyle=s.strokeStyle,n.lineWidth=s.lineWidth,n.beginPath(),n.moveTo(a[0].x,a[0].y);for(let u=1;u<a.length;u++)n.lineTo(a[u].x,a[u].y);n.closePath(),n.stroke()}n.restore()}drawParkingGuides(e,n){const r=this.context,s=e.position.x-n.position.x,a=e.position.y-n.position.y,u=Math.sqrt(s*s+a*a);r.save(),r.strokeStyle=u<50?Ri.ui.distanceGuide.close:u<150?Ri.ui.distanceGuide.optimal:Ri.ui.distanceGuide.far,r.lineWidth=2,r.setLineDash([5,5]),r.globalAlpha=.5,r.beginPath(),r.moveTo(e.position.x,e.position.y),r.lineTo(n.position.x,n.position.y),r.stroke(),r.restore();const f=Math.abs(e.angle-n.angle)*180/Math.PI,h=f<5?Ri.ui.angleIndicator.perfect:f<15?Ri.ui.angleIndicator.acceptable:Ri.ui.angleIndicator.bad;r.save(),r.translate(e.position.x,e.position.y),r.strokeStyle=h,r.lineWidth=3,r.globalAlpha=.6,r.beginPath(),r.arc(0,0,40,e.angle-.2,e.angle+.2),r.stroke(),r.restore()}update(){this.animationFrame++}}function BA(o,e){if(!o||!e)return console.error("enhanceRenderer: Missing render or engine"),null;const n=o.context,r=new zA(o,n);return console.log("Enhanced renderer initialized",{canvas:o.canvas,context:o.context,canvasWidth:o.canvas?.width,canvasHeight:o.canvas?.height,bodies:e.world.bodies.length}),{gameRenderer:r,afterRenderHandler:function(){r.update(),r.animationFrame%60===0&&(console.log("Render frame:",r.animationFrame,"Bodies:",e.world.bodies.length),e.world.bodies.forEach(h=>{console.log("  Body:",h.label||"unlabeled","Position:",h.position,"Visible:",h.render?.visible,"Parts:",h.parts?.length)}));const a=e.world.bodies,u=a.find(h=>h.label==="car"),f=a.find(h=>h.label==="parkingZone");u&&f&&r.drawParkingGuides(u,f)}}}const UA=({levelData:o,onLevelComplete:e,onLevelFailed:n,onStatsUpdate:r,steeringInput:s=0,gearInput:a="P",brakeInput:u=!1})=>{const f=ae.useRef(null),h=ae.useRef(null),d=ae.useRef([]),g=ae.useRef(null),{engineRef:_,worldRef:x,isRunning:p,start:T}=VA(),S=kA(x,o?.carStartPosition||{x:200,y:300,angle:0}),E=LA(_,S.carBodyRef),V=jA(S.carBodyRef,o?.parkingSpot,S.getVelocity),L=ae.useRef(null),[z,U]=ae.useState(!1),N=M=>{if(!M)return;const I=M.getBoundingClientRect();return{width:I.width,height:I.height}},j=()=>{!o||!x.current||(d.current.forEach(M=>{$e.World.remove(x.current,M)}),d.current=[],o.obstacles.forEach(M=>{const{x:I,y:P,width:ee,height:te,angle:q,type:W}=M,ce=M_[W?.toUpperCase()]||M_.WALL,ve=$e.Bodies.rectangle(I,P,ee,te,{isStatic:!0,angle:q*(Math.PI/180),friction:ce.friction||.8,restitution:ce.restitution||.3,label:W,collisionFilter:{category:_r.OBSTACLE,mask:_r.CAR},render:{fillStyle:ce.color||"#6B7280",strokeStyle:"#374151",lineWidth:2,visible:!0}});$e.World.add(x.current,ve),d.current.push(ve)}))},R=()=>{if(!o||!x.current)return;const{x:M,y:I,width:P,height:ee,angle:te}=o.parkingSpot;g.current&&$e.World.remove(x.current,g.current),g.current=$e.Bodies.rectangle(M,I,P,ee,{isStatic:!0,isSensor:!0,angle:te*(Math.PI/180),label:"parkingZone",collisionFilter:{category:_r.PARKING_ZONE,mask:_r.CAR},render:{fillStyle:"rgba(252, 211, 77, 0.3)",strokeStyle:"#FCD34D",lineWidth:3,visible:!0}}),$e.World.add(x.current,g.current)},b=()=>{if(!x.current||!f.current)return;const M=f.current.getBoundingClientRect(),I=50;[$e.Bodies.rectangle(M.width/2,-I/2,M.width,I,{isStatic:!0,label:"wall-top",render:{fillStyle:"#374151",visible:!0}}),$e.Bodies.rectangle(M.width/2,M.height+I/2,M.width,I,{isStatic:!0,label:"wall-bottom",render:{fillStyle:"#374151",visible:!0}}),$e.Bodies.rectangle(-I/2,M.height/2,I,M.height,{isStatic:!0,label:"wall-left",render:{fillStyle:"#374151",visible:!0}}),$e.Bodies.rectangle(M.width+I/2,M.height/2,I,M.height,{isStatic:!0,label:"wall-right",render:{fillStyle:"#374151",visible:!0}})].forEach(ee=>{ee.collisionFilter={category:_r.WALL,mask:_r.CAR},$e.World.add(x.current,ee)})},C=()=>{L.current||(L.current=Date.now());const M=(Date.now()-L.current)/1e3;if(r){const I=S.getVelocity();r({time:M,speed:I.magnitude,accuracy:V.parkingAccuracy,collisions:E.collisionCount,gear:S.gear})}V.isParkingValid&&e({timeTaken:M,accuracy:V.parkingAccuracy,collisions:E.collisionCount}),E.collisionCount>=mu.MAX_COLLISION_COUNT&&n({reason:"Too many collisions"}),o.timeLimit&&M>=o.timeLimit&&n({reason:"Time limit exceeded"})};ae.useEffect(()=>{if(!f.current||!_.current)return;const M=N(f.current);if(!M)return;h.current=$e.Render.create({canvas:f.current,engine:_.current,options:{width:M.width,height:M.height,background:"#111827",wireframes:!1,showAngleIndicator:!1,showVelocity:!1,showCollisions:!1}});const I=BA(h.current,_.current);return I&&I.afterRenderHandler&&$e.Events.on(h.current,"afterRender",I.afterRenderHandler),$e.Render.run(h.current),console.log("Renderer initialized:",{width:M.width,height:M.height,bodies:_.current.world.bodies.length}),()=>{h.current&&($e.Events.off(h.current,"afterRender"),$e.Render.stop(h.current),h.current.canvas.remove(),h.current.canvas=null,h.current.context=null,h.current.textures={})}},[_]),ae.useEffect(()=>{!x.current||!o||(b(),j(),R(),console.log("World bodies after setup:",x.current.bodies.map(M=>({label:M.label,position:M.position,render:M.render}))),setTimeout(()=>{T()},100))},[o]),ae.useEffect(()=>{S.steer(s)},[s,S]),ae.useEffect(()=>{S.accelerate(a)},[a,S]),ae.useEffect(()=>{u&&S.brake()},[u,S]),ae.useEffect(()=>{if(E.lastCollision){U(!0);const M=setTimeout(()=>{U(!1)},500);return()=>clearTimeout(M)}},[E.lastCollision]),PA(_,C,p);const w=()=>V.isInZone?V.parkingAccuracy>=90?"game-canvas__parking-indicator":V.parkingAccuracy>=70?"game-canvas__parking-indicator game-canvas__parking-indicator--warning":"game-canvas__parking-indicator game-canvas__parking-indicator--error":"";return k.jsxs("div",{className:`game-canvas ${z?"game-canvas--shake":""}`,children:[k.jsx("canvas",{ref:f,className:"game-canvas__viewport"}),V.isInZone&&k.jsxs("div",{className:w(),children:["In Parking Zone",k.jsxs("span",{className:"game-canvas__accuracy",children:[Math.round(V.parkingAccuracy),"%"]})]}),z&&k.jsx("div",{className:"game-canvas__collision-overlay"}),k.jsx("div",{className:"game-canvas__speed-visual",children:k.jsx("div",{className:"game-canvas__speedometer",children:k.jsx("div",{className:"game-canvas__speed-needle",style:{"--speed-rotation":`${-90+S.speed/wt.MAX_SPEED.FORWARD*180}deg`}})})})]})},FA=()=>{const o=ae.useRef(null),e=ae.useRef(null),n=ae.useRef({forward:!1,backward:!1,left:!1,right:!1}),r=ae.useRef(.5),s=ae.useRef(.001),[a,u]=ae.useState(.5),[f,h]=ae.useState(.001),[d,g]=ae.useState(!1),_=ae.useRef(!1),[x,p]=ae.useState({x:200,y:500,angle:0,steeringAngle:0,speed:0,maxSpeed:2,acceleration:.1,friction:.95,wheelBase:80}),T={x:600,y:200,width:60,height:100,angle:0},S=60,E=120,V=12,L=24,z=Math.PI/4,U=(w,M)=>{w.save(),w.translate(M.x,M.y),w.rotate(M.angle),w.fillStyle="#3B82F6",w.strokeStyle="#1E40AF",w.lineWidth=2,w.fillRect(-S/2,-E/2,S,E),w.strokeRect(-S/2,-E/2,S,E),w.fillStyle="#EF4444",w.beginPath(),w.moveTo(0,-E/2),w.lineTo(-10,-E/2+15),w.lineTo(10,-E/2+15),w.closePath(),w.fill();const I=E/2-15;w.fillStyle="#1F2937",w.fillRect(-S/2-2,I-L/2,V,L),w.fillRect(S/2-6,I-L/2,V,L);const P=-E/2+15;w.save(),w.translate(-S/2+2,P),w.rotate(M.steeringAngle),w.fillStyle="#1F2937",w.strokeStyle="#60A5FA",w.lineWidth=2,w.fillRect(-V/2,-L/2,V,L),w.strokeRect(-V/2,-L/2,V,L),w.restore(),w.save(),w.translate(S/2-2,P),w.rotate(M.steeringAngle),w.fillStyle="#1F2937",w.strokeStyle="#60A5FA",w.lineWidth=2,w.fillRect(-V/2,-L/2,V,L),w.strokeRect(-V/2,-L/2,V,L),w.restore(),w.restore()},N=(w,M)=>{w.save(),w.translate(M.x,M.y),w.rotate(M.angle),w.fillStyle="rgba(234, 179, 8, 0.2)",w.fillRect(-M.width/2,-M.height/2,M.width,M.height),w.strokeStyle="#EAB308",w.lineWidth=3,w.setLineDash([10,5]),w.strokeRect(-M.width/2,-M.height/2,M.width,M.height),w.setLineDash([]),w.fillStyle="#EAB308",w.font="bold 24px Arial",w.textAlign="center",w.textBaseline="middle",w.fillText("P",0,0),w.restore()},j=(w,M)=>{const I=w.x-M.x,P=w.y-M.y,ee=Math.sqrt(I*I+P*P),te=Math.abs(w.angle-M.angle)*180/Math.PI,W=Math.max(0,100-ee/50*100),ve=Math.max(0,100-te/30*100),Y=Math.max(0,100-Math.abs(w.speed)/1*100),H=Math.round((W+ve+Y)/3);return{success:H>=80,distance:ee,angleDiff:te,speed:Math.abs(w.speed),percentage:Math.max(0,Math.min(100,H))}},R=(w,M,I)=>{w.fillStyle="#111827",w.fillRect(0,0,M.width,M.height),w.strokeStyle="#374151",w.lineWidth=1;const P=50;for(let q=0;q<M.width;q+=P)w.beginPath(),w.moveTo(q,0),w.lineTo(q,M.height),w.stroke();for(let q=0;q<M.height;q+=P)w.beginPath(),w.moveTo(0,q),w.lineTo(M.width,q),w.stroke();N(w,T),U(w,I);const ee=j(I,T);ee.success&&!_.current&&(_.current=!0,g(!0)),w.fillStyle="#F3F4F6",w.font="14px monospace",w.fillText(`: (${Math.round(I.x)}, ${Math.round(I.y)})`,10,20),w.fillText(`: ${I.speed.toFixed(2)}`,10,40),w.fillText(`: ${(I.angle*180/Math.PI).toFixed(1)}`,10,60),w.fillText(`: ${(I.steeringAngle*180/Math.PI).toFixed(1)}`,10,80),w.font="bold 18px monospace";const te=ee.percentage||0;if(te>=80?w.fillStyle="#10B981":te>=60?w.fillStyle="#F59E0B":w.fillStyle="#EF4444",w.fillText(` : ${te}%`,10,110),w.font="bold 16px monospace",ee.success){w.fillStyle="#10B981",w.fillText(" (80%)",10,135),w.save(),w.fillStyle="rgba(0, 0, 0, 0.75)",w.fillRect(0,0,M.width,M.height);const q=500,W=250,ce=(M.width-q)/2,ve=(M.height-W)/2;w.fillStyle="#1F2937",w.strokeStyle="#10B981",w.lineWidth=4,w.fillRect(ce,ve,q,W),w.strokeRect(ce,ve,q,W),w.fillStyle="#10B981",w.font="bold 48px Arial",w.textAlign="center",w.textBaseline="middle",w.fillText(" ",M.width/2,ve+70),w.fillStyle="#F3F4F6",w.font="bold 24px Arial",w.fillText(" 0  - ",M.width/2,ve+130),w.font="16px Arial",w.fillStyle="#9CA3AF",w.fillText("",M.width/2,ve+180),w.restore()}else w.fillStyle="#9CA3AF",w.font="14px monospace",w.fillText(`: ${ee.distance.toFixed(1)}px`,10,160),w.fillText(`: ${ee.angleDiff.toFixed(1)}`,10,180);w.fillStyle="#9CA3AF",w.font="12px monospace",w.fillText(":    ",10,M.height-10)},b=(w,M)=>{const I={...w};if(M.left?I.steeringAngle=Math.max(I.steeringAngle-s.current,-z):M.right&&(I.steeringAngle=Math.min(I.steeringAngle+s.current,z)),M.forward?I.speed=Math.min(I.speed+I.acceleration,r.current):M.backward?I.speed=Math.max(I.speed-I.acceleration,-r.current/2):(I.speed*=I.friction,Math.abs(I.speed)<.01&&(I.speed=0)),Math.abs(I.speed)>.01){if(Math.abs(I.steeringAngle)>.001){const ee=I.wheelBase/Math.tan(Math.abs(I.steeringAngle)),te=I.speed/ee;I.angle+=te*Math.sign(I.steeringAngle)}I.x+=Math.sin(I.angle)*I.speed,I.y-=Math.cos(I.angle)*I.speed}const P=o.current;return P&&(I.x=Math.max(50,Math.min(P.width-50,I.x)),I.y=Math.max(50,Math.min(P.height-50,I.y))),I},C=()=>{const w=o.current;if(!w)return;const M=w.getContext("2d");M&&(p(I=>{const P=b(I,n.current);return R(M,w,P),P}),e.current=requestAnimationFrame(C))};return ae.useEffect(()=>{const w=I=>{switch(I.preventDefault(),I.key){case"ArrowUp":n.current.forward=!0;break;case"ArrowDown":n.current.backward=!0;break;case"ArrowLeft":n.current.left=!0;break;case"ArrowRight":n.current.right=!0;break}},M=I=>{switch(I.key){case"ArrowUp":n.current.forward=!1;break;case"ArrowDown":n.current.backward=!1;break;case"ArrowLeft":n.current.left=!1;break;case"ArrowRight":n.current.right=!1;break}};return window.addEventListener("keydown",w),window.addEventListener("keyup",M),()=>{window.removeEventListener("keydown",w),window.removeEventListener("keyup",M)}},[]),ae.useEffect(()=>{const w=o.current;if(w)return w.width=1200,w.height=900,C(),()=>{e.current&&cancelAnimationFrame(e.current)}},[]),k.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900 p-4",children:[k.jsxs("div",{className:"mb-4",children:[k.jsx("h1",{className:"text-3xl font-bold text-gray-100 text-center",children:" v3.3.0 -  0 "}),k.jsx("p",{className:"text-gray-400 text-center mt-2",children:"    "}),k.jsx("p",{className:"text-yellow-400 text-center mt-1 text-sm",children:"   80%"})]}),k.jsxs("div",{className:"mb-4 p-4 bg-gray-800 rounded-lg w-full max-w-2xl",children:[k.jsx("h2",{className:"text-lg font-semibold text-gray-100 mb-3 text-center",children:" "}),k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{className:"flex items-center gap-4",children:[k.jsx("label",{className:"text-gray-300 w-32 text-sm font-medium",children:" :"}),k.jsx("input",{type:"range",min:"0.5",max:"5",step:"0.1",value:a,onChange:w=>{const M=parseFloat(w.target.value);r.current=M,u(M)},className:"flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-500"}),k.jsx("span",{className:"text-blue-400 font-mono text-sm w-16 text-right",children:a.toFixed(1)})]}),k.jsxs("div",{className:"flex items-center gap-4",children:[k.jsx("label",{className:"text-gray-300 w-32 text-sm font-medium",children:" :"}),k.jsx("input",{type:"range",min:"0.001",max:"0.02",step:"0.001",value:f,onChange:w=>{const M=parseFloat(w.target.value);s.current=M,h(M)},className:"flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-green-500"}),k.jsx("span",{className:"text-green-400 font-mono text-sm w-16 text-right",children:f.toFixed(3)})]})]}),k.jsx("p",{className:"text-gray-500 text-xs text-center mt-3",children:" "})]}),k.jsxs("div",{className:"relative",children:[k.jsx("canvas",{ref:o,className:"border-4 border-gray-700 rounded-lg shadow-2xl","data-testid":"car-canvas"}),k.jsxs("div",{className:"absolute bottom-4 left-4 flex flex-col items-center",children:[k.jsx("div",{className:"text-xs text-gray-400 mb-2",children:""}),k.jsx("div",{className:"relative w-32 h-32 bg-gray-800 rounded-full border-4 border-gray-600 shadow-lg",children:k.jsx("div",{className:"absolute inset-2 bg-gray-700 rounded-full border-2 border-gray-500",children:k.jsxs("div",{className:"absolute inset-0 flex items-center justify-center transition-transform",style:{transform:`rotate(${x.steeringAngle*(180/Math.PI)*3}deg)`},children:[k.jsx("div",{className:"absolute w-1 h-16 bg-blue-400 rounded-full",style:{top:"8px"}}),k.jsx("div",{className:"absolute w-16 h-1 bg-blue-400 rounded-full"}),k.jsx("div",{className:"w-8 h-8 bg-gray-900 rounded-full border-2 border-blue-400 flex items-center justify-center",children:k.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full"})})]})})}),k.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[(x.steeringAngle*180/Math.PI).toFixed(0),""]})]}),k.jsxs("div",{className:"absolute bottom-4 right-4 flex flex-col items-center",children:[k.jsx("div",{className:"text-xs text-gray-400 mb-2",children:""}),k.jsx("div",{className:"w-24 h-24 bg-gray-800 rounded-full border-4 border-gray-600 shadow-lg flex items-center justify-center",children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"text-2xl font-bold text-blue-400",children:Math.abs(x.speed).toFixed(1)}),k.jsx("div",{className:"text-xs text-gray-400",children:x.speed>0?"":x.speed<0?"":""})]})})]})]}),k.jsxs("div",{className:"mt-4 p-4 bg-gray-800 rounded-lg max-w-2xl",children:[k.jsx("h2",{className:"text-lg font-semibold text-gray-100 mb-2",children:"  - "}),k.jsxs("ul",{className:"text-gray-300 space-y-1 text-sm",children:[k.jsx("li",{children:"  + "}),k.jsxs("li",{children:[" ",k.jsx("span",{className:"text-yellow-400 font-semibold",children:""}),""]}),k.jsx("li",{children:" Ackermann "}),k.jsx("li",{children:" UI"}),k.jsx("li",{children:" "}),k.jsx("li",{children:" "}),k.jsx("li",{children:" "}),k.jsx("li",{children:" "}),k.jsx("li",{children:" "}),k.jsxs("li",{children:[" ",k.jsx("span",{className:"text-green-400 font-semibold",children:""})]})]})]})]})},HA=({levelData:o,onLevelComplete:e,onLevelFailed:n,onNextLevel:r,currentLevelNumber:s})=>{const a=ae.useRef(null),u=ae.useRef(null),f=ae.useRef({forward:!1,backward:!1,left:!1,right:!1}),h=ae.useRef(.5),d=ae.useRef(.004),[g,_]=ae.useState(.5),[x,p]=ae.useState(.004),[T,S]=ae.useState(0),[E,V]=ae.useState(0),[L,z]=ae.useState(!1),[U,N]=ae.useState({}),j=ae.useRef(null),R=ae.useRef(0),[b,C]=ae.useState(!1),w=ae.useRef(0),M=ae.useRef(null),[I,P]=ae.useState({x:o?.carStartPosition?.x||200,y:o?.carStartPosition?.y||500,angle:o?.carStartPosition?.angle||0,steeringAngle:0,speed:0,maxSpeed:.5,acceleration:.1,friction:.95,wheelBase:80}),ee=60,te=120,q=12,W=24,ce=Math.PI/4,ve=(G,pe)=>{G.save(),G.translate(pe.x,pe.y),G.rotate(pe.angle),G.fillStyle="#3B82F6",G.strokeStyle="#1E40AF",G.lineWidth=2,G.fillRect(-ee/2,-te/2,ee,te),G.strokeRect(-ee/2,-te/2,ee,te),G.fillStyle="#EF4444",G.beginPath(),G.moveTo(0,-te/2),G.lineTo(-10,-te/2+15),G.lineTo(10,-te/2+15),G.closePath(),G.fill();const K=te/2-15;G.fillStyle="#1F2937",G.fillRect(-ee/2-2,K-W/2,q,W),G.fillRect(ee/2-6,K-W/2,q,W);const be=-te/2+15;G.save(),G.translate(-ee/2+2,be),G.rotate(pe.steeringAngle),G.fillStyle="#1F2937",G.strokeStyle="#60A5FA",G.lineWidth=2,G.fillRect(-q/2,-W/2,q,W),G.strokeRect(-q/2,-W/2,q,W),G.restore(),G.save(),G.translate(ee/2-2,be),G.rotate(pe.steeringAngle),G.fillRect(-q/2,-W/2,q,W),G.strokeRect(-q/2,-W/2,q,W),G.restore(),G.restore()},we=(G,pe)=>{pe&&(G.save(),G.translate(pe.x,pe.y),G.rotate(pe.angle||0),G.fillStyle="rgba(234, 179, 8, 0.2)",G.fillRect(-pe.width/2,-pe.height/2,pe.width,pe.height),G.strokeStyle="#EAB308",G.lineWidth=3,G.setLineDash([10,5]),G.strokeRect(-pe.width/2,-pe.height/2,pe.width,pe.height),G.setLineDash([]),G.fillStyle="#EAB308",G.font="bold 24px Arial",G.textAlign="center",G.textBaseline="middle",G.fillText("P",0,0),G.restore())},Y=(G,pe)=>{pe&&pe.forEach(K=>{switch(G.save(),G.translate(K.x,K.y),G.rotate(K.angle||0),K.type){case"car":G.fillStyle="#6B7280",G.strokeStyle="#374151",G.lineWidth=2,G.fillRect(-K.width/2,-K.height/2,K.width,K.height),G.strokeRect(-K.width/2,-K.height/2,K.width,K.height);break;case"wall":G.fillStyle="#1F2937",G.strokeStyle="#111827",G.lineWidth=2,G.fillRect(-K.width/2,-K.height/2,K.width,K.height),G.strokeRect(-K.width/2,-K.height/2,K.width,K.height);break;case"pillar":G.fillStyle="#374151",G.strokeStyle="#1F2937",G.lineWidth=2,G.beginPath(),G.arc(0,0,K.width/2,0,Math.PI*2),G.fill(),G.stroke();break;case"cone":G.fillStyle="#F97316",G.strokeStyle="#EA580C",G.lineWidth=2,G.beginPath(),G.moveTo(0,-K.height/2),G.lineTo(-K.width/2,K.height/2),G.lineTo(K.width/2,K.height/2),G.closePath(),G.fill(),G.stroke();break;case"sidewalk":G.fillStyle="#94A3B8",G.fillRect(-K.width/2,-K.height/2,K.width,K.height),G.strokeStyle="#CBD5E1",G.lineWidth=3;const be=30;for(let Ce=-K.width/2;Ce<K.width/2;Ce+=be)G.beginPath(),G.moveTo(Ce,-K.height/2),G.lineTo(Ce,K.height/2),G.stroke();G.strokeStyle="#64748B",G.lineWidth=2,G.strokeRect(-K.width/2,-K.height/2,K.width,K.height),G.fillStyle="#475569",G.font="bold 14px Arial",G.textAlign="center",G.textBaseline="middle",G.fillText("SIDEWALK",0,0);break;case"curb":G.fillStyle="#64748B",G.fillRect(-K.width/2,-K.height/2,K.width,K.height),G.strokeStyle="#475569",G.lineWidth=2,G.strokeRect(-K.width/2,-K.height/2,K.width,K.height);break;case"barrier":G.fillStyle="#6B7280",G.strokeStyle="#374151",G.lineWidth=2,G.fillRect(-K.width/2,-K.height/2,K.width,K.height),G.strokeRect(-K.width/2,-K.height/2,K.width,K.height),G.strokeStyle="#EF4444",G.lineWidth=3,G.beginPath(),G.moveTo(-K.width/3,-K.height/3),G.lineTo(K.width/3,K.height/3),G.moveTo(K.width/3,-K.height/3),G.lineTo(-K.width/3,K.height/3),G.stroke();break}G.restore()})},H=(G,pe,K,be,Ce)=>{const je=Math.cos(Ce),tt=Math.sin(Ce),Te=K/2,rt=be/2;return[{x:-Te,y:-rt},{x:Te,y:-rt},{x:Te,y:rt},{x:-Te,y:rt}].map(Et=>({x:G+(Et.x*je-Et.y*tt),y:pe+(Et.x*tt+Et.y*je)}))},$=(G,pe)=>{const K=[G,pe];for(const be of K)for(let Ce=0;Ce<be.length;Ce++){const je=be[Ce],tt=be[(Ce+1)%be.length],Te={x:tt.x-je.x,y:tt.y-je.y},rt={x:-Te.y,y:Te.x};let ft=1/0,Et=-1/0,_t=1/0,Ct=-1/0;for(const cn of G){const Rn=rt.x*cn.x+rt.y*cn.y;ft=Math.min(ft,Rn),Et=Math.max(Et,Rn)}for(const cn of pe){const Rn=rt.x*cn.x+rt.y*cn.y;_t=Math.min(_t,Rn),Ct=Math.max(Ct,Rn)}if(Et<_t||Ct<ft)return!1}return!0},J=(G,pe)=>{if(!pe||pe.length===0)return{hasCollision:!1,side:null};const K=G.x+Math.sin(G.angle)*(te/2),be=G.y-Math.cos(G.angle)*(te/2),Ce=G.x-Math.sin(G.angle)*(te/2),je=G.y+Math.cos(G.angle)*(te/2),tt=H(G.x,G.y,ee,te,G.angle);for(const Te of pe){let rt=!1;if(Te.type==="pillar"){const ft=Te.width/2;let Et=1/0;for(const Rn of tt){const Mr=Rn.x-Te.x,Cn=Rn.y-Te.y,Qt=Math.sqrt(Mr*Mr+Cn*Cn);Et=Math.min(Et,Qt)}const _t=G.x-Te.x,Ct=G.y-Te.y;Math.sqrt(_t*_t+Ct*Ct)<ft+Math.max(ee,te)/2&&Et<ft&&(rt=!0)}else{const ft=H(Te.x,Te.y,Te.width,Te.height,Te.angle||0);$(tt,ft)&&(rt=!0)}if(rt){const ft=(K-Te.x)**2+(be-Te.y)**2,Et=(Ce-Te.x)**2+(je-Te.y)**2;return{hasCollision:!0,side:ft<Et?"front":"rear"}}}return{hasCollision:!1,side:null}},he=(G,pe)=>{let K=[...G];for(let Ce=0;Ce<pe.length;Ce++){const je={p1:pe[Ce],p2:pe[(Ce+1)%pe.length]},tt=K;if(K=[],tt.length===0)break;for(let Te=0;Te<tt.length;Te++){const rt=tt[Te],ft=tt[(Te-1+tt.length)%tt.length],Et=ge(rt,je),_t=ge(ft,je);if(Et){if(!_t){const Ct=xe(ft,rt,je.p1,je.p2);Ct&&K.push(Ct)}K.push(rt)}else if(_t){const Ct=xe(ft,rt,je.p1,je.p2);Ct&&K.push(Ct)}}}if(K.length<3)return 0;let be=0;for(let Ce=0;Ce<K.length;Ce++){const je=(Ce+1)%K.length;be+=K[Ce].x*K[je].y,be-=K[je].x*K[Ce].y}return Math.abs(be)/2},ge=(G,pe)=>(pe.p2.x-pe.p1.x)*(G.y-pe.p1.y)-(pe.p2.y-pe.p1.y)*(G.x-pe.p1.x)>=0,xe=(G,pe,K,be)=>{const Ce=(be.y-K.y)*(pe.x-G.x)-(be.x-K.x)*(pe.y-G.y);if(Math.abs(Ce)<1e-10)return null;const je=((be.x-K.x)*(G.y-K.y)-(be.y-K.y)*(G.x-K.x))/Ce;return{x:G.x+je*(pe.x-G.x),y:G.y+je*(pe.y-G.y)}},Me=(G,pe)=>{if(!pe)return{success:!1,distance:999,angleDiff:999,speed:999,percentage:0};const K=G.x-pe.x,be=G.y-pe.y,Ce=Math.sqrt(K*K+be*be),je=Math.abs(G.angle-(pe.angle||0))*180/Math.PI,tt=H(G.x,G.y,ee,te,G.angle),Te=H(pe.x,pe.y,pe.width,pe.height,pe.angle||0),rt=he(tt,Te),ft=ee*te,Et=pe.width*pe.height,_t=Math.min(100,rt/ft*100);_t>90&&(console.log(`[Parking Debug] Overlap: ${_t.toFixed(2)}%`),console.log(`  Car Area: ${ft.toFixed(2)} (${ee}${te})`),console.log(`  Spot Area: ${Et.toFixed(2)} (${pe.width}${pe.height})`),console.log(`  Overlap Area: ${rt.toFixed(2)}`),console.log(`  Angle Diff: ${je.toFixed(2)}`),console.log(`  Speed: ${Math.abs(G.speed).toFixed(3)}`));const Ct=1,cn=Math.abs(G.speed)>Ct?20:0,Rn=15,Mr=je>Rn?Math.min(20,(je-Rn)*2):0,Cn=Math.max(0,Math.round(_t-cn-Mr));return{success:_t>=95&&Math.abs(G.speed)<Ct&&je<20,distance:Ce,angleDiff:je,speed:Math.abs(G.speed),percentage:Cn,overlapPercentage:Math.round(_t)}},Se=(G,pe,K)=>{G.fillStyle="#111827",G.fillRect(0,0,pe.width,pe.height),G.strokeStyle="#374151",G.lineWidth=1;const be=50;for(let Te=0;Te<pe.width;Te+=be)G.beginPath(),G.moveTo(Te,0),G.lineTo(Te,pe.height),G.stroke();for(let Te=0;Te<pe.height;Te+=be)G.beginPath(),G.moveTo(0,Te),G.lineTo(pe.width,Te),G.stroke();we(G,o?.parkingSpot),Y(G,o?.obstacles),ve(G,K);const Ce=Me(K,o?.parkingSpot);G.fillStyle="#F3F4F6",G.font="14px monospace",G.textAlign="left",G.fillText(`Level ${o?.levelNumber||0}: ${o?.title||"Unknown"}`,10,20),G.fillText(`Time: ${T.toFixed(1)}s`,10,40),G.fillText(`Collisions: ${R.current}`,10,60),G.fillText(`Speed: ${K.speed.toFixed(2)}`,10,80),G.font="bold 18px monospace";const je=Ce.percentage||0,tt=Ce.overlapPercentage||0;if(je>=95?G.fillStyle="#10B981":je>=80?G.fillStyle="#F59E0B":G.fillStyle="#EF4444",G.fillText(` : ${je}%`,10,110),G.font="14px monospace",G.fillStyle="#9CA3AF",G.fillText(`: ${tt}%`,10,135),G.fillText(`: ${Ce.angleDiff.toFixed(1)}`,10,155),G.fillText(`: ${Ce.speed.toFixed(2)}`,10,175),Ce.success&&(G.font="bold 20px monospace",G.fillStyle="#10B981",G.fillText(" (95%)",10,185),!Oe.current)){Oe.current=!0;const Te=(Date.now()-j.current)/1e3;N({timeTaken:Te,accuracy:je,collisions:R.current}),e&&e({timeTaken:Te,accuracy:je,collisions:R.current})}},Oe=ae.useRef(!1),Ue=(G,pe)=>{const K={...G};if(M.current&&(M.current==="front"&&pe.forward?K.speed=Math.min(0,K.speed):M.current==="rear"&&pe.backward&&(K.speed=Math.max(0,K.speed))),pe.left?K.steeringAngle=Math.max(K.steeringAngle-d.current,-ce):pe.right&&(K.steeringAngle=Math.min(K.steeringAngle+d.current,ce)),pe.forward?K.speed=Math.min(K.speed+K.acceleration,h.current):pe.backward?K.speed=Math.max(K.speed-K.acceleration,-h.current/2):(K.speed*=K.friction,Math.abs(K.speed)<.01&&(K.speed=0)),Math.abs(K.speed)>.01){if(Math.abs(K.steeringAngle)>.001){const tt=K.wheelBase/Math.tan(Math.abs(K.steeringAngle)),Te=K.speed/tt;K.angle+=Te*Math.sign(K.steeringAngle)}K.x+=Math.sin(K.angle)*K.speed,K.y-=Math.cos(K.angle)*K.speed}const be=a.current;be&&(K.x=Math.max(50,Math.min(be.width-50,K.x)),K.y=Math.max(50,Math.min(be.height-50,K.y)));const Ce=J(K,o?.obstacles),je=Date.now();if(Ce.hasCollision){if(M.current=Ce.side,K.speed=0,je-w.current>500){w.current=je,R.current+=1,C(!0),setTimeout(()=>C(!1),200);const tt=new Audio("https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3");tt.volume=.3,tt.play().catch(Te=>console.log("Audio play failed:",Te))}}else M.current!==null&&Math.abs(K.speed)>.1&&(M.current=null);return K},Ge=()=>{const G=a.current;if(!G)return;const pe=G.getContext("2d");pe&&(j.current&&S((Date.now()-j.current)/1e3),P(K=>{const be=Ue(K,f.current);return Se(pe,G,be),be}),u.current=requestAnimationFrame(Ge))};ae.useEffect(()=>{const G=K=>{switch(K.preventDefault(),K.key){case"ArrowUp":f.current.forward=!0;break;case"ArrowDown":f.current.backward=!0;break;case"ArrowLeft":f.current.left=!0;break;case"ArrowRight":f.current.right=!0;break}},pe=K=>{switch(K.key){case"ArrowUp":f.current.forward=!1;break;case"ArrowDown":f.current.backward=!1;break;case"ArrowLeft":f.current.left=!1;break;case"ArrowRight":f.current.right=!1;break}};return window.addEventListener("keydown",G),window.addEventListener("keyup",pe),()=>{window.removeEventListener("keydown",G),window.removeEventListener("keyup",pe)}},[]);const Pn=G=>{if(!G)return!0;const pe=[],K=G.parkingSpot;if(K){const be=(K.angle||0)*180/Math.PI%360;Math.abs(be)<45||Math.abs(be-180)<45?(K.width<ee||K.height<te)&&pe.push(` Level ${G.levelNumber}: Parking spot (${K.width}${K.height}) is too small for car (${ee}${te})`):(K.width<te||K.height<ee)&&pe.push(` Level ${G.levelNumber}: Parking spot (${K.width}${K.height}) is too small for rotated car (${te}${ee})`)}if(G.obstacles&&K){const be=H(K.x,K.y,K.width,K.height,K.angle||0);G.obstacles.forEach((Ce,je)=>{const tt=H(Ce.x,Ce.y,Ce.width,Ce.height,Ce.angle||0),Te=he(be,tt);Te>1&&pe.push(` Level ${G.levelNumber}: Obstacle #${je+1} (${Ce.type}) overlaps with parking spot (${Te.toFixed(0)} px)`)})}return pe.length>0&&(console.warn(" Level Design Validation Issues:"),pe.forEach(be=>console.warn(be))),pe.length===0};ae.useEffect(()=>{const G=a.current;if(G)return G.width=1200,G.height=900,Pn(o),Oe.current=!1,j.current=Date.now(),R.current=0,M.current=null,V(0),z(!1),P({x:o?.carStartPosition?.x||200,y:o?.carStartPosition?.y||500,angle:o?.carStartPosition?.angle||0,steeringAngle:0,speed:0,maxSpeed:.5,acceleration:.1,friction:.95,wheelBase:80}),Ge(),()=>{u.current&&cancelAnimationFrame(u.current)}},[o]);const yn=()=>{if(z(!1),Oe.current=!1,r)r();else{const G=(s||o?.levelNumber||1)+1;G<=15?window.location.href=`/?level=${G}`:(alert(""),window.location.href="/")}},ki=()=>{window.location.href="/"},di=()=>{P({x:o?.carStartPosition?.x||200,y:o?.carStartPosition?.y||500,angle:o?.carStartPosition?.angle||0,steeringAngle:0,speed:0,maxSpeed:.5,acceleration:.1,friction:.95,wheelBase:80}),S(0),V(0),R.current=0,M.current=null,j.current=Date.now(),z(!1),Oe.current=!1,f.current={forward:!1,backward:!1,left:!1,right:!1}};return k.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen bg-gray-900 p-4 relative transition-all duration-200 ${b?"bg-red-900":""}`,children:[b&&k.jsx("div",{className:"fixed inset-0 bg-red-500 opacity-30 pointer-events-none z-40 animate-pulse"}),Oe.current&&k.jsxs("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50 flex flex-col gap-4",children:[k.jsxs("div",{className:"bg-green-500 text-white px-8 py-4 rounded-2xl shadow-2xl text-center animate-bounce",children:[k.jsx("div",{className:"text-4xl mb-2",children:""}),k.jsx("div",{className:"text-2xl font-bold mb-2",children:""}),k.jsxs("div",{className:"text-lg",children:[": ",U.accuracy,"%"]}),k.jsxs("div",{className:"text-sm opacity-90",children:[": ",U.timeTaken?.toFixed(1),"s"]})]}),k.jsx("button",{onClick:yn,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-xl text-xl transition-all duration-200 shadow-2xl hover:scale-105","data-testid":"instant-next-level-button",children:" "}),k.jsx("button",{onClick:ki,className:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-6 rounded-xl transition-all duration-200 shadow-xl",children:" "})]}),k.jsxs("div",{className:"absolute top-4 right-4 flex gap-3 z-10",children:[k.jsx("button",{onClick:di,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold transition-colors duration-200 flex items-center gap-2 shadow-lg","data-testid":"restart-button",children:" "}),k.jsx("button",{onClick:ki,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors duration-200 flex items-center gap-2 shadow-lg","data-testid":"back-to-menu-button",children:" "})]}),k.jsxs("div",{className:"mb-4",children:[k.jsxs("h1",{className:"text-3xl font-bold text-gray-100 text-center",children:["Level ",o?.levelNumber||0,": ",o?.title||"Unknown"]}),k.jsx("p",{className:"text-gray-400 text-center mt-2",children:o?.hints?.[0]||""})]}),k.jsxs("div",{className:"mb-4 p-4 bg-gray-800 rounded-lg w-full max-w-2xl",children:[k.jsx("h2",{className:"text-lg font-semibold text-gray-100 mb-3 text-center",children:" "}),k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{className:"flex items-center gap-4",children:[k.jsx("label",{className:"text-gray-300 w-32 text-sm font-medium",children:" :"}),k.jsx("input",{type:"range",min:"0.5",max:"5",step:"0.1",value:g,onChange:G=>{const pe=parseFloat(G.target.value);h.current=pe,_(pe)},className:"flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-500"}),k.jsx("span",{className:"text-blue-400 font-mono text-sm w-16 text-right",children:g.toFixed(1)})]}),k.jsxs("div",{className:"flex items-center gap-4",children:[k.jsx("label",{className:"text-gray-300 w-32 text-sm font-medium",children:" :"}),k.jsx("input",{type:"range",min:"0.001",max:"0.02",step:"0.001",value:x,onChange:G=>{const pe=parseFloat(G.target.value);d.current=pe,p(pe)},className:"flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-green-500"}),k.jsx("span",{className:"text-green-400 font-mono text-sm w-16 text-right",children:x.toFixed(3)})]})]})]}),k.jsx("canvas",{ref:a,className:"border-4 border-gray-700 rounded-lg shadow-2xl","data-testid":"level-canvas"}),L&&k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:k.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md w-full mx-4 border-4 border-green-500 shadow-2xl",children:[k.jsxs("div",{className:"text-center mb-6",children:[k.jsx("div",{className:"text-6xl mb-4",children:""}),k.jsx("h2",{className:"text-4xl font-bold text-green-400 mb-2",children:""}),k.jsxs("p",{className:"text-gray-300 text-lg",children:["Level ",o?.levelNumber||0,": ",o?.title||"Unknown"]})]}),k.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 mb-6 space-y-3",children:[k.jsxs("div",{className:"flex justify-between items-center",children:[k.jsx("span",{className:"text-gray-400",children:":"}),k.jsxs("span",{className:"text-green-400 font-bold text-xl",children:[U.accuracy,"%"]})]}),k.jsxs("div",{className:"flex justify-between items-center",children:[k.jsx("span",{className:"text-gray-400",children:":"}),k.jsxs("span",{className:"text-blue-400 font-mono",children:[U.timeTaken?.toFixed(1),"s"]})]}),k.jsxs("div",{className:"flex justify-between items-center",children:[k.jsx("span",{className:"text-gray-400",children:":"}),k.jsx("span",{className:"text-yellow-400 font-mono",children:U.collisions})]})]}),k.jsxs("div",{className:"space-y-3",children:[k.jsx("button",{onClick:yn,className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-lg transition-colors duration-200 text-lg","data-testid":"next-level-button",children:" "}),k.jsx("button",{onClick:ki,className:"w-full bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-6 rounded-lg transition-colors duration-200","data-testid":"back-to-menu-button",children:" "})]})]})})]})};var km={exports:{}},Lm,D_;function qA(){if(D_)return Lm;D_=1;var o="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Lm=o,Lm}var jm,N_;function GA(){if(N_)return jm;N_=1;var o=qA();function e(){}function n(){}return n.resetWarningCache=e,jm=function(){function r(u,f,h,d,g,_){if(_!==o){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},jm}var I_;function YA(){return I_||(I_=1,km.exports=GA()()),km.exports}var QA=YA();const ke=m2(QA),dh=({isOpen:o,onClose:e,children:n,size:r="medium",closeOnBackdrop:s=!0,className:a=""})=>{const u=ae.useRef(null),f=ae.useRef(null),h=ae.useRef(null),d={small:"max-w-md",medium:"max-w-lg",large:"max-w-2xl",xlarge:"max-w-4xl"};ae.useEffect(()=>{if(!(!u.current||!f.current))return h.current=It.timeline(),o&&h.current.fromTo(f.current,{opacity:0},{opacity:1,duration:.2,ease:"power2.out"}).fromTo(u.current,{opacity:0,scale:.8,y:-50},{opacity:1,scale:1,y:0,duration:.3,ease:"back.out(1.5)"},"-=0.1"),()=>{h.current&&h.current.kill()}},[o]);const g=()=>{e&&(h.current&&u.current&&f.current?It.timeline().to(u.current,{opacity:0,scale:.8,y:-30,duration:.2,ease:"power2.in"}).to(f.current,{opacity:0,duration:.15},"-=0.1").then(()=>e()):e())},_=x=>{s&&x.target===x.currentTarget&&g()};return o?k.jsx("div",{ref:f,className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:_,children:k.jsx("div",{ref:u,className:`relative bg-gray-800 rounded-xl shadow-2xl ${d[r]} w-full ${a}`,onClick:x=>x.stopPropagation(),children:n})}):null};dh.propTypes={isOpen:ke.bool.isRequired,onClose:ke.func,children:ke.node.isRequired,size:ke.oneOf(["small","medium","large","xlarge"]),closeOnBackdrop:ke.bool,className:ke.string};const Xi=({children:o,onClick:e,variant:n="primary",size:r="medium",disabled:s=!1,className:a="",...u})=>{const f="font-semibold rounded-lg transition-all duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100",h={primary:"bg-blue-500 hover:bg-blue-600 text-white shadow-lg hover:shadow-xl",secondary:"bg-gray-600 hover:bg-gray-700 text-white shadow-md hover:shadow-lg",success:"bg-green-500 hover:bg-green-600 text-white shadow-lg hover:shadow-xl",danger:"bg-red-500 hover:bg-red-600 text-white shadow-lg hover:shadow-xl",warning:"bg-yellow-500 hover:bg-yellow-600 text-gray-900 shadow-lg hover:shadow-xl",ghost:"bg-transparent hover:bg-gray-700/50 text-gray-200 border-2 border-gray-600 hover:border-gray-500"},d={small:"px-4 py-2 text-sm",medium:"px-6 py-3 text-base",large:"px-8 py-4 text-lg"},g=`${f} ${h[n]} ${d[r]} ${a}`;return k.jsx("button",{className:g,onClick:e,disabled:s,...u,children:o})};Xi.propTypes={children:ke.node.isRequired,onClick:ke.func,variant:ke.oneOf(["primary","secondary","success","danger","warning","ghost"]),size:ke.oneOf(["small","medium","large"]),disabled:ke.bool,className:ke.string};const Yx=({isOpen:o,stars:e=1,totalScore:n=0,breakdown:r={},onNextLevel:s,onRetry:a,onHome:u})=>{const f=ae.useRef([]),h=ae.useRef(null),d=ae.useRef([]);ae.useEffect(()=>{if(!o)return;const p=It.timeline({delay:.3});return p.fromTo(f.current,{scale:0,rotation:-180},{scale:1,rotation:0,duration:.5,stagger:.15,ease:"back.out(1.7)"}),h.current&&p.fromTo(h.current,{opacity:0,y:20},{opacity:1,y:0,duration:.3},"-=0.2"),p.fromTo(d.current,{opacity:0,x:-20},{opacity:1,x:0,duration:.3,stagger:.1},"-=0.2"),()=>{p.kill()}},[o]);const g=()=>{const p=[];for(let T=0;T<3;T++){const S=T<e;p.push(k.jsx("div",{ref:E=>f.current[T]=E,className:"inline-block",children:k.jsx(q1,{size:64,className:S?"fill-yellow-400 text-yellow-400":"fill-gray-600 text-gray-600"})},T))}return p},_=()=>e===3?"Perfect Parking!":e===2?"Good Job!":"Level Complete!",x=()=>e===3?"text-yellow-400":e===2?"text-green-400":"text-blue-400";return k.jsx(dh,{isOpen:o,onClose:null,size:"medium",closeOnBackdrop:!1,children:k.jsxs("div",{className:"p-8 text-center",children:[k.jsx("h2",{className:"text-4xl font-bold mb-6 "+x(),children:_()}),k.jsx("div",{className:"flex justify-center gap-4 mb-8",children:g()}),k.jsxs("div",{ref:h,className:"mb-8",children:[k.jsx("div",{className:"text-6xl font-bold text-white mb-2",children:Math.round(n)}),k.jsx("div",{className:"text-xl text-gray-400",children:"Total Score"})]}),k.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-6 mb-8 space-y-3",children:[k.jsxs("div",{ref:p=>d.current[0]=p,className:"flex justify-between items-center",children:[k.jsx("span",{className:"text-gray-300",children:"Accuracy:"}),k.jsxs("span",{className:"text-white font-semibold",children:[Math.round(r.accuracy||0),"%"]})]}),k.jsxs("div",{ref:p=>d.current[1]=p,className:"flex justify-between items-center",children:[k.jsx("span",{className:"text-gray-300",children:"Time:"}),k.jsxs("span",{className:"text-white font-semibold",children:[(r.timeTaken||0).toFixed(1),"s"]})]}),k.jsxs("div",{ref:p=>d.current[2]=p,className:"flex justify-between items-center",children:[k.jsx("span",{className:"text-gray-300",children:"Collisions:"}),k.jsx("span",{className:"text-white font-semibold",children:r.collisions||0})]})]}),k.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[k.jsx(Xi,{variant:"success",size:"large",onClick:s,children:"Next Level"}),k.jsx(Xi,{variant:"ghost",size:"large",onClick:a,children:"Retry"}),k.jsx(Xi,{variant:"secondary",size:"large",onClick:u,children:"Home"})]})]})})};Yx.propTypes={isOpen:ke.bool.isRequired,stars:ke.number,totalScore:ke.number,breakdown:ke.shape({accuracy:ke.number,timeTaken:ke.number,collisions:ke.number}),onNextLevel:ke.func.isRequired,onRetry:ke.func.isRequired,onHome:ke.func.isRequired};const Qx=({isOpen:o,reason:e="Level failed",stats:n={},onRetry:r,onHome:s})=>{const a=ae.useRef(null),u=ae.useRef(null);return ae.useEffect(()=>{if(!o||!a.current||!u.current)return;const f=It.timeline({delay:.3});return f.fromTo(u.current,{scale:0,rotation:-90},{scale:1,rotation:0,duration:.4,ease:"back.out(1.5)"}).to(u.current,{x:-5,duration:.05,repeat:5,yoyo:!0,ease:"power1.inOut"}).fromTo(a.current,{opacity:0,y:20},{opacity:1,y:0,duration:.3},"-=0.2"),()=>{f.kill()}},[o]),k.jsx(dh,{isOpen:o,onClose:null,size:"medium",closeOnBackdrop:!1,children:k.jsxs("div",{className:"p-8 text-center",children:[k.jsx("div",{ref:u,className:"flex justify-center mb-6",children:k.jsx(H2,{size:80,className:"text-red-500"})}),k.jsx("h2",{className:"text-4xl font-bold text-red-400 mb-4",children:"Level Failed"}),k.jsx("div",{className:"text-xl text-gray-300 mb-8",children:e}),k.jsxs("div",{ref:a,className:"bg-gray-900/50 rounded-lg p-6 mb-8 space-y-3",children:[k.jsxs("div",{className:"flex justify-between items-center",children:[k.jsx("span",{className:"text-gray-400",children:"Time Elapsed:"}),k.jsxs("span",{className:"text-white font-semibold",children:[(n.timeTaken||0).toFixed(1),"s"]})]}),k.jsxs("div",{className:"flex justify-between items-center",children:[k.jsx("span",{className:"text-gray-400",children:"Collisions:"}),k.jsx("span",{className:"text-white font-semibold",children:n.collisions||0})]}),n.accuracy!==void 0&&k.jsxs("div",{className:"flex justify-between items-center",children:[k.jsx("span",{className:"text-gray-400",children:"Best Accuracy:"}),k.jsxs("span",{className:"text-white font-semibold",children:[Math.round(n.accuracy),"%"]})]})]}),k.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[k.jsxs(Xi,{variant:"warning",size:"large",onClick:r,className:"flex items-center justify-center gap-2",children:[k.jsx(Ig,{size:20}),"Try Again"]}),k.jsxs(Xi,{variant:"secondary",size:"large",onClick:s,className:"flex items-center justify-center gap-2",children:[k.jsx(Ng,{size:20}),"Home"]})]})]})})};Qx.propTypes={isOpen:ke.bool.isRequired,reason:ke.string,stats:ke.shape({timeTaken:ke.number,collisions:ke.number,accuracy:ke.number}),onRetry:ke.func.isRequired,onHome:ke.func.isRequired};const Xx=({isOpen:o,stats:e={},onResume:n,onRestart:r,onSettings:s,onHome:a})=>k.jsx(dh,{isOpen:o,onClose:n,size:"medium",children:k.jsxs("div",{className:"p-8",children:[k.jsx("h2",{className:"text-4xl font-bold text-center text-white mb-8",children:"Paused"}),k.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-6 mb-8 space-y-3",children:[k.jsx("div",{className:"text-center text-gray-400 mb-4",children:"Current Progress"}),k.jsxs("div",{className:"flex justify-between items-center",children:[k.jsx("span",{className:"text-gray-300",children:"Time:"}),k.jsxs("span",{className:"text-white font-semibold",children:[(e.time||0).toFixed(1),"s"]})]}),k.jsxs("div",{className:"flex justify-between items-center",children:[k.jsx("span",{className:"text-gray-300",children:"Speed:"}),k.jsxs("span",{className:"text-white font-semibold",children:[Math.round(e.speed||0)," km/h"]})]}),k.jsxs("div",{className:"flex justify-between items-center",children:[k.jsx("span",{className:"text-gray-300",children:"Collisions:"}),k.jsx("span",{className:"text-white font-semibold",children:e.collisions||0})]}),k.jsxs("div",{className:"flex justify-between items-center",children:[k.jsx("span",{className:"text-gray-300",children:"Accuracy:"}),k.jsxs("span",{className:"text-white font-semibold",children:[Math.round(e.accuracy||0),"%"]})]})]}),k.jsxs("div",{className:"space-y-3",children:[k.jsxs(Xi,{variant:"success",size:"large",onClick:n,className:"w-full flex items-center justify-center gap-2",children:[k.jsx(F1,{size:20}),"Resume"]}),k.jsxs(Xi,{variant:"warning",size:"large",onClick:r,className:"w-full flex items-center justify-center gap-2",children:[k.jsx(Ig,{size:20}),"Restart Level"]}),k.jsxs(Xi,{variant:"ghost",size:"large",onClick:s,className:"w-full flex items-center justify-center gap-2",children:[k.jsx(H1,{size:20}),"Settings"]}),k.jsxs(Xi,{variant:"secondary",size:"large",onClick:a,className:"w-full flex items-center justify-center gap-2",children:[k.jsx(Ng,{size:20}),"Main Menu"]})]})]})});Xx.propTypes={isOpen:ke.bool.isRequired,stats:ke.shape({time:ke.number,speed:ke.number,collisions:ke.number,accuracy:ke.number}),onResume:ke.func.isRequired,onRestart:ke.func.isRequired,onSettings:ke.func.isRequired,onHome:ke.func.isRequired};const Kx=({isOpen:o,steps:e=[],onClose:n})=>{const[r,s]=ae.useState(0),a=ae.useRef(null);ae.useEffect(()=>{!o||!a.current||It.fromTo(a.current,{opacity:0,y:20},{opacity:1,y:0,duration:.3,ease:"power2.out"})},[r,o]);const u=()=>{r<e.length-1?It.to(a.current,{opacity:0,y:-20,duration:.2,onComplete:()=>s(r+1)}):f()},f=()=>{n&&It.to(a.current,{opacity:0,scale:.9,duration:.2,onComplete:n})};return!o||e.length===0?null:k.jsxs("div",{className:"fixed inset-0 z-40 flex items-end sm:items-center justify-center p-4 pointer-events-none",children:[k.jsx("div",{className:"absolute inset-0 bg-black/20 pointer-events-none"}),k.jsxs("div",{ref:a,className:"relative bg-gray-800/95 backdrop-blur-sm rounded-xl shadow-2xl max-w-md w-full p-6 pointer-events-auto border-2 border-blue-500/50",children:[k.jsx("button",{onClick:f,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:k.jsx(hb,{size:24})}),k.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[k.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold",children:r+1}),k.jsx("h3",{className:"text-xl font-bold text-white",children:"Tutorial"})]}),k.jsx("div",{className:"text-gray-200 text-lg mb-6 leading-relaxed",children:e[r]}),k.jsx("div",{className:"flex gap-2 mb-6",children:e.map((h,d)=>k.jsx("div",{className:`h-1 flex-1 rounded-full transition-colors ${d<=r?"bg-blue-500":"bg-gray-600"}`},d))}),k.jsxs("div",{className:"flex justify-between items-center",children:[k.jsxs("div",{className:"text-sm text-gray-400",children:["Step ",r+1," of ",e.length]}),k.jsx(Xi,{variant:"primary",size:"medium",onClick:u,className:"flex items-center gap-2",children:r<e.length-1?k.jsxs(k.Fragment,{children:["Next ",k.jsx(z2,{size:18})]}):"Got it!"})]})]})]})};Kx.propTypes={isOpen:ke.bool.isRequired,steps:ke.arrayOf(ke.string),onClose:ke.func.isRequired};const XA=()=>{};var O_={};const $x=function(o){const e=[];let n=0;for(let r=0;r<o.length;r++){let s=o.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<o.length&&(o.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(o.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},KA=function(o){const e=[];let n=0,r=0;for(;n<o.length;){const s=o[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=o[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=o[n++],u=o[n++],f=o[n++],h=((s&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=o[n++],u=o[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Wx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(o,e){if(!Array.isArray(o))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<o.length;s+=3){const a=o[s],u=s+1<o.length,f=u?o[s+1]:0,h=s+2<o.length,d=h?o[s+2]:0,g=a>>2,_=(a&3)<<4|f>>4;let x=(f&15)<<2|d>>6,p=d&63;h||(p=64,u||(x=64)),r.push(n[g],n[_],n[x],n[p])}return r.join("")},encodeString(o,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(o):this.encodeByteArray($x(o),e)},decodeString(o,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(o):KA(this.decodeStringToByteArray(o,e))},decodeStringToByteArray(o,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<o.length;){const a=n[o.charAt(s++)],f=s<o.length?n[o.charAt(s)]:0;++s;const d=s<o.length?n[o.charAt(s)]:64;++s;const _=s<o.length?n[o.charAt(s)]:64;if(++s,a==null||f==null||d==null||_==null)throw new $A;const x=a<<2|f>>4;if(r.push(x),d!==64){const p=f<<4&240|d>>2;if(r.push(p),_!==64){const T=d<<6&192|_;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let o=0;o<this.ENCODED_VALS.length;o++)this.byteToCharMap_[o]=this.ENCODED_VALS.charAt(o),this.charToByteMap_[this.byteToCharMap_[o]]=o,this.byteToCharMapWebSafe_[o]=this.ENCODED_VALS_WEBSAFE.charAt(o),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[o]]=o,o>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(o)]=o,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(o)]=o)}}};class $A extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WA=function(o){const e=$x(o);return Wx.encodeByteArray(e,!0)},Qf=function(o){return WA(o).replace(/\./g,"")},ZA=function(o){try{return Wx.decodeString(o,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function JA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ew=()=>JA().__FIREBASE_DEFAULTS__,tw=()=>{if(typeof process>"u"||typeof O_>"u")return;const o=O_.__FIREBASE_DEFAULTS__;if(o)return JSON.parse(o)},nw=()=>{if(typeof document>"u")return;let o;try{o=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=o&&ZA(o[1]);return e&&JSON.parse(e)},Wg=()=>{try{return XA()||ew()||tw()||nw()}catch(o){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${o}`);return}},iw=o=>Wg()?.emulatorHosts?.[o],rw=o=>{const e=iw(o);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Zx=()=>Wg()?.config;class sw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Zg(o){try{return(o.startsWith("http://")||o.startsWith("https://")?new URL(o).hostname:o).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aw(o){return(await fetch(o,{credentials:"include"})).ok}function lw(o,e){if(o.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=o.iat||0,a=o.sub||o.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...o};return[Qf(JSON.stringify(n)),Qf(JSON.stringify(u)),""].join(".")}const Tu={};function ow(){const o={prod:[],emulator:[]};for(const e of Object.keys(Tu))Tu[e]?o.emulator.push(e):o.prod.push(e);return o}function uw(o){let e=document.getElementById(o),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",o),n=!0),{created:n,element:e}}let V_=!1;function cw(o,e){if(typeof window>"u"||typeof document>"u"||!Zg(window.location.host)||Tu[o]===e||Tu[o]||V_)return;Tu[o]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",a=ow().prod.length>0;function u(){const x=document.getElementById(r);x&&x.remove()}function f(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function h(x,p){x.setAttribute("width","24"),x.setAttribute("id",p),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function d(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{V_=!0,u()},x}function g(x,p){x.setAttribute("id",p),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function _(){const x=uw(r),p=n("text"),T=document.getElementById(p)||document.createElement("span"),S=n("learnmore"),E=document.getElementById(S)||document.createElement("a"),V=n("preprendIcon"),L=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const z=x.element;f(z),g(E,S);const U=d();h(L,V),z.append(L,T,E,U),document.body.appendChild(z)}a?(T.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function fw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hw(){const o=Wg()?.forceEnvironment;if(o==="node")return!0;if(o==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dw(){return!hw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mw(){try{return typeof indexedDB=="object"}catch{return!1}}function gw(){return new Promise((o,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),o(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}const pw="FirebaseError";class ro extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pw,Object.setPrototypeOf(this,ro.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jx.prototype.create)}}class Jx{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?yw(a,r):"Error",f=`${this.serviceName}: ${u} (${s}).`;return new ro(s,f,r)}}function yw(o,e){return o.replace(vw,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const vw=/\{\$([^}]+)}/g;function Xf(o,e){if(o===e)return!0;const n=Object.keys(o),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=o[s],u=e[s];if(P_(a)&&P_(u)){if(!Xf(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function P_(o){return o!==null&&typeof o=="object"}function Kf(o){return o&&o._delegate?o._delegate:o}class Pu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Da="[DEFAULT]";class _w{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Sw(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);r===f&&u.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xw(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xw(o){return o===Da?void 0:o}function Sw(o){return o.instantiationMode==="EAGER"}class Tw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _w(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var it;(function(o){o[o.DEBUG=0]="DEBUG",o[o.VERBOSE=1]="VERBOSE",o[o.INFO=2]="INFO",o[o.WARN=3]="WARN",o[o.ERROR=4]="ERROR",o[o.SILENT=5]="SILENT"})(it||(it={}));const Ew={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},bw=it.INFO,Aw={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},ww=(o,e,...n)=>{if(e<o.logLevel)return;const r=new Date().toISOString(),s=Aw[e];if(s)console[s](`[${r}]  ${o.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class eS{constructor(e){this.name=e,this._logLevel=bw,this._logHandler=ww,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ew[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const Rw=(o,e)=>e.some(n=>o instanceof n);let k_,L_;function Cw(){return k_||(k_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mw(){return L_||(L_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tS=new WeakMap,ug=new WeakMap,nS=new WeakMap,zm=new WeakMap,Jg=new WeakMap;function Dw(o){const e=new Promise((n,r)=>{const s=()=>{o.removeEventListener("success",a),o.removeEventListener("error",u)},a=()=>{n(Bs(o.result)),s()},u=()=>{r(o.error),s()};o.addEventListener("success",a),o.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&tS.set(n,o)}).catch(()=>{}),Jg.set(e,o),e}function Nw(o){if(ug.has(o))return;const e=new Promise((n,r)=>{const s=()=>{o.removeEventListener("complete",a),o.removeEventListener("error",u),o.removeEventListener("abort",u)},a=()=>{n(),s()},u=()=>{r(o.error||new DOMException("AbortError","AbortError")),s()};o.addEventListener("complete",a),o.addEventListener("error",u),o.addEventListener("abort",u)});ug.set(o,e)}let cg={get(o,e,n){if(o instanceof IDBTransaction){if(e==="done")return ug.get(o);if(e==="objectStoreNames")return o.objectStoreNames||nS.get(o);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bs(o[e])},set(o,e,n){return o[e]=n,!0},has(o,e){return o instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in o}};function Iw(o){cg=o(cg)}function Ow(o){return o===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=o.call(Bm(this),e,...n);return nS.set(r,e.sort?e.sort():[e]),Bs(r)}:Mw().includes(o)?function(...e){return o.apply(Bm(this),e),Bs(tS.get(this))}:function(...e){return Bs(o.apply(Bm(this),e))}}function Vw(o){return typeof o=="function"?Ow(o):(o instanceof IDBTransaction&&Nw(o),Rw(o,Cw())?new Proxy(o,cg):o)}function Bs(o){if(o instanceof IDBRequest)return Dw(o);if(zm.has(o))return zm.get(o);const e=Vw(o);return e!==o&&(zm.set(o,e),Jg.set(e,o)),e}const Bm=o=>Jg.get(o);function Pw(o,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(o,e),f=Bs(u);return r&&u.addEventListener("upgradeneeded",h=>{r(Bs(u.result),h.oldVersion,h.newVersion,Bs(u.transaction),h)}),n&&u.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),f.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),f}const kw=["get","getKey","getAll","getAllKeys","count"],Lw=["put","add","delete","clear"],Um=new Map;function j_(o,e){if(!(o instanceof IDBDatabase&&!(e in o)&&typeof e=="string"))return;if(Um.get(e))return Um.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Lw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||kw.includes(n)))return;const a=async function(u,...f){const h=this.transaction(u,s?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(f.shift())),(await Promise.all([d[n](...f),s&&h.done]))[0]};return Um.set(e,a),a}Iw(o=>({...o,get:(e,n,r)=>j_(e,n)||o.get(e,n,r),has:(e,n)=>!!j_(e,n)||o.has(e,n)}));class jw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zw(o){return o.getComponent()?.type==="VERSION"}const fg="@firebase/app",z_="0.14.6";const es=new eS("@firebase/app"),Bw="@firebase/app-compat",Uw="@firebase/analytics-compat",Fw="@firebase/analytics",Hw="@firebase/app-check-compat",qw="@firebase/app-check",Gw="@firebase/auth",Yw="@firebase/auth-compat",Qw="@firebase/database",Xw="@firebase/data-connect",Kw="@firebase/database-compat",$w="@firebase/functions",Ww="@firebase/functions-compat",Zw="@firebase/installations",Jw="@firebase/installations-compat",eR="@firebase/messaging",tR="@firebase/messaging-compat",nR="@firebase/performance",iR="@firebase/performance-compat",rR="@firebase/remote-config",sR="@firebase/remote-config-compat",aR="@firebase/storage",lR="@firebase/storage-compat",oR="@firebase/firestore",uR="@firebase/ai",cR="@firebase/firestore-compat",fR="firebase",hR="12.6.0";const hg="[DEFAULT]",dR={[fg]:"fire-core",[Bw]:"fire-core-compat",[Fw]:"fire-analytics",[Uw]:"fire-analytics-compat",[qw]:"fire-app-check",[Hw]:"fire-app-check-compat",[Gw]:"fire-auth",[Yw]:"fire-auth-compat",[Qw]:"fire-rtdb",[Xw]:"fire-data-connect",[Kw]:"fire-rtdb-compat",[$w]:"fire-fn",[Ww]:"fire-fn-compat",[Zw]:"fire-iid",[Jw]:"fire-iid-compat",[eR]:"fire-fcm",[tR]:"fire-fcm-compat",[nR]:"fire-perf",[iR]:"fire-perf-compat",[rR]:"fire-rc",[sR]:"fire-rc-compat",[aR]:"fire-gcs",[lR]:"fire-gcs-compat",[oR]:"fire-fst",[cR]:"fire-fst-compat",[uR]:"fire-vertex","fire-js":"fire-js",[fR]:"fire-js-all"};const $f=new Map,mR=new Map,dg=new Map;function B_(o,e){try{o.container.addComponent(e)}catch(n){es.debug(`Component ${e.name} failed to register with FirebaseApp ${o.name}`,n)}}function Wf(o){const e=o.name;if(dg.has(e))return es.debug(`There were multiple attempts to register component ${e}.`),!1;dg.set(e,o);for(const n of $f.values())B_(n,o);for(const n of mR.values())B_(n,o);return!0}function gR(o,e){const n=o.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),o.container.getProvider(e)}function pR(o){return o==null?!1:o.settings!==void 0}const yR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Us=new Jx("app","Firebase",yR);class vR{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Us.create("app-deleted",{appName:this._name})}}const _R=hR;function iS(o,e={}){let n=o;typeof e!="object"&&(e={name:e});const r={name:hg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Us.create("bad-app-name",{appName:String(s)});if(n||(n=Zx()),!n)throw Us.create("no-options");const a=$f.get(s);if(a){if(Xf(n,a.options)&&Xf(r,a.config))return a;throw Us.create("duplicate-app",{appName:s})}const u=new Tw(s);for(const h of dg.values())u.addComponent(h);const f=new vR(n,r,u);return $f.set(s,f),f}function xR(o=hg){const e=$f.get(o);if(!e&&o===hg&&Zx())return iS();if(!e)throw Us.create("no-app",{appName:o});return e}function ql(o,e,n){let r=dR[o]??o;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),es.warn(u.join(" "));return}Wf(new Pu(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const SR="firebase-heartbeat-database",TR=1,ku="firebase-heartbeat-store";let Fm=null;function rS(){return Fm||(Fm=Pw(SR,TR,{upgrade:(o,e)=>{switch(e){case 0:try{o.createObjectStore(ku)}catch(n){console.warn(n)}}}}).catch(o=>{throw Us.create("idb-open",{originalErrorMessage:o.message})})),Fm}async function ER(o){try{const n=(await rS()).transaction(ku),r=await n.objectStore(ku).get(sS(o));return await n.done,r}catch(e){if(e instanceof ro)es.warn(e.message);else{const n=Us.create("idb-get",{originalErrorMessage:e?.message});es.warn(n.message)}}}async function U_(o,e){try{const r=(await rS()).transaction(ku,"readwrite");await r.objectStore(ku).put(e,sS(o)),await r.done}catch(n){if(n instanceof ro)es.warn(n.message);else{const r=Us.create("idb-set",{originalErrorMessage:n?.message});es.warn(r.message)}}}function sS(o){return`${o.name}!${o.options.appId}`}const bR=1024,AR=30;class wR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=F_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>AR){const s=MR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){es.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=F_(),{heartbeatsToSend:n,unsentEntries:r}=RR(this._heartbeatsCache.heartbeats),s=Qf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return es.warn(e),""}}}function F_(){return new Date().toISOString().substring(0,10)}function RR(o,e=bR){const n=[];let r=o.slice();for(const s of o){const a=n.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),H_(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),H_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class CR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mw()?gw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ER(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return U_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return U_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function H_(o){return Qf(JSON.stringify({version:2,heartbeats:o})).length}function MR(o){if(o.length===0)return-1;let e=0,n=o[0].date;for(let r=1;r<o.length;r++)o[r].date<n&&(n=o[r].date,e=r);return e}function DR(o){Wf(new Pu("platform-logger",e=>new jw(e),"PRIVATE")),Wf(new Pu("heartbeat",e=>new wR(e),"PRIVATE")),ql(fg,z_,o),ql(fg,z_,"esm2020"),ql("fire-js","")}DR("");var NR="firebase",IR="12.6.0";ql(NR,IR,"app");var q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fs,aS;(function(){var o;function e(R,b){function C(){}C.prototype=b.prototype,R.F=b.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(w,M,I){for(var P=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)P[ee-2]=arguments[ee];return b.prototype[M].apply(w,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,b,C){C||(C=0);const w=Array(16);if(typeof b=="string")for(var M=0;M<16;++M)w[M]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(M=0;M<16;++M)w[M]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=R.g[0],C=R.g[1],M=R.g[2];let I=R.g[3],P;P=b+(I^C&(M^I))+w[0]+3614090360&4294967295,b=C+(P<<7&4294967295|P>>>25),P=I+(M^b&(C^M))+w[1]+3905402710&4294967295,I=b+(P<<12&4294967295|P>>>20),P=M+(C^I&(b^C))+w[2]+606105819&4294967295,M=I+(P<<17&4294967295|P>>>15),P=C+(b^M&(I^b))+w[3]+3250441966&4294967295,C=M+(P<<22&4294967295|P>>>10),P=b+(I^C&(M^I))+w[4]+4118548399&4294967295,b=C+(P<<7&4294967295|P>>>25),P=I+(M^b&(C^M))+w[5]+1200080426&4294967295,I=b+(P<<12&4294967295|P>>>20),P=M+(C^I&(b^C))+w[6]+2821735955&4294967295,M=I+(P<<17&4294967295|P>>>15),P=C+(b^M&(I^b))+w[7]+4249261313&4294967295,C=M+(P<<22&4294967295|P>>>10),P=b+(I^C&(M^I))+w[8]+1770035416&4294967295,b=C+(P<<7&4294967295|P>>>25),P=I+(M^b&(C^M))+w[9]+2336552879&4294967295,I=b+(P<<12&4294967295|P>>>20),P=M+(C^I&(b^C))+w[10]+4294925233&4294967295,M=I+(P<<17&4294967295|P>>>15),P=C+(b^M&(I^b))+w[11]+2304563134&4294967295,C=M+(P<<22&4294967295|P>>>10),P=b+(I^C&(M^I))+w[12]+1804603682&4294967295,b=C+(P<<7&4294967295|P>>>25),P=I+(M^b&(C^M))+w[13]+4254626195&4294967295,I=b+(P<<12&4294967295|P>>>20),P=M+(C^I&(b^C))+w[14]+2792965006&4294967295,M=I+(P<<17&4294967295|P>>>15),P=C+(b^M&(I^b))+w[15]+1236535329&4294967295,C=M+(P<<22&4294967295|P>>>10),P=b+(M^I&(C^M))+w[1]+4129170786&4294967295,b=C+(P<<5&4294967295|P>>>27),P=I+(C^M&(b^C))+w[6]+3225465664&4294967295,I=b+(P<<9&4294967295|P>>>23),P=M+(b^C&(I^b))+w[11]+643717713&4294967295,M=I+(P<<14&4294967295|P>>>18),P=C+(I^b&(M^I))+w[0]+3921069994&4294967295,C=M+(P<<20&4294967295|P>>>12),P=b+(M^I&(C^M))+w[5]+3593408605&4294967295,b=C+(P<<5&4294967295|P>>>27),P=I+(C^M&(b^C))+w[10]+38016083&4294967295,I=b+(P<<9&4294967295|P>>>23),P=M+(b^C&(I^b))+w[15]+3634488961&4294967295,M=I+(P<<14&4294967295|P>>>18),P=C+(I^b&(M^I))+w[4]+3889429448&4294967295,C=M+(P<<20&4294967295|P>>>12),P=b+(M^I&(C^M))+w[9]+568446438&4294967295,b=C+(P<<5&4294967295|P>>>27),P=I+(C^M&(b^C))+w[14]+3275163606&4294967295,I=b+(P<<9&4294967295|P>>>23),P=M+(b^C&(I^b))+w[3]+4107603335&4294967295,M=I+(P<<14&4294967295|P>>>18),P=C+(I^b&(M^I))+w[8]+1163531501&4294967295,C=M+(P<<20&4294967295|P>>>12),P=b+(M^I&(C^M))+w[13]+2850285829&4294967295,b=C+(P<<5&4294967295|P>>>27),P=I+(C^M&(b^C))+w[2]+4243563512&4294967295,I=b+(P<<9&4294967295|P>>>23),P=M+(b^C&(I^b))+w[7]+1735328473&4294967295,M=I+(P<<14&4294967295|P>>>18),P=C+(I^b&(M^I))+w[12]+2368359562&4294967295,C=M+(P<<20&4294967295|P>>>12),P=b+(C^M^I)+w[5]+4294588738&4294967295,b=C+(P<<4&4294967295|P>>>28),P=I+(b^C^M)+w[8]+2272392833&4294967295,I=b+(P<<11&4294967295|P>>>21),P=M+(I^b^C)+w[11]+1839030562&4294967295,M=I+(P<<16&4294967295|P>>>16),P=C+(M^I^b)+w[14]+4259657740&4294967295,C=M+(P<<23&4294967295|P>>>9),P=b+(C^M^I)+w[1]+2763975236&4294967295,b=C+(P<<4&4294967295|P>>>28),P=I+(b^C^M)+w[4]+1272893353&4294967295,I=b+(P<<11&4294967295|P>>>21),P=M+(I^b^C)+w[7]+4139469664&4294967295,M=I+(P<<16&4294967295|P>>>16),P=C+(M^I^b)+w[10]+3200236656&4294967295,C=M+(P<<23&4294967295|P>>>9),P=b+(C^M^I)+w[13]+681279174&4294967295,b=C+(P<<4&4294967295|P>>>28),P=I+(b^C^M)+w[0]+3936430074&4294967295,I=b+(P<<11&4294967295|P>>>21),P=M+(I^b^C)+w[3]+3572445317&4294967295,M=I+(P<<16&4294967295|P>>>16),P=C+(M^I^b)+w[6]+76029189&4294967295,C=M+(P<<23&4294967295|P>>>9),P=b+(C^M^I)+w[9]+3654602809&4294967295,b=C+(P<<4&4294967295|P>>>28),P=I+(b^C^M)+w[12]+3873151461&4294967295,I=b+(P<<11&4294967295|P>>>21),P=M+(I^b^C)+w[15]+530742520&4294967295,M=I+(P<<16&4294967295|P>>>16),P=C+(M^I^b)+w[2]+3299628645&4294967295,C=M+(P<<23&4294967295|P>>>9),P=b+(M^(C|~I))+w[0]+4096336452&4294967295,b=C+(P<<6&4294967295|P>>>26),P=I+(C^(b|~M))+w[7]+1126891415&4294967295,I=b+(P<<10&4294967295|P>>>22),P=M+(b^(I|~C))+w[14]+2878612391&4294967295,M=I+(P<<15&4294967295|P>>>17),P=C+(I^(M|~b))+w[5]+4237533241&4294967295,C=M+(P<<21&4294967295|P>>>11),P=b+(M^(C|~I))+w[12]+1700485571&4294967295,b=C+(P<<6&4294967295|P>>>26),P=I+(C^(b|~M))+w[3]+2399980690&4294967295,I=b+(P<<10&4294967295|P>>>22),P=M+(b^(I|~C))+w[10]+4293915773&4294967295,M=I+(P<<15&4294967295|P>>>17),P=C+(I^(M|~b))+w[1]+2240044497&4294967295,C=M+(P<<21&4294967295|P>>>11),P=b+(M^(C|~I))+w[8]+1873313359&4294967295,b=C+(P<<6&4294967295|P>>>26),P=I+(C^(b|~M))+w[15]+4264355552&4294967295,I=b+(P<<10&4294967295|P>>>22),P=M+(b^(I|~C))+w[6]+2734768916&4294967295,M=I+(P<<15&4294967295|P>>>17),P=C+(I^(M|~b))+w[13]+1309151649&4294967295,C=M+(P<<21&4294967295|P>>>11),P=b+(M^(C|~I))+w[4]+4149444226&4294967295,b=C+(P<<6&4294967295|P>>>26),P=I+(C^(b|~M))+w[11]+3174756917&4294967295,I=b+(P<<10&4294967295|P>>>22),P=M+(b^(I|~C))+w[2]+718787259&4294967295,M=I+(P<<15&4294967295|P>>>17),P=C+(I^(M|~b))+w[9]+3951481745&4294967295,R.g[0]=R.g[0]+b&4294967295,R.g[1]=R.g[1]+(M+(P<<21&4294967295|P>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+I&4294967295}r.prototype.v=function(R,b){b===void 0&&(b=R.length);const C=b-this.blockSize,w=this.C;let M=this.h,I=0;for(;I<b;){if(M==0)for(;I<=C;)s(this,R,I),I+=this.blockSize;if(typeof R=="string"){for(;I<b;)if(w[M++]=R.charCodeAt(I++),M==this.blockSize){s(this,w),M=0;break}}else for(;I<b;)if(w[M++]=R[I++],M==this.blockSize){s(this,w),M=0;break}}this.h=M,this.o+=b},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var b=1;b<R.length-8;++b)R[b]=0;b=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=b&255,b/=256;for(this.v(R),R=Array(16),b=0,C=0;C<4;++C)for(let w=0;w<32;w+=8)R[b++]=this.g[C]>>>w&255;return R};function a(R,b){var C=f;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=b(R)}function u(R,b){this.h=b;const C=[];let w=!0;for(let M=R.length-1;M>=0;M--){const I=R[M]|0;w&&I==b||(C[M]=I,w=!1)}this.g=C}var f={};function h(R){return-128<=R&&R<128?a(R,function(b){return new u([b|0],b<0?-1:0)}):new u([R|0],R<0?-1:0)}function d(R){if(isNaN(R)||!isFinite(R))return _;if(R<0)return E(d(-R));const b=[];let C=1;for(let w=0;R>=C;w++)b[w]=R/C|0,C*=4294967296;return new u(b,0)}function g(R,b){if(R.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(R.charAt(0)=="-")return E(g(R.substring(1),b));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=d(Math.pow(b,8));let w=_;for(let I=0;I<R.length;I+=8){var M=Math.min(8,R.length-I);const P=parseInt(R.substring(I,I+M),b);M<8?(M=d(Math.pow(b,M)),w=w.j(M).add(d(P))):(w=w.j(C),w=w.add(d(P)))}return w}var _=h(0),x=h(1),p=h(16777216);o=u.prototype,o.m=function(){if(S(this))return-E(this).m();let R=0,b=1;for(let C=0;C<this.g.length;C++){const w=this.i(C);R+=(w>=0?w:4294967296+w)*b,b*=4294967296}return R},o.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(T(this))return"0";if(S(this))return"-"+E(this).toString(R);const b=d(Math.pow(R,6));var C=this;let w="";for(;;){const M=U(C,b).g;C=V(C,M.j(b));let I=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=M,T(C))return I+w;for(;I.length<6;)I="0"+I;w=I+w}},o.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function T(R){if(R.h!=0)return!1;for(let b=0;b<R.g.length;b++)if(R.g[b]!=0)return!1;return!0}function S(R){return R.h==-1}o.l=function(R){return R=V(this,R),S(R)?-1:T(R)?0:1};function E(R){const b=R.g.length,C=[];for(let w=0;w<b;w++)C[w]=~R.g[w];return new u(C,~R.h).add(x)}o.abs=function(){return S(this)?E(this):this},o.add=function(R){const b=Math.max(this.g.length,R.g.length),C=[];let w=0;for(let M=0;M<=b;M++){let I=w+(this.i(M)&65535)+(R.i(M)&65535),P=(I>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);w=P>>>16,I&=65535,P&=65535,C[M]=P<<16|I}return new u(C,C[C.length-1]&-2147483648?-1:0)};function V(R,b){return R.add(E(b))}o.j=function(R){if(T(this)||T(R))return _;if(S(this))return S(R)?E(this).j(E(R)):E(E(this).j(R));if(S(R))return E(this.j(E(R)));if(this.l(p)<0&&R.l(p)<0)return d(this.m()*R.m());const b=this.g.length+R.g.length,C=[];for(var w=0;w<2*b;w++)C[w]=0;for(w=0;w<this.g.length;w++)for(let M=0;M<R.g.length;M++){const I=this.i(w)>>>16,P=this.i(w)&65535,ee=R.i(M)>>>16,te=R.i(M)&65535;C[2*w+2*M]+=P*te,L(C,2*w+2*M),C[2*w+2*M+1]+=I*te,L(C,2*w+2*M+1),C[2*w+2*M+1]+=P*ee,L(C,2*w+2*M+1),C[2*w+2*M+2]+=I*ee,L(C,2*w+2*M+2)}for(R=0;R<b;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=b;R<2*b;R++)C[R]=0;return new u(C,0)};function L(R,b){for(;(R[b]&65535)!=R[b];)R[b+1]+=R[b]>>>16,R[b]&=65535,b++}function z(R,b){this.g=R,this.h=b}function U(R,b){if(T(b))throw Error("division by zero");if(T(R))return new z(_,_);if(S(R))return b=U(E(R),b),new z(E(b.g),E(b.h));if(S(b))return b=U(R,E(b)),new z(E(b.g),b.h);if(R.g.length>30){if(S(R)||S(b))throw Error("slowDivide_ only works with positive integers.");for(var C=x,w=b;w.l(R)<=0;)C=N(C),w=N(w);var M=j(C,1),I=j(w,1);for(w=j(w,2),C=j(C,2);!T(w);){var P=I.add(w);P.l(R)<=0&&(M=M.add(C),I=P),w=j(w,1),C=j(C,1)}return b=V(R,M.j(b)),new z(M,b)}for(M=_;R.l(b)>=0;){for(C=Math.max(1,Math.floor(R.m()/b.m())),w=Math.ceil(Math.log(C)/Math.LN2),w=w<=48?1:Math.pow(2,w-48),I=d(C),P=I.j(b);S(P)||P.l(R)>0;)C-=w,I=d(C),P=I.j(b);T(I)&&(I=x),M=M.add(I),R=V(R,P)}return new z(M,R)}o.B=function(R){return U(this,R).h},o.and=function(R){const b=Math.max(this.g.length,R.g.length),C=[];for(let w=0;w<b;w++)C[w]=this.i(w)&R.i(w);return new u(C,this.h&R.h)},o.or=function(R){const b=Math.max(this.g.length,R.g.length),C=[];for(let w=0;w<b;w++)C[w]=this.i(w)|R.i(w);return new u(C,this.h|R.h)},o.xor=function(R){const b=Math.max(this.g.length,R.g.length),C=[];for(let w=0;w<b;w++)C[w]=this.i(w)^R.i(w);return new u(C,this.h^R.h)};function N(R){const b=R.g.length+1,C=[];for(let w=0;w<b;w++)C[w]=R.i(w)<<1|R.i(w-1)>>>31;return new u(C,R.h)}function j(R,b){const C=b>>5;b%=32;const w=R.g.length-C,M=[];for(let I=0;I<w;I++)M[I]=b>0?R.i(I+C)>>>b|R.i(I+C+1)<<32-b:R.i(I+C);return new u(M,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,aS=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,Fs=u}).apply(typeof q_<"u"?q_:typeof self<"u"?self:typeof window<"u"?window:{});var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lS,gu,oS,Vf,mg,uS,cS,fS;(function(){var o,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Af=="object"&&Af];for(var A=0;A<m.length;++A){var O=m[A];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function s(m,A){if(A)e:{var O=r;m=m.split(".");for(var F=0;F<m.length-1;F++){var ne=m[F];if(!(ne in O))break e;O=O[ne]}m=m[m.length-1],F=O[m],A=A(F),A!=F&&A!=null&&e(O,m,{configurable:!0,writable:!0,value:A})}}s("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(m){return m||function(A){var O=[],F;for(F in A)Object.prototype.hasOwnProperty.call(A,F)&&O.push([F,A[F]]);return O}});var a=a||{},u=this||self;function f(m){var A=typeof m;return A=="object"&&m!=null||A=="function"}function h(m,A,O){return m.call.apply(m.bind,arguments)}function d(m,A,O){return d=h,d.apply(null,arguments)}function g(m,A){var O=Array.prototype.slice.call(arguments,1);return function(){var F=O.slice();return F.push.apply(F,arguments),m.apply(this,F)}}function _(m,A){function O(){}O.prototype=A.prototype,m.Z=A.prototype,m.prototype=new O,m.prototype.constructor=m,m.Ob=function(F,ne,le){for(var _e=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)_e[Fe-2]=arguments[Fe];return A.prototype[ne].apply(F,_e)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function p(m){const A=m.length;if(A>0){const O=Array(A);for(let F=0;F<A;F++)O[F]=m[F];return O}return[]}function T(m,A){for(let F=1;F<arguments.length;F++){const ne=arguments[F];var O=typeof ne;if(O=O!="object"?O:ne?Array.isArray(ne)?"array":O:"null",O=="array"||O=="object"&&typeof ne.length=="number"){O=m.length||0;const le=ne.length||0;m.length=O+le;for(let _e=0;_e<le;_e++)m[O+_e]=ne[_e]}else m.push(ne)}}class S{constructor(A,O){this.i=A,this.j=O,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function E(m){u.setTimeout(()=>{throw m},0)}function V(){var m=R;let A=null;return m.g&&(A=m.g,m.g=m.g.next,m.g||(m.h=null),A.next=null),A}class L{constructor(){this.h=this.g=null}add(A,O){const F=z.get();F.set(A,O),this.h?this.h.next=F:this.g=F,this.h=F}}var z=new S(()=>new U,m=>m.reset());class U{constructor(){this.next=this.g=this.h=null}set(A,O){this.h=A,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let N,j=!1,R=new L,b=()=>{const m=Promise.resolve(void 0);N=()=>{m.then(C)}};function C(){for(var m;m=V();){try{m.h.call(m.g)}catch(O){E(O)}var A=z;A.j(m),A.h<100&&(A.h++,m.next=A.g,A.g=m)}j=!1}function w(){this.u=this.u,this.C=this.C}w.prototype.u=!1,w.prototype.dispose=function(){this.u||(this.u=!0,this.N())},w.prototype[Symbol.dispose]=function(){this.dispose()},w.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(m,A){this.type=m,this.g=this.target=A,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var I=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,A=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const O=()=>{};u.addEventListener("test",O,A),u.removeEventListener("test",O,A)}catch{}return m})();function P(m){return/^[\s\xa0]*$/.test(m)}function ee(m,A){M.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,A)}_(ee,M),ee.prototype.init=function(m,A){const O=this.type=m.type,F=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=A,A=m.relatedTarget,A||(O=="mouseover"?A=m.fromElement:O=="mouseout"&&(A=m.toElement)),this.relatedTarget=A,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var te="closure_listenable_"+(Math.random()*1e6|0),q=0;function W(m,A,O,F,ne){this.listener=m,this.proxy=null,this.src=A,this.type=O,this.capture=!!F,this.ha=ne,this.key=++q,this.da=this.fa=!1}function ce(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ve(m,A,O){for(const F in m)A.call(O,m[F],F,m)}function we(m,A){for(const O in m)A.call(void 0,m[O],O,m)}function Y(m){const A={};for(const O in m)A[O]=m[O];return A}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(m,A){let O,F;for(let ne=1;ne<arguments.length;ne++){F=arguments[ne];for(O in F)m[O]=F[O];for(let le=0;le<H.length;le++)O=H[le],Object.prototype.hasOwnProperty.call(F,O)&&(m[O]=F[O])}}function J(m){this.src=m,this.g={},this.h=0}J.prototype.add=function(m,A,O,F,ne){const le=m.toString();m=this.g[le],m||(m=this.g[le]=[],this.h++);const _e=ge(m,A,F,ne);return _e>-1?(A=m[_e],O||(A.fa=!1)):(A=new W(A,this.src,le,!!F,ne),A.fa=O,m.push(A)),A};function he(m,A){const O=A.type;if(O in m.g){var F=m.g[O],ne=Array.prototype.indexOf.call(F,A,void 0),le;(le=ne>=0)&&Array.prototype.splice.call(F,ne,1),le&&(ce(A),m.g[O].length==0&&(delete m.g[O],m.h--))}}function ge(m,A,O,F){for(let ne=0;ne<m.length;++ne){const le=m[ne];if(!le.da&&le.listener==A&&le.capture==!!O&&le.ha==F)return ne}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),Me={};function Se(m,A,O,F,ne){if(Array.isArray(A)){for(let le=0;le<A.length;le++)Se(m,A[le],O,F,ne);return null}return O=pe(O),m&&m[te]?m.J(A,O,f(F)?!!F.capture:!1,ne):Oe(m,A,O,!1,F,ne)}function Oe(m,A,O,F,ne,le){if(!A)throw Error("Invalid event type");const _e=f(ne)?!!ne.capture:!!ne;let Fe=di(m);if(Fe||(m[xe]=Fe=new J(m)),O=Fe.add(A,O,F,_e,le),O.proxy)return O;if(F=Ue(),O.proxy=F,F.src=m,F.listener=O,m.addEventListener)I||(ne=_e),ne===void 0&&(ne=!1),m.addEventListener(A.toString(),F,ne);else if(m.attachEvent)m.attachEvent(yn(A.toString()),F);else if(m.addListener&&m.removeListener)m.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return O}function Ue(){function m(O){return A.call(m.src,m.listener,O)}const A=ki;return m}function Ge(m,A,O,F,ne){if(Array.isArray(A))for(var le=0;le<A.length;le++)Ge(m,A[le],O,F,ne);else F=f(F)?!!F.capture:!!F,O=pe(O),m&&m[te]?(m=m.i,le=String(A).toString(),le in m.g&&(A=m.g[le],O=ge(A,O,F,ne),O>-1&&(ce(A[O]),Array.prototype.splice.call(A,O,1),A.length==0&&(delete m.g[le],m.h--)))):m&&(m=di(m))&&(A=m.g[A.toString()],m=-1,A&&(m=ge(A,O,F,ne)),(O=m>-1?A[m]:null)&&Pn(O))}function Pn(m){if(typeof m!="number"&&m&&!m.da){var A=m.src;if(A&&A[te])he(A.i,m);else{var O=m.type,F=m.proxy;A.removeEventListener?A.removeEventListener(O,F,m.capture):A.detachEvent?A.detachEvent(yn(O),F):A.addListener&&A.removeListener&&A.removeListener(F),(O=di(A))?(he(O,m),O.h==0&&(O.src=null,A[xe]=null)):ce(m)}}}function yn(m){return m in Me?Me[m]:Me[m]="on"+m}function ki(m,A){if(m.da)m=!0;else{A=new ee(A,this);const O=m.listener,F=m.ha||m.src;m.fa&&Pn(m),m=O.call(F,A)}return m}function di(m){return m=m[xe],m instanceof J?m:null}var G="__closure_events_fn_"+(Math.random()*1e9>>>0);function pe(m){return typeof m=="function"?m:(m[G]||(m[G]=function(A){return m.handleEvent(A)}),m[G])}function K(){w.call(this),this.i=new J(this),this.M=this,this.G=null}_(K,w),K.prototype[te]=!0,K.prototype.removeEventListener=function(m,A,O,F){Ge(this,m,A,O,F)};function be(m,A){var O,F=m.G;if(F)for(O=[];F;F=F.G)O.push(F);if(m=m.M,F=A.type||A,typeof A=="string")A=new M(A,m);else if(A instanceof M)A.target=A.target||m;else{var ne=A;A=new M(F,m),$(A,ne)}ne=!0;let le,_e;if(O)for(_e=O.length-1;_e>=0;_e--)le=A.g=O[_e],ne=Ce(le,F,!0,A)&&ne;if(le=A.g=m,ne=Ce(le,F,!0,A)&&ne,ne=Ce(le,F,!1,A)&&ne,O)for(_e=0;_e<O.length;_e++)le=A.g=O[_e],ne=Ce(le,F,!1,A)&&ne}K.prototype.N=function(){if(K.Z.N.call(this),this.i){var m=this.i;for(const A in m.g){const O=m.g[A];for(let F=0;F<O.length;F++)ce(O[F]);delete m.g[A],m.h--}}this.G=null},K.prototype.J=function(m,A,O,F){return this.i.add(String(m),A,!1,O,F)},K.prototype.K=function(m,A,O,F){return this.i.add(String(m),A,!0,O,F)};function Ce(m,A,O,F){if(A=m.i.g[String(A)],!A)return!0;A=A.concat();let ne=!0;for(let le=0;le<A.length;++le){const _e=A[le];if(_e&&!_e.da&&_e.capture==O){const Fe=_e.listener,Ut=_e.ha||_e.src;_e.fa&&he(m.i,_e),ne=Fe.call(Ut,F)!==!1&&ne}}return ne&&!F.defaultPrevented}function je(m,A){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:u.setTimeout(m,A||0)}function tt(m){m.g=je(()=>{m.g=null,m.i&&(m.i=!1,tt(m))},m.l);const A=m.h;m.h=null,m.m.apply(null,A)}class Te extends w{constructor(A,O){super(),this.m=A,this.l=O,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:tt(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rt(m){w.call(this),this.h=m,this.g={}}_(rt,w);var ft=[];function Et(m){ve(m.g,function(A,O){this.g.hasOwnProperty(O)&&Pn(A)},m),m.g={}}rt.prototype.N=function(){rt.Z.N.call(this),Et(this)},rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _t=u.JSON.stringify,Ct=u.JSON.parse,cn=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function Rn(){}function Mr(){}var Cn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){M.call(this,"d")}_(Qt,M);function mi(){M.call(this,"c")}_(mi,M);var Bt={},Zu=null;function Ya(){return Zu=Zu||new K}Bt.Ia="serverreachability";function Ju(m){M.call(this,Bt.Ia,m)}_(Ju,M);function $i(m){const A=Ya();be(A,new Ju(A))}Bt.STAT_EVENT="statevent";function Js(m,A){M.call(this,Bt.STAT_EVENT,m),this.stat=A}_(Js,M);function Xt(m){const A=Ya();be(A,new Js(A,m))}Bt.Ja="timingevent";function Wi(m,A){M.call(this,Bt.Ja,m),this.size=A}_(Wi,M);function Zi(m,A){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},A)}function Li(){this.g=!0}Li.prototype.ua=function(){this.g=!1};function wh(m,A,O,F,ne,le){m.info(function(){if(m.g)if(le){var _e="",Fe=le.split("&");for(let lt=0;lt<Fe.length;lt++){var Ut=Fe[lt].split("=");if(Ut.length>1){const Mt=Ut[0];Ut=Ut[1];const vi=Mt.split("_");_e=vi.length>=2&&vi[1]=="type"?_e+(Mt+"="+Ut+"&"):_e+(Mt+"=redacted&")}}}else _e=null;else _e=le;return"XMLHTTP REQ ("+F+") [attempt "+ne+"]: "+A+`
`+O+`
`+_e})}function ec(m,A,O,F,ne,le,_e){m.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+ne+"]: "+A+`
`+O+`
`+le+" "+_e})}function Ji(m,A,O,F){m.info(function(){return"XMLHTTP TEXT ("+A+"): "+Rh(m,O)+(F?" "+F:"")})}function ea(m,A){m.info(function(){return"TIMEOUT: "+A})}Li.prototype.info=function(){};function Rh(m,A){if(!m.g)return A;if(!A)return null;try{const le=JSON.parse(A);if(le){for(m=0;m<le.length;m++)if(Array.isArray(le[m])){var O=le[m];if(!(O.length<2)){var F=O[1];if(Array.isArray(F)&&!(F.length<1)){var ne=F[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(let _e=1;_e<F.length;_e++)F[_e]=""}}}}return _t(le)}catch{return A}}var ta={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},uo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},co;function na(){}_(na,Rn),na.prototype.g=function(){return new XMLHttpRequest},co=new na;function Dr(m){return encodeURIComponent(String(m))}function tc(m){var A=1;m=m.split(":");const O=[];for(;A>0&&m.length;)O.push(m.shift()),A--;return m.length&&O.push(m.join(":")),O}function ji(m,A,O,F){this.j=m,this.i=A,this.l=O,this.S=F||1,this.V=new rt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zi}function zi(){this.i=null,this.g="",this.h=!1}var Kt={},fn={};function er(m,A,O){m.M=1,m.A=ia(Wt(A)),m.u=O,m.R=!0,Qa(m,null)}function Qa(m,A){m.F=Date.now(),tr(m),m.B=Wt(m.A);var O=m.B,F=m.S;Array.isArray(F)||(F=[String(F)]),Wa(O.i,"t",F),m.C=0,O=m.j.L,m.h=new zi,m.g=pc(m.j,O?A:null,!m.u),m.P>0&&(m.O=new Te(d(m.Y,m,m.g),m.P)),A=m.V,O=m.g,F=m.ba;var ne="readystatechange";Array.isArray(ne)||(ne&&(ft[0]=ne.toString()),ne=ft);for(let le=0;le<ne.length;le++){const _e=Se(O,ne[le],F||A.handleEvent,!1,A.h||A);if(!_e)break;A.g[_e.key]=_e}A=m.J?Y(m.J):{},m.u?(m.v||(m.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,A)):(m.v="GET",m.g.ea(m.B,m.v,null,A)),$i(),wh(m.i,m.v,m.B,m.l,m.S,m.u)}ji.prototype.ba=function(m){m=m.target;const A=this.O;A&&Fi(m)==3?A.j():this.Y(m)},ji.prototype.Y=function(m){try{if(m==this.g)e:{const Fe=Fi(this.g),Ut=this.g.ya(),lt=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||vn(this.g)))){this.K||Fe!=4||Ut==7||(Ut==8||lt<=0?$i(3):$i(2)),nr(this);var A=this.g.ca();this.X=A;var O=Ch(this);if(this.o=A==200,ec(this.i,this.v,this.B,this.l,this.S,Fe,A),this.o){if(this.U&&!this.L){t:{if(this.g){var F,ne=this.g;if((F=ne.g?ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(F)){var le=F;break t}}le=null}if(m=le)Ji(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ir(this,m);else{this.o=!1,this.m=3,Xt(12),Zn(this),gi(this);break e}}if(this.R){m=!0;let Mt;for(;!this.K&&this.C<O.length;)if(Mt=ic(this,O),Mt==fn){Fe==4&&(this.m=4,Xt(14),m=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==Kt){this.m=4,Xt(15),Ji(this.i,this.l,O,"[Invalid Chunk]"),m=!1;break}else Ji(this.i,this.l,Mt,null),ir(this,Mt);if(nc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||O.length!=0||this.h.h||(this.m=1,Xt(16),m=!1),this.o=this.o&&m,!m)Ji(this.i,this.l,O,"[Invalid Chunked Response]"),Zn(this),gi(this);else if(O.length>0&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.aa&&!_e.P&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),wo(_e),_e.P=!0,Xt(11))}}else Ji(this.i,this.l,O,null),ir(this,O);Fe==4&&Zn(this),this.o&&!this.K&&(Fe==4?hc(this.j,this):(this.o=!1,tr(this)))}else Ir(this.g),A==400&&O.indexOf("Unknown SID")>0?(this.m=3,Xt(12)):(this.m=0,Xt(13)),Zn(this),gi(this)}}}catch{}finally{}};function Ch(m){if(!nc(m))return m.g.la();const A=vn(m.g);if(A==="")return"";let O="";const F=A.length,ne=Fi(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Zn(m),gi(m),"";m.h.i=new u.TextDecoder}for(let le=0;le<F;le++)m.h.h=!0,O+=m.h.i.decode(A[le],{stream:!(ne&&le==F-1)});return A.length=0,m.h.g+=O,m.C=0,m.h.g}function nc(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function ic(m,A){var O=m.C,F=A.indexOf(`
`,O);return F==-1?fn:(O=Number(A.substring(O,F)),isNaN(O)?Kt:(F+=1,F+O>A.length?fn:(A=A.slice(F,F+O),m.C=F+O,A)))}ji.prototype.cancel=function(){this.K=!0,Zn(this)};function tr(m){m.T=Date.now()+m.H,Xa(m,m.H)}function Xa(m,A){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Zi(d(m.aa,m),A)}function nr(m){m.D&&(u.clearTimeout(m.D),m.D=null)}ji.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(ea(this.i,this.B),this.M!=2&&($i(),Xt(17)),Zn(this),this.m=2,gi(this)):Xa(this,this.T-m)};function gi(m){m.j.I==0||m.K||hc(m.j,m)}function Zn(m){nr(m);var A=m.O;A&&typeof A.dispose=="function"&&A.dispose(),m.O=null,Et(m.V),m.g&&(A=m.g,m.g=null,A.abort(),A.dispose())}function ir(m,A){try{var O=m.j;if(O.I!=0&&(O.g==m||sr(O.h,m))){if(!m.L&&sr(O.h,m)&&O.I==3){try{var F=O.Ba.g.parse(A)}catch{F=null}if(Array.isArray(F)&&F.length==3){var ne=F;if(ne[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<m.F)nl(O),cs(O);else break e;ca(O),Xt(18)}}else O.xa=ne[1],0<O.xa-O.K&&ne[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=Zi(d(O.Va,O),6e3));rr(O.h)<=1&&O.ta&&(O.ta=void 0)}else fr(O,11)}else if((m.L||O.g==m)&&nl(O),!P(A))for(ne=O.Ba.g.parse(A),A=0;A<ne.length;A++){let lt=ne[A];const Mt=lt[0];if(!(Mt<=O.K))if(O.K=Mt,lt=lt[1],O.I==2)if(lt[0]=="c"){O.M=lt[1],O.ba=lt[2];const vi=lt[3];vi!=null&&(O.ka=vi,O.j.info("VER="+O.ka));const hr=lt[4];hr!=null&&(O.za=hr,O.j.info("SVER="+O.za));const Hi=lt[5];Hi!=null&&typeof Hi=="number"&&Hi>0&&(F=1.5*Hi,O.O=F,O.j.info("backChannelRequestTimeoutMs_="+F)),F=O;const qi=m.g;if(qi){const fa=qi.g?qi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fa){var le=F.h;le.g||fa.indexOf("spdy")==-1&&fa.indexOf("quic")==-1&&fa.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(mo(le,le.h),le.h=null))}if(F.G){const il=qi.g?qi.g.getResponseHeader("X-HTTP-Session-Id"):null;il&&(F.wa=il,ht(F.J,F.G,il))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-m.F,O.j.info("Handshake RTT: "+O.T+"ms")),F=O;var _e=m;if(F.na=gc(F,F.L?F.ba:null,F.W),_e.L){go(F.h,_e);var Fe=_e,Ut=F.O;Ut&&(Fe.H=Ut),Fe.D&&(nr(Fe),tr(Fe)),F.g=_e}else cc(F);O.i.length>0&&cr(O)}else lt[0]!="stop"&&lt[0]!="close"||fr(O,7);else O.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?fr(O,7):bo(O):lt[0]!="noop"&&O.l&&O.l.qa(lt),O.A=0)}}$i(4)}catch{}}var $t=class{constructor(m,A){this.g=m,this.map=A}};function fo(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ho(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function rr(m){return m.h?1:m.g?m.g.size:0}function sr(m,A){return m.h?m.h==A:m.g?m.g.has(A):!1}function mo(m,A){m.g?m.g.add(A):m.h=A}function go(m,A){m.h&&m.h==A?m.h=null:m.g&&m.g.has(A)&&m.g.delete(A)}fo.prototype.cancel=function(){if(this.i=po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function po(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let A=m.i;for(const O of m.g.values())A=A.concat(O.G);return A}return p(m.i)}var rc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ka(m,A){if(m){m=m.split("&");for(let O=0;O<m.length;O++){const F=m[O].indexOf("=");let ne,le=null;F>=0?(ne=m[O].substring(0,F),le=m[O].substring(F+1)):ne=m[O],A(ne,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function Jn(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;m instanceof Jn?(this.l=m.l,hn(this,m.j),this.o=m.o,this.g=m.g,is(this,m.u),this.h=m.h,yo(this,oc(m.i)),this.m=m.m):m&&(A=String(m).match(rc))?(this.l=!1,hn(this,A[1]||"",!0),this.o=ar(A[2]||""),this.g=ar(A[3]||"",!0),is(this,A[4]),this.h=ar(A[5]||"",!0),yo(this,A[6]||"",!0),this.m=ar(A[7]||"")):(this.l=!1,this.i=new ss(null,this.l))}Jn.prototype.toString=function(){const m=[];var A=this.j;A&&m.push(ra(A,$a,!0),":");var O=this.g;return(O||A=="file")&&(m.push("//"),(A=this.o)&&m.push(ra(A,$a,!0),"@"),m.push(Dr(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&m.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&m.push("/"),m.push(ra(O,O.charAt(0)=="/"?vo:sc,!0))),(O=this.i.toString())&&m.push("?",O),(O=this.m)&&m.push("#",ra(O,ac)),m.join("")},Jn.prototype.resolve=function(m){const A=Wt(this);let O=!!m.j;O?hn(A,m.j):O=!!m.o,O?A.o=m.o:O=!!m.g,O?A.g=m.g:O=m.u!=null;var F=m.h;if(O)is(A,m.u);else if(O=!!m.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var ne=A.h.lastIndexOf("/");ne!=-1&&(F=A.h.slice(0,ne+1)+F)}if(ne=F,ne==".."||ne==".")F="";else if(ne.indexOf("./")!=-1||ne.indexOf("/.")!=-1){F=ne.lastIndexOf("/",0)==0,ne=ne.split("/");const le=[];for(let _e=0;_e<ne.length;){const Fe=ne[_e++];Fe=="."?F&&_e==ne.length&&le.push(""):Fe==".."?((le.length>1||le.length==1&&le[0]!="")&&le.pop(),F&&_e==ne.length&&le.push("")):(le.push(Fe),F=!0)}F=le.join("/")}else F=ne}return O?A.h=F:O=m.i.toString()!=="",O?yo(A,oc(m.i)):O=!!m.m,O&&(A.m=m.m),A};function Wt(m){return new Jn(m)}function hn(m,A,O){m.j=O?ar(A,!0):A,m.j&&(m.j=m.j.replace(/:$/,""))}function is(m,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);m.u=A}else m.u=null}function yo(m,A,O){A instanceof ss?(m.i=A,Za(m.i,m.l)):(O||(A=ra(A,rs)),m.i=new ss(A,m.l))}function ht(m,A,O){m.i.set(A,O)}function ia(m){return ht(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function ar(m,A){return m?A?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ra(m,A,O){return typeof m=="string"?(m=encodeURI(m).replace(A,zn),O&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function zn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var $a=/[#\/\?@]/g,sc=/[#\?:]/g,vo=/[#\?]/g,rs=/[#\?@]/g,ac=/#/g;function ss(m,A){this.h=this.g=null,this.i=m||null,this.j=!!A}function Bn(m){m.g||(m.g=new Map,m.h=0,m.i&&Ka(m.i,function(A,O){m.add(decodeURIComponent(A.replace(/\+/g," ")),O)}))}o=ss.prototype,o.add=function(m,A){Bn(this),this.i=null,m=as(this,m);let O=this.g.get(m);return O||this.g.set(m,O=[]),O.push(A),this.h+=1,this};function lc(m,A){Bn(m),A=as(m,A),m.g.has(A)&&(m.i=null,m.h-=m.g.get(A).length,m.g.delete(A))}function _o(m,A){return Bn(m),A=as(m,A),m.g.has(A)}o.forEach=function(m,A){Bn(this),this.g.forEach(function(O,F){O.forEach(function(ne){m.call(A,ne,F,this)},this)},this)};function xo(m,A){Bn(m);let O=[];if(typeof A=="string")_o(m,A)&&(O=O.concat(m.g.get(as(m,A))));else for(m=Array.from(m.g.values()),A=0;A<m.length;A++)O=O.concat(m[A]);return O}o.set=function(m,A){return Bn(this),this.i=null,m=as(this,m),_o(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[A]),this.h+=1,this},o.get=function(m,A){return m?(m=xo(this,m),m.length>0?String(m[0]):A):A};function Wa(m,A,O){lc(m,A),O.length>0&&(m.i=null,m.g.set(as(m,A),p(O)),m.h+=O.length)}o.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],A=Array.from(this.g.keys());for(let F=0;F<A.length;F++){var O=A[F];const ne=Dr(O);O=xo(this,O);for(let le=0;le<O.length;le++){let _e=ne;O[le]!==""&&(_e+="="+Dr(O[le])),m.push(_e)}}return this.i=m.join("&")};function oc(m){const A=new ss;return A.i=m.i,m.g&&(A.g=new Map(m.g),A.h=m.h),A}function as(m,A){return A=String(A),m.j&&(A=A.toLowerCase()),A}function Za(m,A){A&&!m.j&&(Bn(m),m.i=null,m.g.forEach(function(O,F){const ne=F.toLowerCase();F!=ne&&(lc(this,F),Wa(this,ne,O))},m)),m.j=A}function Bi(m,A){const O=new Li;if(u.Image){const F=new Image;F.onload=g(pi,O,"TestLoadImage: loaded",!0,A,F),F.onerror=g(pi,O,"TestLoadImage: error",!1,A,F),F.onabort=g(pi,O,"TestLoadImage: abort",!1,A,F),F.ontimeout=g(pi,O,"TestLoadImage: timeout",!1,A,F),u.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=m}else A(!1)}function So(m,A){const O=new Li,F=new AbortController,ne=setTimeout(()=>{F.abort(),pi(O,"TestPingServer: timeout",!1,A)},1e4);fetch(m,{signal:F.signal}).then(le=>{clearTimeout(ne),le.ok?pi(O,"TestPingServer: ok",!0,A):pi(O,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(ne),pi(O,"TestPingServer: error",!1,A)})}function pi(m,A,O,F,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),F(O)}catch{}}function ls(){this.g=new cn}function lr(m){this.i=m.Sb||null,this.h=m.ab||!1}_(lr,Rn),lr.prototype.g=function(){return new sa(this.i,this.h)};function sa(m,A){K.call(this),this.H=m,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(sa,K),o=sa.prototype,o.open=function(m,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=A,this.readyState=1,Ui(this)},o.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(A.body=m),(this.H||u).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},o.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,os(this)),this.readyState=0},o.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ui(this)),this.g&&(this.readyState=3,Ui(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ja(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ja(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}o.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var A=m.value?m.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!m.done}))&&(this.response=this.responseText+=A)}m.done?os(this):Ui(this),this.readyState==3&&Ja(this)}},o.Oa=function(m){this.g&&(this.response=this.responseText=m,os(this))},o.Na=function(m){this.g&&(this.response=m,os(this))},o.ga=function(){this.g&&os(this)};function os(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Ui(m)}o.setRequestHeader=function(m,A){this.A.append(m,A)},o.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},o.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],A=this.h.entries();for(var O=A.next();!O.done;)O=O.value,m.push(O[0]+": "+O[1]),O=A.next();return m.join(`\r
`)};function Ui(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function yi(m){let A="";return ve(m,function(O,F){A+=F,A+=":",A+=O,A+=`\r
`}),A}function aa(m,A,O){e:{for(F in O){var F=!1;break e}F=!0}F||(O=yi(O),typeof m=="string"?O!=null&&Dr(O):ht(m,A,O))}function gt(m){K.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(gt,K);var or=/^https?$/i,To=["POST","PUT"];o=gt.prototype,o.Fa=function(m){this.H=m},o.ea=function(m,A,O,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);A=A?A.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():co.g(),this.g.onreadystatechange=x(d(this.Ca,this));try{this.B=!0,this.g.open(A,String(m),!0),this.B=!1}catch(le){la(this,le);return}if(m=O||"",O=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var ne in F)O.set(ne,F[ne]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const le of F.keys())O.set(le,F.get(le));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(O.keys()).find(le=>le.toLowerCase()=="content-type"),ne=u.FormData&&m instanceof u.FormData,!(Array.prototype.indexOf.call(To,A,void 0)>=0)||F||ne||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,_e]of O)this.g.setRequestHeader(le,_e);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(le){la(this,le)}};function la(m,A){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=A,m.o=5,Eo(m),Nr(m)}function Eo(m){m.A||(m.A=!0,be(m,"complete"),be(m,"error"))}o.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,be(this,"complete"),be(this,"abort"),Nr(this))},o.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nr(this,!0)),gt.Z.N.call(this)},o.Ca=function(){this.u||(this.B||this.v||this.j?oa(this):this.Xa())},o.Xa=function(){oa(this)};function oa(m){if(m.h&&typeof a<"u"){if(m.v&&Fi(m)==4)setTimeout(m.Ca.bind(m),0);else if(be(m,"readystatechange"),Fi(m)==4){m.h=!1;try{const le=m.ca();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var O;if(!(O=A)){var F;if(F=le===0){let _e=String(m.D).match(rc)[1]||null;!_e&&u.self&&u.self.location&&(_e=u.self.location.protocol.slice(0,-1)),F=!or.test(_e?_e.toLowerCase():"")}O=F}if(O)be(m,"complete"),be(m,"success");else{m.o=6;try{var ne=Fi(m)>2?m.g.statusText:""}catch{ne=""}m.l=ne+" ["+m.ca()+"]",Eo(m)}}finally{Nr(m)}}}}function Nr(m,A){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const O=m.g;m.g=null,A||be(m,"ready");try{O.onreadystatechange=null}catch{}}}o.isActive=function(){return!!this.g};function Fi(m){return m.g?m.g.readyState:0}o.ca=function(){try{return Fi(this)>2?this.g.status:-1}catch{return-1}},o.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},o.La=function(m){if(this.g){var A=this.g.responseText;return m&&A.indexOf(m)==0&&(A=A.substring(m.length)),Ct(A)}};function vn(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ir(m){const A={};m=(m.g&&Fi(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<m.length;F++){if(P(m[F]))continue;var O=tc(m[F]);const ne=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const le=A[ne]||[];A[ne]=le,le.push(O)}we(A,function(F){return F.join(", ")})}o.ya=function(){return this.o},o.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ur(m,A,O){return O&&O.internalChannelParams&&O.internalChannelParams[m]||A}function us(m){this.za=0,this.i=[],this.j=new Li,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ur("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ur("baseRetryDelayMs",5e3,m),this.Za=ur("retryDelaySeedMs",1e4,m),this.Ta=ur("forwardChannelMaxRetries",2,m),this.va=ur("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new fo(m&&m.concurrentRequestLimit),this.Ba=new ls,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}o=us.prototype,o.ka=8,o.I=1,o.connect=function(m,A,O,F){Xt(0),this.W=m,this.H=A||{},O&&F!==void 0&&(this.H.OSID=O,this.H.OAID=F),this.F=this.X,this.J=gc(this,null,this.W),cr(this)};function bo(m){if(el(m),m.I==3){var A=m.V++,O=Wt(m.J);if(ht(O,"SID",m.M),ht(O,"RID",A),ht(O,"TYPE","terminate"),ua(m,O),A=new ji(m,m.j,A),A.M=2,A.A=ia(Wt(O)),O=!1,u.navigator&&u.navigator.sendBeacon)try{O=u.navigator.sendBeacon(A.A.toString(),"")}catch{}!O&&u.Image&&(new Image().src=A.A,O=!0),O||(A.g=pc(A.j,null),A.g.ea(A.A)),A.F=Date.now(),tr(A)}mc(m)}function cs(m){m.g&&(wo(m),m.g.cancel(),m.g=null)}function el(m){cs(m),m.v&&(u.clearTimeout(m.v),m.v=null),nl(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&u.clearTimeout(m.m),m.m=null)}function cr(m){if(!ho(m.h)&&!m.m){m.m=!0;var A=m.Ea;N||b(),j||(N(),j=!0),R.add(A,m),m.D=0}}function tl(m,A){return rr(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=A.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Zi(d(m.Ea,m,A),dc(m,m.D)),m.D++,!0)}o.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const ne=new ji(this,this.j,m);let le=this.o;if(this.U&&(le?(le=Y(le),$(le,this.U)):le=this.U),this.u!==null||this.R||(ne.J=le,le=null),this.S)e:{for(var A=0,O=0;O<this.i.length;O++){t:{var F=this.i[O];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(A+=F,A>4096){A=O;break e}if(A===4096||O===this.i.length-1){A=O+1;break e}}A=1e3}else A=1e3;A=uc(this,ne,A),O=Wt(this.J),ht(O,"RID",m),ht(O,"CVER",22),this.G&&ht(O,"X-HTTP-Session-Id",this.G),ua(this,O),le&&(this.R?A="headers="+Dr(yi(le))+"&"+A:this.u&&aa(O,this.u,le)),mo(this.h,ne),this.Ra&&ht(O,"TYPE","init"),this.S?(ht(O,"$req",A),ht(O,"SID","null"),ne.U=!0,er(ne,O,null)):er(ne,O,A),this.I=2}}else this.I==3&&(m?Ao(this,m):this.i.length==0||ho(this.h)||Ao(this))};function Ao(m,A){var O;A?O=A.l:O=m.V++;const F=Wt(m.J);ht(F,"SID",m.M),ht(F,"RID",O),ht(F,"AID",m.K),ua(m,F),m.u&&m.o&&aa(F,m.u,m.o),O=new ji(m,m.j,O,m.D+1),m.u===null&&(O.J=m.o),A&&(m.i=A.G.concat(m.i)),A=uc(m,O,1e3),O.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),mo(m.h,O),er(O,F,A)}function ua(m,A){m.H&&ve(m.H,function(O,F){ht(A,F,O)}),m.l&&ve({},function(O,F){ht(A,F,O)})}function uc(m,A,O){O=Math.min(m.i.length,O);const F=m.l?d(m.l.Ka,m.l,m):null;e:{var ne=m.i;let Fe=-1;for(;;){const Ut=["count="+O];Fe==-1?O>0?(Fe=ne[0].g,Ut.push("ofs="+Fe)):Fe=0:Ut.push("ofs="+Fe);let lt=!0;for(let Mt=0;Mt<O;Mt++){var le=ne[Mt].g;const vi=ne[Mt].map;if(le-=Fe,le<0)Fe=Math.max(0,ne[Mt].g-100),lt=!1;else try{le="req"+le+"_"||"";try{var _e=vi instanceof Map?vi:Object.entries(vi);for(const[hr,Hi]of _e){let qi=Hi;f(Hi)&&(qi=_t(Hi)),Ut.push(le+hr+"="+encodeURIComponent(qi))}}catch(hr){throw Ut.push(le+"type="+encodeURIComponent("_badmap")),hr}}catch{F&&F(vi)}}if(lt){_e=Ut.join("&");break e}}_e=void 0}return m=m.i.splice(0,O),A.G=m,_e}function cc(m){if(!m.g&&!m.v){m.Y=1;var A=m.Da;N||b(),j||(N(),j=!0),R.add(A,m),m.A=0}}function ca(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Zi(d(m.Da,m),dc(m,m.A)),m.A++,!0)}o.Da=function(){if(this.v=null,fc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Zi(d(this.Wa,this),m)}},o.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xt(10),cs(this),fc(this))};function wo(m){m.B!=null&&(u.clearTimeout(m.B),m.B=null)}function fc(m){m.g=new ji(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var A=Wt(m.na);ht(A,"RID","rpc"),ht(A,"SID",m.M),ht(A,"AID",m.K),ht(A,"CI",m.F?"0":"1"),!m.F&&m.ia&&ht(A,"TO",m.ia),ht(A,"TYPE","xmlhttp"),ua(m,A),m.u&&m.o&&aa(A,m.u,m.o),m.O&&(m.g.H=m.O);var O=m.g;m=m.ba,O.M=1,O.A=ia(Wt(A)),O.u=null,O.R=!0,Qa(O,m)}o.Va=function(){this.C!=null&&(this.C=null,cs(this),ca(this),Xt(19))};function nl(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function hc(m,A){var O=null;if(m.g==A){nl(m),wo(m),m.g=null;var F=2}else if(sr(m.h,A))O=A.G,go(m.h,A),F=1;else return;if(m.I!=0){if(A.o)if(F==1){O=A.u?A.u.length:0,A=Date.now()-A.F;var ne=m.D;F=Ya(),be(F,new Wi(F,O)),cr(m)}else cc(m);else if(ne=A.m,ne==3||ne==0&&A.X>0||!(F==1&&tl(m,A)||F==2&&ca(m)))switch(O&&O.length>0&&(A=m.h,A.i=A.i.concat(O)),ne){case 1:fr(m,5);break;case 4:fr(m,10);break;case 3:fr(m,6);break;default:fr(m,2)}}}function dc(m,A){let O=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(O*=2),O*A}function fr(m,A){if(m.j.info("Error code "+A),A==2){var O=d(m.bb,m),F=m.Ua;const ne=!F;F=new Jn(F||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||hn(F,"https"),ia(F),ne?Bi(F.toString(),O):So(F.toString(),O)}else Xt(2);m.I=0,m.l&&m.l.pa(A),mc(m),el(m)}o.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function mc(m){if(m.I=0,m.ja=[],m.l){const A=po(m.h);(A.length!=0||m.i.length!=0)&&(T(m.ja,A),T(m.ja,m.i),m.h.i.length=0,p(m.i),m.i.length=0),m.l.oa()}}function gc(m,A,O){var F=O instanceof Jn?Wt(O):new Jn(O);if(F.g!="")A&&(F.g=A+"."+F.g),is(F,F.u);else{var ne=u.location;F=ne.protocol,A=A?A+"."+ne.hostname:ne.hostname,ne=+ne.port;const le=new Jn(null);F&&hn(le,F),A&&(le.g=A),ne&&is(le,ne),O&&(le.h=O),F=le}return O=m.G,A=m.wa,O&&A&&ht(F,O,A),ht(F,"VER",m.ka),ua(m,F),F}function pc(m,A,O){if(A&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=m.Aa&&!m.ma?new gt(new lr({ab:O})):new gt(m.ma),A.Fa(m.L),A}o.isActive=function(){return!!this.l&&this.l.isActive(this)};function yc(){}o=yc.prototype,o.ra=function(){},o.qa=function(){},o.pa=function(){},o.oa=function(){},o.isActive=function(){return!0},o.Ka=function(){};function fs(){}fs.prototype.g=function(m,A){return new kn(m,A)};function kn(m,A){K.call(this),this.g=new us(A),this.l=m,this.h=A&&A.messageUrlParams||null,m=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(m?m["X-WebChannel-Content-Type"]=A.messageContentType:m={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(m?m["X-WebChannel-Client-Profile"]=A.sa:m={"X-WebChannel-Client-Profile":A.sa}),this.g.U=m,(m=A&&A.Qb)&&!P(m)&&(this.g.u=m),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!P(A)&&(this.g.G=A,m=this.h,m!==null&&A in m&&(m=this.h,A in m&&delete m[A])),this.j=new Or(this)}_(kn,K),kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){bo(this.g)},kn.prototype.o=function(m){var A=this.g;if(typeof m=="string"){var O={};O.__data__=m,m=O}else this.v&&(O={},O.__data__=_t(m),m=O);A.i.push(new $t(A.Ya++,m)),A.I==3&&cr(A)},kn.prototype.N=function(){this.g.l=null,delete this.j,bo(this.g),delete this.g,kn.Z.N.call(this)};function vc(m){Qt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var A=m.__sm__;if(A){e:{for(const O in A){m=O;break e}m=void 0}(this.i=m)&&(m=this.i,A=A!==null&&m in A?A[m]:void 0),this.data=A}else this.data=m}_(vc,Qt);function _c(){mi.call(this),this.status=1}_(_c,mi);function Or(m){this.g=m}_(Or,yc),Or.prototype.ra=function(){be(this.g,"a")},Or.prototype.qa=function(m){be(this.g,new vc(m))},Or.prototype.pa=function(m){be(this.g,new _c)},Or.prototype.oa=function(){be(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,fS=function(){return new fs},cS=function(){return Ya()},uS=Bt,mg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ta.NO_ERROR=0,ta.TIMEOUT=8,ta.HTTP_ERROR=6,Vf=ta,uo.COMPLETE="complete",oS=uo,Mr.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",K.prototype.listen=K.prototype.J,gu=Mr,gt.prototype.listenOnce=gt.prototype.K,gt.prototype.getLastError=gt.prototype.Ha,gt.prototype.getLastErrorCode=gt.prototype.ya,gt.prototype.getStatus=gt.prototype.ca,gt.prototype.getResponseJson=gt.prototype.La,gt.prototype.getResponseText=gt.prototype.la,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Fa,lS=gt}).apply(typeof Af<"u"?Af:typeof self<"u"?self:typeof window<"u"?window:{});const G_="@firebase/firestore",Y_="4.9.2";class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");let so="12.3.0";const za=new eS("@firebase/firestore");function Pl(){return za.logLevel}function Ee(o,...e){if(za.logLevel<=it.DEBUG){const n=e.map(ep);za.debug(`Firestore (${so}): ${o}`,...n)}}function ts(o,...e){if(za.logLevel<=it.ERROR){const n=e.map(ep);za.error(`Firestore (${so}): ${o}`,...n)}}function Zl(o,...e){if(za.logLevel<=it.WARN){const n=e.map(ep);za.warn(`Firestore (${so}): ${o}`,...n)}}function ep(o){if(typeof o=="string")return o;try{return(function(n){return JSON.stringify(n)})(o)}catch{return o}}function Pe(o,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,hS(o,r,n)}function hS(o,e,n){let r=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${e} (ID: ${o.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ts(r),new Error(r)}function ct(o,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,o||hS(e,s,r)}function Be(o,e){return o}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends ro{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class dS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Nn.UNAUTHENTICATED)))}shutdown(){}}class VR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class PR{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new Hs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Hs,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const h=a;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},f=h=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((h=>f(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Hs)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string",31837,{l:r}),new dS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new Nn(e)}}class kR{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class LR{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new kR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Q_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pR(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ct(this.o===void 0,3512);const r=a=>{a.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,Ee("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Q_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Q_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zR(o){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(o);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<o;r++)n[r]=Math.floor(256*Math.random());return n}class tp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=zR(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function We(o,e){return o<e?-1:o>e?1:0}function gg(o,e){const n=Math.min(o.length,e.length);for(let r=0;r<n;r++){const s=o.charAt(r),a=e.charAt(r);if(s!==a)return Hm(s)===Hm(a)?We(s,a):Hm(s)?1:-1}return We(o.length,e.length)}const BR=55296,UR=57343;function Hm(o){const e=o.charCodeAt(0);return e>=BR&&e<=UR}function Jl(o,e,n){return o.length===e.length&&o.every(((r,s)=>n(r,e[s])))}const X_="__name__";class vr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Pe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Pe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return vr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vr?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=vr.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return We(e.length,n.length)}static compareSegments(e,n){const r=vr.isNumericId(e),s=vr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?vr.extractNumericId(e).compare(vr.extractNumericId(n)):gg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fs.fromString(e.substring(4,e.length-2))}}class Vt extends vr{construct(e,n,r){return new Vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Vt(n)}static emptyPath(){return new Vt([])}}const FR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends vr{construct(e,n,r){return new bn(e,n,r)}static isValidIdentifier(e){return FR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X_}static keyField(){return new bn([X_])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new De(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new De(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new De(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else f==="`"?(u=!u,s++):f!=="."||u?(r+=f,s++):(a(),s++)}if(a(),u)throw new De(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(n)}static emptyPath(){return new bn([])}}class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Vt.fromString(e))}static fromName(e){return new Ie(Vt.fromString(e).popFirst(5))}static empty(){return new Ie(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Vt(e.slice()))}}function HR(o,e,n){if(!n)throw new De(ye.INVALID_ARGUMENT,`Function ${o}() cannot be called with an empty ${e}.`)}function qR(o,e,n,r){if(e===!0&&r===!0)throw new De(ye.INVALID_ARGUMENT,`${o} and ${n} cannot be used together.`)}function K_(o){if(!Ie.isDocumentKey(o))throw new De(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${o} has ${o.length}.`)}function mS(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}function np(o){if(o===void 0)return"undefined";if(o===null)return"null";if(typeof o=="string")return o.length>20&&(o=`${o.substring(0,20)}...`),JSON.stringify(o);if(typeof o=="number"||typeof o=="boolean")return""+o;if(typeof o=="object"){if(o instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(o);return e?`a custom ${e} object`:"an object"}}return typeof o=="function"?"a function":Pe(12329,{type:typeof o})}function Lu(o,e){if("_delegate"in o&&(o=o._delegate),!(o instanceof e)){if(e.name===o.constructor.name)throw new De(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=np(o);throw new De(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return o}function an(o,e){const n={typeString:o};return e&&(n.value=e),n}function Qu(o,e){if(!mS(o))throw new De(ye.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in o)){n=`JSON missing required field: '${r}'`;break}const u=o[r];if(s&&typeof u!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&u!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new De(ye.INVALID_ARGUMENT,n);return!0}const $_=-62135596800,W_=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*W_);return new Rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new De(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new De(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$_)throw new De(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W_}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qu(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:an("string",Rt._jsonSchemaVersion),seconds:an("number"),nanoseconds:an("number")};class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new Rt(0,0))}static max(){return new Le(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ju=-1;function GR(o,e){const n=o.toTimestamp().seconds,r=o.toTimestamp().nanoseconds+1,s=Le.fromTimestamp(r===1e9?new Rt(n+1,0):new Rt(n,r));return new Ys(s,Ie.empty(),e)}function YR(o){return new Ys(o.readTime,o.key,ju)}class Ys{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ys(Le.min(),Ie.empty(),ju)}static max(){return new Ys(Le.max(),Ie.empty(),ju)}}function QR(o,e){let n=o.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(o.documentKey,e.documentKey),n!==0?n:We(o.largestBatchId,e.largestBatchId))}const XR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ao(o){if(o.code!==ye.FAILED_PRECONDITION||o.message!==XR)throw o;Ee("LocalStore","Unexpectedly lost primary lease")}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new me(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof me?n:me.resolve(n)}catch(n){return me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):me.reject(n)}static resolve(e){return new me(((n,r)=>{n(e)}))}static reject(e){return new me(((n,r)=>{r(e)}))}static waitFor(e){return new me(((n,r)=>{let s=0,a=0,u=!1;e.forEach((f=>{++s,f.next((()=>{++a,u&&a===s&&n()}),(h=>r(h)))})),u=!0,a===s&&n()}))}static or(e){let n=me.resolve(!1);for(const r of e)n=n.next((s=>s?me.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,a)=>{r.push(n.call(this,s,a))})),this.waitFor(r)}static mapArray(e,n){return new me(((r,s)=>{const a=e.length,u=new Array(a);let f=0;for(let h=0;h<a;h++){const d=h;n(e[d]).next((g=>{u[d]=g,++f,f===a&&r(u)}),(g=>s(g)))}}))}static doWhile(e,n){return new me(((r,s)=>{const a=()=>{e()===!0?n().next((()=>{a()}),s):r()};a()}))}}function $R(o){const e=o.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lo(o){return o.name==="IndexedDbTransactionError"}class mh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mh.ce=-1;const ip=-1;function gh(o){return o==null}function Zf(o){return o===0&&1/o==-1/0}function WR(o){return typeof o=="number"&&Number.isInteger(o)&&!Zf(o)&&o<=Number.MAX_SAFE_INTEGER&&o>=Number.MIN_SAFE_INTEGER}const gS="";function ZR(o){let e="";for(let n=0;n<o.length;n++)e.length>0&&(e=Z_(e)),e=JR(o.get(n),e);return Z_(e)}function JR(o,e){let n=e;const r=o.length;for(let s=0;s<r;s++){const a=o.charAt(s);switch(a){case"\0":n+="";break;case gS:n+="";break;default:n+=a}}return n}function Z_(o){return o+gS+""}function J_(o){let e=0;for(const n in o)Object.prototype.hasOwnProperty.call(o,n)&&e++;return e}function Fa(o,e){for(const n in o)Object.prototype.hasOwnProperty.call(o,n)&&e(n,o[n])}function pS(o){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e))return!1;return!0}class kt{constructor(e,n){this.comparator=e,this.root=n||En.EMPTY}insert(e,n){return new kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wf(this.root,e,this.comparator,!1)}getReverseIterator(){return new wf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wf(this.root,e,this.comparator,!0)}}class wf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??En.RED,this.left=s??En.EMPTY,this.right=a??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new En(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return En.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new En(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class un{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new e1(this.data.getIterator())}getIteratorFrom(e){return new e1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class e1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ki{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new Ki([])}unionWith(e){let n=new un(bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ki(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class yS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new yS("Invalid base64 string: "+a):a}})(e);return new wn(n)}static fromUint8Array(e){const n=(function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a})(e);return new wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const eC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(o){if(ct(!!o,39018),typeof o=="string"){let e=0;const n=eC.exec(o);if(ct(!!n,46558,{timestamp:o}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(o);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gt(o.seconds),nanos:Gt(o.nanos)}}function Gt(o){return typeof o=="number"?o:typeof o=="string"?Number(o):0}function Xs(o){return typeof o=="string"?wn.fromBase64String(o):wn.fromUint8Array(o)}const vS="server_timestamp",_S="__type__",xS="__previous_value__",SS="__local_write_time__";function rp(o){return(o?.mapValue?.fields||{})[_S]?.stringValue===vS}function ph(o){const e=o.mapValue.fields[xS];return rp(e)?ph(e):e}function zu(o){const e=Qs(o.mapValue.fields[SS].timestampValue);return new Rt(e.seconds,e.nanos)}class tC{constructor(e,n,r,s,a,u,f,h,d,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=g}}const Jf="(default)";class Bu{constructor(e,n){this.projectId=e,this.database=n||Jf}static empty(){return new Bu("","")}get isDefaultDatabase(){return this.database===Jf}isEqual(e){return e instanceof Bu&&e.projectId===this.projectId&&e.database===this.database}}const TS="__type__",nC="__max__",Rf={mapValue:{}},ES="__vector__",eh="value";function Ks(o){return"nullValue"in o?0:"booleanValue"in o?1:"integerValue"in o||"doubleValue"in o?2:"timestampValue"in o?3:"stringValue"in o?5:"bytesValue"in o?6:"referenceValue"in o?7:"geoPointValue"in o?8:"arrayValue"in o?9:"mapValue"in o?rp(o)?4:rC(o)?9007199254740991:iC(o)?10:11:Pe(28295,{value:o})}function Rr(o,e){if(o===e)return!0;const n=Ks(o);if(n!==Ks(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return o.booleanValue===e.booleanValue;case 4:return zu(o).isEqual(zu(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Qs(s.timestampValue),f=Qs(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(o,e);case 5:return o.stringValue===e.stringValue;case 6:return(function(s,a){return Xs(s.bytesValue).isEqual(Xs(a.bytesValue))})(o,e);case 7:return o.referenceValue===e.referenceValue;case 8:return(function(s,a){return Gt(s.geoPointValue.latitude)===Gt(a.geoPointValue.latitude)&&Gt(s.geoPointValue.longitude)===Gt(a.geoPointValue.longitude)})(o,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return Gt(s.integerValue)===Gt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=Gt(s.doubleValue),f=Gt(a.doubleValue);return u===f?Zf(u)===Zf(f):isNaN(u)&&isNaN(f)}return!1})(o,e);case 9:return Jl(o.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return(function(s,a){const u=s.mapValue.fields||{},f=a.mapValue.fields||{};if(J_(u)!==J_(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!Rr(u[h],f[h])))return!1;return!0})(o,e);default:return Pe(52216,{left:o})}}function Uu(o,e){return(o.values||[]).find((n=>Rr(n,e)))!==void 0}function eo(o,e){if(o===e)return 0;const n=Ks(o),r=Ks(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(o.booleanValue,e.booleanValue);case 2:return(function(a,u){const f=Gt(a.integerValue||a.doubleValue),h=Gt(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1})(o,e);case 3:return t1(o.timestampValue,e.timestampValue);case 4:return t1(zu(o),zu(e));case 5:return gg(o.stringValue,e.stringValue);case 6:return(function(a,u){const f=Xs(a),h=Xs(u);return f.compareTo(h)})(o.bytesValue,e.bytesValue);case 7:return(function(a,u){const f=a.split("/"),h=u.split("/");for(let d=0;d<f.length&&d<h.length;d++){const g=We(f[d],h[d]);if(g!==0)return g}return We(f.length,h.length)})(o.referenceValue,e.referenceValue);case 8:return(function(a,u){const f=We(Gt(a.latitude),Gt(u.latitude));return f!==0?f:We(Gt(a.longitude),Gt(u.longitude))})(o.geoPointValue,e.geoPointValue);case 9:return n1(o.arrayValue,e.arrayValue);case 10:return(function(a,u){const f=a.fields||{},h=u.fields||{},d=f[eh]?.arrayValue,g=h[eh]?.arrayValue,_=We(d?.values?.length||0,g?.values?.length||0);return _!==0?_:n1(d,g)})(o.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Rf.mapValue&&u===Rf.mapValue)return 0;if(a===Rf.mapValue)return 1;if(u===Rf.mapValue)return-1;const f=a.fields||{},h=Object.keys(f),d=u.fields||{},g=Object.keys(d);h.sort(),g.sort();for(let _=0;_<h.length&&_<g.length;++_){const x=gg(h[_],g[_]);if(x!==0)return x;const p=eo(f[h[_]],d[g[_]]);if(p!==0)return p}return We(h.length,g.length)})(o.mapValue,e.mapValue);default:throw Pe(23264,{he:n})}}function t1(o,e){if(typeof o=="string"&&typeof e=="string"&&o.length===e.length)return We(o,e);const n=Qs(o),r=Qs(e),s=We(n.seconds,r.seconds);return s!==0?s:We(n.nanos,r.nanos)}function n1(o,e){const n=o.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=eo(n[s],r[s]);if(a)return a}return We(n.length,r.length)}function to(o){return pg(o)}function pg(o){return"nullValue"in o?"null":"booleanValue"in o?""+o.booleanValue:"integerValue"in o?""+o.integerValue:"doubleValue"in o?""+o.doubleValue:"timestampValue"in o?(function(n){const r=Qs(n);return`time(${r.seconds},${r.nanos})`})(o.timestampValue):"stringValue"in o?o.stringValue:"bytesValue"in o?(function(n){return Xs(n).toBase64()})(o.bytesValue):"referenceValue"in o?(function(n){return Ie.fromName(n).toString()})(o.referenceValue):"geoPointValue"in o?(function(n){return`geo(${n.latitude},${n.longitude})`})(o.geoPointValue):"arrayValue"in o?(function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=pg(a);return r+"]"})(o.arrayValue):"mapValue"in o?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${pg(n.fields[u])}`;return s+"}"})(o.mapValue):Pe(61005,{value:o})}function Pf(o){switch(Ks(o)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ph(o);return e?16+Pf(e):16;case 5:return 2*o.stringValue.length;case 6:return Xs(o.bytesValue).approximateByteSize();case 7:return o.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+Pf(a)),0)})(o.arrayValue);case 10:case 11:return(function(r){let s=0;return Fa(r.fields,((a,u)=>{s+=a.length+Pf(u)})),s})(o.mapValue);default:throw Pe(13486,{value:o})}}function yg(o){return!!o&&"integerValue"in o}function sp(o){return!!o&&"arrayValue"in o}function i1(o){return!!o&&"nullValue"in o}function r1(o){return!!o&&"doubleValue"in o&&isNaN(Number(o.doubleValue))}function kf(o){return!!o&&"mapValue"in o}function iC(o){return(o?.mapValue?.fields||{})[TS]?.stringValue===ES}function Eu(o){if(o.geoPointValue)return{geoPointValue:{...o.geoPointValue}};if(o.timestampValue&&typeof o.timestampValue=="object")return{timestampValue:{...o.timestampValue}};if(o.mapValue){const e={mapValue:{fields:{}}};return Fa(o.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Eu(r))),e}if(o.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(o.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Eu(o.arrayValue.values[n]);return e}return{...o}}function rC(o){return(((o.mapValue||{}).fields||{}).__type__||{}).stringValue===nC}class Ni{constructor(e){this.value=e}static empty(){return new Ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!kf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eu(n)}setAll(e){let n=bn.emptyPath(),r={},s=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=f.popLast()}u?r[f.lastSegment()]=Eu(u):s.push(f.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());kf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];kf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Fa(n,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new Ni(Eu(this.value))}}function bS(o){const e=[];return Fa(o.fields,((n,r)=>{const s=new bn([n]);if(kf(r)){const a=bS(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)})),new Ki(e)}class In{constructor(e,n,r,s,a,u,f){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new In(e,0,Le.min(),Le.min(),Le.min(),Ni.empty(),0)}static newFoundDocument(e,n,r,s){return new In(e,1,n,Le.min(),r,s,0)}static newNoDocument(e,n){return new In(e,2,n,Le.min(),Le.min(),Ni.empty(),0)}static newUnknownDocument(e,n){return new In(e,3,n,Le.min(),Le.min(),Ni.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(e,n){this.position=e,this.inclusive=n}}function s1(o,e,n){let r=0;for(let s=0;s<o.position.length;s++){const a=e[s],u=o.position[s];if(a.field.isKeyField()?r=Ie.comparator(Ie.fromName(u.referenceValue),n.key):r=eo(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function a1(o,e){if(o===null)return e===null;if(e===null||o.inclusive!==e.inclusive||o.position.length!==e.position.length)return!1;for(let n=0;n<o.position.length;n++)if(!Rr(o.position[n],e.position[n]))return!1;return!0}class nh{constructor(e,n="asc"){this.field=e,this.dir=n}}function sC(o,e){return o.dir===e.dir&&o.field.isEqual(e.field)}class AS{}class on extends AS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lC(e,n,r):n==="array-contains"?new cC(e,r):n==="in"?new fC(e,r):n==="not-in"?new hC(e,r):n==="array-contains-any"?new dC(e,r):new on(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new oC(e,r):new uC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(eo(n,this.value)):n!==null&&Ks(this.value)===Ks(n)&&this.matchesComparison(eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cr extends AS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Cr(e,n)}matches(e){return wS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wS(o){return o.op==="and"}function RS(o){return aC(o)&&wS(o)}function aC(o){for(const e of o.filters)if(e instanceof Cr)return!1;return!0}function vg(o){if(o instanceof on)return o.field.canonicalString()+o.op.toString()+to(o.value);if(RS(o))return o.filters.map((e=>vg(e))).join(",");{const e=o.filters.map((n=>vg(n))).join(",");return`${o.op}(${e})`}}function CS(o,e){return o instanceof on?(function(r,s){return s instanceof on&&r.op===s.op&&r.field.isEqual(s.field)&&Rr(r.value,s.value)})(o,e):o instanceof Cr?(function(r,s){return s instanceof Cr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,u,f)=>a&&CS(u,s.filters[f])),!0):!1})(o,e):void Pe(19439)}function MS(o){return o instanceof on?(function(n){return`${n.field.canonicalString()} ${n.op} ${to(n.value)}`})(o):o instanceof Cr?(function(n){return n.op.toString()+" {"+n.getFilters().map(MS).join(" ,")+"}"})(o):"Filter"}class lC extends on{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class oC extends on{constructor(e,n){super(e,"in",n),this.keys=DS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class uC extends on{constructor(e,n){super(e,"not-in",n),this.keys=DS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function DS(o,e){return(e.arrayValue?.values||[]).map((n=>Ie.fromName(n.referenceValue)))}class cC extends on{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sp(n)&&Uu(n.arrayValue,this.value)}}class fC extends on{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uu(this.value.arrayValue,n)}}class hC extends on{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Uu(this.value.arrayValue,n)}}class dC extends on{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Uu(this.value.arrayValue,r)))}}class mC{constructor(e,n=null,r=[],s=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=f,this.Te=null}}function l1(o,e=null,n=[],r=[],s=null,a=null,u=null){return new mC(o,e,n,r,s,a,u)}function ap(o){const e=Be(o);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>vg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>to(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>to(r))).join(",")),e.Te=n}return e.Te}function lp(o,e){if(o.limit!==e.limit||o.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<o.orderBy.length;n++)if(!sC(o.orderBy[n],e.orderBy[n]))return!1;if(o.filters.length!==e.filters.length)return!1;for(let n=0;n<o.filters.length;n++)if(!CS(o.filters[n],e.filters[n]))return!1;return o.collectionGroup===e.collectionGroup&&!!o.path.isEqual(e.path)&&!!a1(o.startAt,e.startAt)&&a1(o.endAt,e.endAt)}function _g(o){return Ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}class yh{constructor(e,n=null,r=[],s=[],a=null,u="F",f=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gC(o,e,n,r,s,a,u,f){return new yh(o,e,n,r,s,a,u,f)}function op(o){return new yh(o)}function o1(o){return o.filters.length===0&&o.limit===null&&o.startAt==null&&o.endAt==null&&(o.explicitOrderBy.length===0||o.explicitOrderBy.length===1&&o.explicitOrderBy[0].field.isKeyField())}function pC(o){return o.collectionGroup!==null}function bu(o){const e=Be(o);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new un(bn.comparator);return u.filters.forEach((h=>{h.getFlattenedFilters().forEach((d=>{d.isInequality()&&(f=f.add(d.field))}))})),f})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new nh(a,r))})),n.has(bn.keyField().canonicalString())||e.Ie.push(new nh(bn.keyField(),r))}return e.Ie}function Tr(o){const e=Be(o);return e.Ee||(e.Ee=yC(e,bu(o))),e.Ee}function yC(o,e){if(o.limitType==="F")return l1(o.path,o.collectionGroup,e,o.filters,o.limit,o.startAt,o.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new nh(s.field,a)}));const n=o.endAt?new th(o.endAt.position,o.endAt.inclusive):null,r=o.startAt?new th(o.startAt.position,o.startAt.inclusive):null;return l1(o.path,o.collectionGroup,e,o.filters,o.limit,n,r)}}function xg(o,e,n){return new yh(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),e,n,o.startAt,o.endAt)}function vh(o,e){return lp(Tr(o),Tr(e))&&o.limitType===e.limitType}function NS(o){return`${ap(Tr(o))}|lt:${o.limitType}`}function kl(o){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>MS(s))).join(", ")}]`),gh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>to(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>to(s))).join(",")),`Target(${r})`})(Tr(o))}; limitType=${o.limitType})`}function _h(o,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ie.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(o,e)&&(function(r,s){for(const a of bu(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(o,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(o,e)&&(function(r,s){return!(r.startAt&&!(function(u,f,h){const d=s1(u,f,h);return u.inclusive?d<=0:d<0})(r.startAt,bu(r),s)||r.endAt&&!(function(u,f,h){const d=s1(u,f,h);return u.inclusive?d>=0:d>0})(r.endAt,bu(r),s))})(o,e)}function vC(o){return o.collectionGroup||(o.path.length%2==1?o.path.lastSegment():o.path.get(o.path.length-2))}function IS(o){return(e,n)=>{let r=!1;for(const s of bu(o)){const a=_C(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function _C(o,e,n){const r=o.field.isKeyField()?Ie.comparator(e.key,n.key):(function(a,u,f){const h=u.data.field(a),d=f.data.field(a);return h!==null&&d!==null?eo(h,d):Pe(42886)})(o.field,e,n);switch(o.dir){case"asc":return r;case"desc":return-1*r;default:return Pe(19790,{direction:o.dir})}}class Ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Fa(this.inner,((n,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return pS(this.inner)}size(){return this.innerSize}}const xC=new kt(Ie.comparator);function ns(){return xC}const OS=new kt(Ie.comparator);function pu(...o){let e=OS;for(const n of o)e=e.insert(n.key,n);return e}function VS(o){let e=OS;return o.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ia(){return Au()}function PS(){return Au()}function Au(){return new Ha((o=>o.toString()),((o,e)=>o.isEqual(e)))}const SC=new kt(Ie.comparator),TC=new un(Ie.comparator);function Ze(...o){let e=TC;for(const n of o)e=e.add(n);return e}const EC=new un(We);function bC(){return EC}function up(o,e){if(o.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zf(e)?"-0":e}}function kS(o){return{integerValue:""+o}}function AC(o,e){return WR(e)?kS(e):up(o,e)}class xh{constructor(){this._=void 0}}function wC(o,e,n){return o instanceof ih?(function(s,a){const u={fields:{[_S]:{stringValue:vS},[SS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&rp(a)&&(a=ph(a)),a&&(u.fields[xS]=a),{mapValue:u}})(n,e):o instanceof Fu?jS(o,e):o instanceof Hu?zS(o,e):(function(s,a){const u=LS(s,a),f=u1(u)+u1(s.Ae);return yg(u)&&yg(s.Ae)?kS(f):up(s.serializer,f)})(o,e)}function RC(o,e,n){return o instanceof Fu?jS(o,e):o instanceof Hu?zS(o,e):n}function LS(o,e){return o instanceof rh?(function(r){return yg(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class ih extends xh{}class Fu extends xh{constructor(e){super(),this.elements=e}}function jS(o,e){const n=BS(e);for(const r of o.elements)n.some((s=>Rr(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Hu extends xh{constructor(e){super(),this.elements=e}}function zS(o,e){let n=BS(e);for(const r of o.elements)n=n.filter((s=>!Rr(s,r)));return{arrayValue:{values:n}}}class rh extends xh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function u1(o){return Gt(o.integerValue||o.doubleValue)}function BS(o){return sp(o)&&o.arrayValue.values?o.arrayValue.values.slice():[]}function CC(o,e){return o.field.isEqual(e.field)&&(function(r,s){return r instanceof Fu&&s instanceof Fu||r instanceof Hu&&s instanceof Hu?Jl(r.elements,s.elements,Rr):r instanceof rh&&s instanceof rh?Rr(r.Ae,s.Ae):r instanceof ih&&s instanceof ih})(o.transform,e.transform)}class MC{constructor(e,n){this.version=e,this.transformResults=n}}class Wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lf(o,e){return o.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(o.updateTime):o.exists===void 0||o.exists===e.isFoundDocument()}class Sh{}function US(o,e){if(!o.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return o.isNoDocument()?new HS(o.key,Wr.none()):new Xu(o.key,o.data,Wr.none());{const n=o.data,r=Ni.empty();let s=new un(bn.comparator);for(let a of e.fields)if(!s.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new qa(o.key,r,new Ki(s.toArray()),Wr.none())}}function DC(o,e,n){o instanceof Xu?(function(s,a,u){const f=s.value.clone(),h=f1(s.fieldTransforms,a,u.transformResults);f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(o,e,n):o instanceof qa?(function(s,a,u){if(!Lf(s.precondition,a))return void a.convertToUnknownDocument(u.version);const f=f1(s.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(FS(s)),h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(o,e,n):(function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function wu(o,e,n,r){return o instanceof Xu?(function(a,u,f,h){if(!Lf(a.precondition,u))return f;const d=a.value.clone(),g=h1(a.fieldTransforms,h,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(o,e,n,r):o instanceof qa?(function(a,u,f,h){if(!Lf(a.precondition,u))return f;const d=h1(a.fieldTransforms,h,u),g=u.data;return g.setAll(FS(a)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((_=>_.field)))})(o,e,n,r):(function(a,u,f){return Lf(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(o,e,n)}function NC(o,e){let n=null;for(const r of o.fieldTransforms){const s=e.data.field(r.field),a=LS(r.transform,s||null);a!=null&&(n===null&&(n=Ni.empty()),n.set(r.field,a))}return n||null}function c1(o,e){return o.type===e.type&&!!o.key.isEqual(e.key)&&!!o.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Jl(r,s,((a,u)=>CC(a,u)))})(o.fieldTransforms,e.fieldTransforms)&&(o.type===0?o.value.isEqual(e.value):o.type!==1||o.data.isEqual(e.data)&&o.fieldMask.isEqual(e.fieldMask))}class Xu extends Sh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qa extends Sh{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function FS(o){const e=new Map;return o.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=o.data.field(n);e.set(n,r)}})),e}function f1(o,e,n){const r=new Map;ct(o.length===n.length,32656,{Re:n.length,Ve:o.length});for(let s=0;s<n.length;s++){const a=o[s],u=a.transform,f=e.data.field(a.field);r.set(a.field,RC(u,f,n[s]))}return r}function h1(o,e,n){const r=new Map;for(const s of o){const a=s.transform,u=n.data.field(s.field);r.set(s.field,wC(a,u,e))}return r}class HS extends Sh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IC extends Sh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class OC{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&DC(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=PS();return this.mutations.forEach((s=>{const a=e.get(s.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=n.has(s.key)?null:f;const h=US(u,f);h!==null&&r.set(s.key,h),u.isValidDocument()||u.convertToNoDocument(Le.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ze())}isEqual(e){return this.batchId===e.batchId&&Jl(this.mutations,e.mutations,((n,r)=>c1(n,r)))&&Jl(this.baseMutations,e.baseMutations,((n,r)=>c1(n,r)))}}class cp{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ct(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return SC})();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new cp(e,n,r,s)}}class VC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class PC{constructor(e,n){this.count=e,this.unchangedNames=n}}var nn,nt;function kC(o){switch(o){case ye.OK:return Pe(64938);case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return Pe(15467,{code:o})}}function qS(o){if(o===void 0)return ts("GRPC error has no .code"),ye.UNKNOWN;switch(o){case nn.OK:return ye.OK;case nn.CANCELLED:return ye.CANCELLED;case nn.UNKNOWN:return ye.UNKNOWN;case nn.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case nn.INTERNAL:return ye.INTERNAL;case nn.UNAVAILABLE:return ye.UNAVAILABLE;case nn.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case nn.NOT_FOUND:return ye.NOT_FOUND;case nn.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case nn.ABORTED:return ye.ABORTED;case nn.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case nn.DATA_LOSS:return ye.DATA_LOSS;default:return Pe(39323,{code:o})}}(nt=nn||(nn={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";function LC(){return new TextEncoder}const jC=new Fs([4294967295,4294967295],0);function d1(o){const e=LC().encode(o),n=new aS;return n.update(e),new Uint8Array(n.digest())}function m1(o){const e=new DataView(o.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Fs([n,r],0),new Fs([s,a],0)]}class fp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yu(`Invalid padding: ${n}`);if(r<0)throw new yu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Fs.fromNumber(r)));return s.compare(jC)===1&&(s=new Fs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=d1(e),[r,s]=m1(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,s,a);if(!this.we(u))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new fp(a,s,n);return r.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=d1(e),[r,s]=m1(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,s,a);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Th{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ku.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Th(Le.min(),s,new kt(We),ns(),Ze())}}class Ku{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ku(r,n,Ze(),Ze(),Ze())}}class jf{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class GS{constructor(e,n){this.targetId=e,this.Ce=n}}class YS{constructor(e,n,r=wn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class g1{constructor(){this.ve=0,this.Fe=p1(),this.Me=wn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ze(),n=Ze(),r=Ze();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Pe(38017,{changeType:a})}})),new Ku(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=p1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zC{constructor(e){this.Ge=e,this.ze=new Map,this.je=ns(),this.Je=Cf(),this.He=Cf(),this.Ye=new kt(We)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Pe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const a=s.target;if(_g(a))if(r===0){const u=new Ie(a.path);this.et(n,u,In.newNoDocument(u,Le.min()))}else ct(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const f=this.ut(e),h=f?this.ct(f,e,u):1;if(h!==0){this.it(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let u,f;try{u=Xs(r).toUint8Array()}catch(h){if(h instanceof yS)return Zl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new fp(u,s,a)}catch(h){return Zl(h instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.ge===0?null:f}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((a=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.et(n,a,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((a,u)=>{const f=this.ot(u);if(f){if(a.current&&_g(f.target)){const h=new Ie(f.target.path);this.It(h).has(u)||this.Et(u,h)||this.et(u,h,In.newNoDocument(h,e))}a.Be&&(n.set(u,a.ke()),a.qe())}}));let r=Ze();this.He.forEach(((a,u)=>{let f=!0;u.forEachWhile((h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const s=new Th(e,n,this.Ye,this.je,r);return this.je=ns(),this.Je=Cf(),this.He=Cf(),this.Ye=new kt(We),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new g1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new un(We),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new un(We),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new g1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Cf(){return new kt(Ie.comparator)}function p1(){return new kt(Ie.comparator)}const BC={asc:"ASCENDING",desc:"DESCENDING"},UC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FC={and:"AND",or:"OR"};class HC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Sg(o,e){return o.useProto3Json||gh(e)?e:{value:e}}function sh(o,e){return o.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QS(o,e){return o.useProto3Json?e.toBase64():e.toUint8Array()}function qC(o,e){return sh(o,e.toTimestamp())}function Er(o){return ct(!!o,49232),Le.fromTimestamp((function(n){const r=Qs(n);return new Rt(r.seconds,r.nanos)})(o))}function hp(o,e){return Tg(o,e).canonicalString()}function Tg(o,e){const n=(function(s){return new Vt(["projects",s.projectId,"databases",s.database])})(o).child("documents");return e===void 0?n:n.child(e)}function XS(o){const e=Vt.fromString(o);return ct(JS(e),10190,{key:e.toString()}),e}function Eg(o,e){return hp(o.databaseId,e.path)}function qm(o,e){const n=XS(e);if(n.get(1)!==o.databaseId.projectId)throw new De(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+o.databaseId.projectId);if(n.get(3)!==o.databaseId.database)throw new De(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+o.databaseId.database);return new Ie($S(n))}function KS(o,e){return hp(o.databaseId,e)}function GC(o){const e=XS(o);return e.length===4?Vt.emptyPath():$S(e)}function bg(o){return new Vt(["projects",o.databaseId.projectId,"databases",o.databaseId.database]).canonicalString()}function $S(o){return ct(o.length>4&&o.get(4)==="documents",29091,{key:o.toString()}),o.popFirst(5)}function y1(o,e,n){return{name:Eg(o,e),fields:n.value.mapValue.fields}}function YC(o,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Pe(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(d,g){return d.useProto3Json?(ct(g===void 0||typeof g=="string",58123),wn.fromBase64String(g||"")):(ct(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),wn.fromUint8Array(g||new Uint8Array))})(o,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(d){const g=d.code===void 0?ye.UNKNOWN:qS(d.code);return new De(g,d.message||"")})(u);n=new YS(r,s,a,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=qm(o,r.document.name),a=Er(r.document.updateTime),u=r.document.createTime?Er(r.document.createTime):Le.min(),f=new Ni({mapValue:{fields:r.document.fields}}),h=In.newFoundDocument(s,a,u,f),d=r.targetIds||[],g=r.removedTargetIds||[];n=new jf(d,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=qm(o,r.document),a=r.readTime?Er(r.readTime):Le.min(),u=In.newNoDocument(s,a),f=r.removedTargetIds||[];n=new jf([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=qm(o,r.document),a=r.removedTargetIds||[];n=new jf([],a,s,null)}else{if(!("filter"in e))return Pe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new PC(s,a),f=r.targetId;n=new GS(f,u)}}return n}function QC(o,e){let n;if(e instanceof Xu)n={update:y1(o,e.key,e.value)};else if(e instanceof HS)n={delete:Eg(o,e.key)};else if(e instanceof qa)n={update:y1(o,e.key,e.data),updateMask:n4(e.fieldMask)};else{if(!(e instanceof IC))return Pe(16599,{Vt:e.type});n={verify:Eg(o,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const f=u.transform;if(f instanceof ih)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Fu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Hu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof rh)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Pe(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:qC(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Pe(27497)})(o,e.precondition)),n}function XC(o,e){return o&&o.length>0?(ct(e!==void 0,14353),o.map((n=>(function(s,a){let u=s.updateTime?Er(s.updateTime):Er(a);return u.isEqual(Le.min())&&(u=Er(a)),new MC(u,s.transformResults||[])})(n,e)))):[]}function KC(o,e){return{documents:[KS(o,e.path)]}}function $C(o,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=KS(o,s);const a=(function(d){if(d.length!==0)return ZS(Cr.create(d,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const u=(function(d){if(d.length!==0)return d.map((g=>(function(x){return{field:Ll(x.field),direction:JC(x.dir)}})(g)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=Sg(o,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:s}}function WC(o){let e=GC(o.parent);const n=o.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ct(r===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=(function(_){const x=WS(_);return x instanceof Cr&&RS(x)?x.getFilters():[x]})(n.where));let u=[];n.orderBy&&(u=(function(_){return _.map((x=>(function(T){return new nh(jl(T.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(x)))})(n.orderBy));let f=null;n.limit&&(f=(function(_){let x;return x=typeof _=="object"?_.value:_,gh(x)?null:x})(n.limit));let h=null;n.startAt&&(h=(function(_){const x=!!_.before,p=_.values||[];return new th(p,x)})(n.startAt));let d=null;return n.endAt&&(d=(function(_){const x=!_.before,p=_.values||[];return new th(p,x)})(n.endAt)),gC(e,s,u,a,f,"F",h,d)}function ZC(o,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WS(o){return o.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=jl(n.unaryFilter.field);return on.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=jl(n.unaryFilter.field);return on.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=jl(n.unaryFilter.field);return on.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=jl(n.unaryFilter.field);return on.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}})(o):o.fieldFilter!==void 0?(function(n){return on.create(jl(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(o):o.compositeFilter!==void 0?(function(n){return Cr.create(n.compositeFilter.filters.map((r=>WS(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}})(n.compositeFilter.op))})(o):Pe(30097,{filter:o})}function JC(o){return BC[o]}function e4(o){return UC[o]}function t4(o){return FC[o]}function Ll(o){return{fieldPath:o.canonicalString()}}function jl(o){return bn.fromServerFormat(o.fieldPath)}function ZS(o){return o instanceof on?(function(n){if(n.op==="=="){if(r1(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NAN"}};if(i1(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(r1(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NOT_NAN"}};if(i1(n.value))return{unaryFilter:{field:Ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ll(n.field),op:e4(n.op),value:n.value}}})(o):o instanceof Cr?(function(n){const r=n.getFilters().map((s=>ZS(s)));return r.length===1?r[0]:{compositeFilter:{op:t4(n.op),filters:r}}})(o):Pe(54877,{filter:o})}function n4(o){const e=[];return o.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function JS(o){return o.length>=4&&o.get(0)==="projects"&&o.get(2)==="databases"}class Ls{constructor(e,n,r,s,a=Le.min(),u=Le.min(),f=wn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new Ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class i4{constructor(e){this.yt=e}}function r4(o){const e=WC({parent:o.parent,structuredQuery:o.structuredQuery});return o.limitType==="LAST"?xg(e,e.limit,"L"):e}class s4{constructor(){this.Cn=new a4}addToCollectionParentIndex(e,n){return this.Cn.add(n),me.resolve()}getCollectionParents(e,n){return me.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return me.resolve()}deleteFieldIndex(e,n){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,n){return me.resolve()}getDocumentsMatchingTarget(e,n){return me.resolve(null)}getIndexType(e,n){return me.resolve(0)}getFieldIndexes(e,n){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,n){return me.resolve(Ys.min())}getMinOffsetFromCollectionGroup(e,n){return me.resolve(Ys.min())}updateCollectionGroup(e,n,r){return me.resolve()}updateIndexEntries(e,n){return me.resolve()}}class a4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new un(Vt.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new un(Vt.comparator)).toArray()}}const v1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eT=41943040;class Yn{static withCacheSize(e){return new Yn(e,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(eT,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);class no{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new no(0)}static cr(){return new no(-1)}}const _1="LruGarbageCollector",l4=1048576;function x1([o,e],[n,r]){const s=We(o,n);return s===0?We(e,r):s}class o4{constructor(e){this.Ir=e,this.buffer=new un(x1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();x1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class u4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(_1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){lo(n)?Ee(_1,"Ignoring IndexedDB error during garbage collection: ",n):await ao(n)}await this.Vr(3e5)}))}}class c4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return me.resolve(mh.ce);const r=new o4(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(v1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,a,u,f,h,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(e,s)))).next((_=>(r=_,f=Date.now(),this.removeTargets(e,r,n)))).next((_=>(a=_,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(d=Date.now(),Pl()<=it.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(f-u)+`ms
	Removed ${a} targets in `+(h-f)+`ms
	Removed ${_} documents in `+(d-h)+`ms
Total Duration: ${d-g}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_}))))}}function f4(o,e){return new c4(o,e)}class h4{constructor(){this.changes=new Ha((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?me.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class d4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class m4{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&wu(r.mutation,s,Ki.empty(),Rt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ze()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ze()){const s=Ia();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((a=>{let u=pu();return a.forEach(((f,h)=>{u=u.insert(f,h.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=Ia();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ze())))}populateOverlays(e,n,r){const s=[];return r.forEach((a=>{n.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,r,s){let a=ns();const u=Au(),f=(function(){return Au()})();return n.forEach(((h,d)=>{const g=r.get(d.key);s.has(d.key)&&(g===void 0||g.mutation instanceof qa)?a=a.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),wu(g.mutation,d,g.mutation.getFieldMask(),Rt.now())):u.set(d.key,Ki.empty())})),this.recalculateAndSaveOverlays(e,a).next((h=>(h.forEach(((d,g)=>u.set(d,g))),n.forEach(((d,g)=>f.set(d,new d4(g,u.get(d)??null)))),f)))}recalculateAndSaveOverlays(e,n){const r=Au();let s=new kt(((u,f)=>u-f)),a=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((h=>{const d=n.get(h);if(d===null)return;let g=r.get(h)||Ki.empty();g=f.applyToLocalView(d,g),r.set(h,g);const _=(s.get(f.batchId)||Ze()).add(h);s=s.insert(f.batchId,_)}))})).next((()=>{const u=[],f=s.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),d=h.key,g=h.value,_=PS();g.forEach((x=>{if(!a.has(x)){const p=US(n.get(x),r.get(x));p!==null&&_.set(x,p),a=a.add(x)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,_))}return me.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(u){return Ie.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):me.resolve(Ia());let f=ju,h=a;return u.next((d=>me.forEach(d,((g,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),a.get(g)?me.resolve():this.remoteDocumentCache.getEntry(e,g).next((x=>{h=h.insert(g,x)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,h,d,Ze()))).next((g=>({batchId:f,changes:VS(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((r=>{let s=pu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let u=pu();return this.indexManager.getCollectionParents(e,a).next((f=>me.forEach(f,(h=>{const d=(function(_,x){return new yh(x,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((g=>{g.forEach(((_,x)=>{u=u.insert(_,x)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s)))).next((u=>{a.forEach(((h,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,In.newInvalidDocument(g)))}));let f=pu();return u.forEach(((h,d)=>{const g=a.get(h);g!==void 0&&wu(g.mutation,d,Ki.empty(),Rt.now()),_h(n,d)&&(f=f.insert(h,d))})),f}))}}class g4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return me.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Er(s.createTime)}})(n)),me.resolve()}getNamedQuery(e,n){return me.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:r4(s.bundledQuery),readTime:Er(s.readTime)}})(n)),me.resolve()}}class p4{constructor(){this.overlays=new kt(Ie.comparator),this.qr=new Map}getOverlay(e,n){return me.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ia();return me.forEach(n,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,a)=>{this.St(e,n,a)})),me.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),me.resolve()}getOverlaysForCollection(e,n,r){const s=Ia(),a=n.length+1,u=new Ie(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&h.largestBatchId>r&&s.set(h.getKey(),h)}return me.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new kt(((d,g)=>d-g));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let g=a.get(d.largestBatchId);g===null&&(g=Ia(),a=a.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const f=Ia(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((d,g)=>f.set(d,g))),!(f.size()>=s)););return me.resolve(f)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new VC(n,r));let a=this.qr.get(n);a===void 0&&(a=Ze(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}class y4{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,me.resolve()}}class dp{constructor(){this.Qr=new un(mn.$r),this.Ur=new un(mn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new mn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new mn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ie(new Vt([])),r=new mn(n,e),s=new mn(n,e+1),a=[];return this.Ur.forEachInRange([r,s],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ie(new Vt([])),r=new mn(n,e),s=new mn(n,e+1);let a=Ze();return this.Ur.forEachInRange([r,s],(u=>{a=a.add(u.key)})),a}containsKey(e){const n=new mn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ie.comparator(e.key,n.key)||We(e.Yr,n.Yr)}static Kr(e,n){return We(e.Yr,n.Yr)||Ie.comparator(e.key,n.key)}}class v4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new un(mn.$r)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new OC(a,n,r,s);this.mutationQueue.push(u);for(const f of s)this.Zr=this.Zr.add(new mn(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return me.resolve(u)}lookupMutationBatch(e,n){return me.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),a=s<0?0:s;return me.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?ip:this.tr-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mn(n,0),s=new mn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],(u=>{const f=this.Xr(u.Yr);a.push(f)})),me.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new un(We);return n.forEach((s=>{const a=new mn(s,0),u=new mn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(f=>{r=r.add(f.Yr)}))})),me.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;Ie.isDocumentKey(a)||(a=a.child(""));const u=new mn(new Ie(a),0);let f=new un(We);return this.Zr.forEachWhile((h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(f=f.add(h.Yr)),!0)}),u),me.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return me.forEach(n.mutations,(s=>{const a=new mn(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new mn(n,0),s=this.Zr.firstAfterOrEqual(r);return me.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class _4{constructor(e){this.ri=e,this.docs=(function(){return new kt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return me.resolve(r?r.document.mutableCopy():In.newInvalidDocument(n))}getEntries(e,n){let r=ns();return n.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():In.newInvalidDocument(s))})),me.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=ns();const u=n.path,f=new Ie(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:d,value:{document:g}}=h.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||QR(YR(g),r)<=0||(s.has(g.key)||_h(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return me.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Pe(9500)}ii(e,n){return me.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new x4(this)}getSize(e){return me.resolve(this.size)}}class x4 extends h4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),me.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class S4{constructor(e){this.persistence=e,this.si=new Ha((n=>ap(n)),lp),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.oi=0,this._i=new dp,this.targetCount=0,this.ai=no.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),me.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new no(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,me.resolve()}updateTargetData(e,n){return this.Pr(n),me.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)})),me.waitFor(a).next((()=>s))}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return me.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),me.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach((u=>{a.push(s.markPotentiallyOrphaned(e,u))})),me.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),me.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return me.resolve(r)}containsKey(e,n){return me.resolve(this._i.containsKey(n))}}class tT{constructor(e,n){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new y4,this.referenceDelegate=e(this),this.Pi=new S4(this),this.indexManager=new s4,this.remoteDocumentCache=(function(s){return new _4(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new i4(n),this.Ii=new g4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new p4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new v4(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const s=new T4(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ai(e,n){return me.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class T4 extends KR{constructor(e){super(),this.currentSequenceNumber=e}}class mp{constructor(e){this.persistence=e,this.Ri=new dp,this.Vi=null}static mi(e){return new mp(e)}get fi(){if(this.Vi)return this.Vi;throw Pe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),me.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),me.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.fi,(r=>{const s=Ie.fromPath(r);return this.gi(e,s).next((a=>{a||n.removeEntry(s,Le.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return me.or([()=>me.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ah{constructor(e,n){this.persistence=e,this.pi=new Ha((r=>ZR(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=f4(this,n)}static mi(e,n){return new ah(e,n)}Ei(){}di(e){return me.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return me.forEach(this.pi,((r,s)=>this.br(e,r,s).next((a=>a?me.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,(u=>this.br(e,u,n).next((f=>{f||(r++,a.removeEntry(u,Le.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),me.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),me.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),me.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pf(e.data.value)),n}br(e,n,r){return me.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return me.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class gp{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ze(),s=Ze();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new gp(e,n.fromCache,r,s)}}class E4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class b4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return dw()?8:$R(fw())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ys(e,n).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,n,s,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new E4;return this.Ss(e,n,u).next((f=>{if(a.result=f,this.Vs)return this.bs(e,n,u,f.size)}))})).next((()=>a.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(Pl()<=it.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",kl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),me.resolve()):(Pl()<=it.DEBUG&&Ee("QueryEngine","Query:",kl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Pl()<=it.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",kl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tr(n))):me.resolve())}ys(e,n){if(o1(n))return me.resolve(null);let r=Tr(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=xg(n,null,"F"),r=Tr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=Ze(...a);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,r).next((h=>{const d=this.Ds(n,f);return this.Cs(n,d,u,h.readTime)?this.ys(e,xg(n,null,"F")):this.vs(e,d,n,h)}))))})))))}ws(e,n,r,s){return o1(n)||s.isEqual(Le.min())?me.resolve(null):this.ps.getDocuments(e,r).next((a=>{const u=this.Ds(n,a);return this.Cs(n,u,r,s)?me.resolve(null):(Pl()<=it.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),kl(n)),this.vs(e,u,n,GR(s,ju)).next((f=>f)))}))}Ds(e,n){let r=new un(IS(e));return n.forEach(((s,a)=>{_h(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,n,r){return Pl()<=it.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",kl(n)),this.ps.getDocumentsMatchingQuery(e,n,Ys.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((a=>(n.forEach((u=>{a=a.insert(u.key,u)})),a)))}}const pp="LocalStore",A4=3e8;class w4{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new kt(We),this.xs=new Ha((a=>ap(a)),lp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function R4(o,e,n,r){return new w4(o,e,n,r)}async function nT(o,e){const n=Be(o);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],f=[];let h=Ze();for(const d of s){u.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}for(const d of a){f.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:f})))}))}))}function C4(o,e){const n=Be(o);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,h,d,g){const _=d.batch,x=_.keys();let p=me.resolve();return x.forEach((T=>{p=p.next((()=>g.getEntry(h,T))).next((S=>{const E=d.docVersions.get(T);ct(E!==null,48541),S.version.compareTo(E)<0&&(_.applyToRemoteDocument(S,d),S.isValidDocument()&&(S.setReadTime(d.commitVersion),g.addEntry(S)))}))})),p.next((()=>f.mutationQueue.removeMutationBatch(h,_)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let h=Ze();for(let d=0;d<f.mutationResults.length;++d)f.mutationResults[d].transformResults.length>0&&(h=h.add(f.batch.mutations[d].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function iT(o){const e=Be(o);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function M4(o,e){const n=Be(o),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const f=[];e.targetChanges.forEach(((g,_)=>{const x=s.get(_);if(!x)return;f.push(n.Pi.removeMatchingKeys(a,g.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(a,g.addedDocuments,_))));let p=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?p=p.withResumeToken(wn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):g.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(g.resumeToken,r)),s=s.insert(_,p),(function(S,E,V){return S.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=A4?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(x,p,g)&&f.push(n.Pi.updateTargetData(a,p))}));let h=ns(),d=Ze();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))})),f.push(D4(a,u,e.documentUpdates).next((g=>{h=g.ks,d=g.qs}))),!r.isEqual(Le.min())){const g=n.Pi.getLastRemoteSnapshotVersion(a).next((_=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));f.push(g)}return me.waitFor(f).next((()=>u.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,h,d))).next((()=>h))})).then((a=>(n.Ms=s,a)))}function D4(o,e,n){let r=Ze(),s=Ze();return n.forEach((a=>r=r.add(a))),e.getEntries(o,r).next((a=>{let u=ns();return n.forEach(((f,h)=>{const d=a.get(f);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(f)),h.isNoDocument()&&h.version.isEqual(Le.min())?(e.removeEntry(f,h.readTime),u=u.insert(f,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),u=u.insert(f,h)):Ee(pp,"Ignoring outdated watch update for ",f,". Current version:",d.version," Watch version:",h.version)})),{ks:u,qs:s}}))}function N4(o,e){const n=Be(o);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ip),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function I4(o,e){const n=Be(o);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((a=>a?(s=a,me.resolve(s)):n.Pi.allocateTargetId(r).next((u=>(s=new Ls(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Ag(o,e,n){const r=Be(o),s=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!lo(u))throw u;Ee(pp,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function S1(o,e,n){const r=Be(o);let s=Le.min(),a=Ze();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(h,d,g){const _=Be(h),x=_.xs.get(g);return x!==void 0?me.resolve(_.Ms.get(x)):_.Pi.getTargetData(d,g)})(r,u,Tr(e)).next((f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,f.targetId).next((h=>{a=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,n?s:Le.min(),n?a:Ze()))).next((f=>(O4(r,vC(e),f),{documents:f,Qs:a})))))}function O4(o,e,n){let r=o.Os.get(e)||Le.min();n.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),o.Os.set(e,r)}class T1{constructor(){this.activeTargetIds=bC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class V4{constructor(){this.Mo=new T1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new T1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class P4{Oo(e){}shutdown(){}}const E1="ConnectivityMonitor";class b1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(E1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(E1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mf=null;function wg(){return Mf===null?Mf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mf++,"0x"+Mf.toString(16)}const Gm="RestConnection",k4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class L4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Jf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,a){const u=wg(),f=this.zo(e,n.toUriEncodedString());Ee(Gm,`Sending RPC '${e}' ${u}:`,f,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,a);const{host:d}=new URL(f),g=Zg(d);return this.Jo(e,f,h,r,g).then((_=>(Ee(Gm,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw Zl(Gm,`RPC '${e}' ${u} failed with error: `,_,"url: ",f,"request:",r),_}))}Ho(e,n,r,s,a,u){return this.Go(e,n,r,s,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+so})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}zo(e,n){const r=k4[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class j4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Dn="WebChannelConnection";class z4 extends L4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,a){const u=wg();return new Promise(((f,h)=>{const d=new lS;d.setWithCredentials(!0),d.listenOnce(oS.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Vf.NO_ERROR:const _=d.getResponseJson();Ee(Dn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),f(_);break;case Vf.TIMEOUT:Ee(Dn,`RPC '${e}' ${u} timed out`),h(new De(ye.DEADLINE_EXCEEDED,"Request time out"));break;case Vf.HTTP_ERROR:const x=d.getStatus();if(Ee(Dn,`RPC '${e}' ${u} failed with status:`,x,"response text:",d.getResponseText()),x>0){let p=d.getResponseJson();Array.isArray(p)&&(p=p[0]);const T=p?.error;if(T&&T.status&&T.message){const S=(function(V){const L=V.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(L)>=0?L:ye.UNKNOWN})(T.status);h(new De(S,T.message))}else h(new De(ye.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new De(ye.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Ee(Dn,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(s);Ee(Dn,`RPC '${e}' ${u} sending request:`,s),d.send(n,"POST",g,r,15)}))}T_(e,n,r){const s=wg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=fS(),f=cS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=a.join("");Ee(Dn,`Creating RPC '${e}' stream ${s}: ${g}`,h);const _=u.createWebChannel(g,h);this.I_(_);let x=!1,p=!1;const T=new j4({Yo:E=>{p?Ee(Dn,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(x||(Ee(Dn,`Opening RPC '${e}' stream ${s} transport.`),_.open(),x=!0),Ee(Dn,`RPC '${e}' stream ${s} sending:`,E),_.send(E))},Zo:()=>_.close()}),S=(E,V,L)=>{E.listen(V,(z=>{try{L(z)}catch(U){setTimeout((()=>{throw U}),0)}}))};return S(_,gu.EventType.OPEN,(()=>{p||(Ee(Dn,`RPC '${e}' stream ${s} transport opened.`),T.o_())})),S(_,gu.EventType.CLOSE,(()=>{p||(p=!0,Ee(Dn,`RPC '${e}' stream ${s} transport closed`),T.a_(),this.E_(_))})),S(_,gu.EventType.ERROR,(E=>{p||(p=!0,Zl(Dn,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),T.a_(new De(ye.UNAVAILABLE,"The operation could not be completed")))})),S(_,gu.EventType.MESSAGE,(E=>{if(!p){const V=E.data[0];ct(!!V,16349);const L=V,z=L?.error||L[0]?.error;if(z){Ee(Dn,`RPC '${e}' stream ${s} received error:`,z);const U=z.status;let N=(function(b){const C=nn[b];if(C!==void 0)return qS(C)})(U),j=z.message;N===void 0&&(N=ye.INTERNAL,j="Unknown error status: "+U+" with message "+z.message),p=!0,T.a_(new De(N,j)),_.close()}else Ee(Dn,`RPC '${e}' stream ${s} received:`,V),T.u_(V)}})),S(f,uS.STAT_EVENT,(E=>{E.stat===mg.PROXY?Ee(Dn,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===mg.NOPROXY&&Ee(Dn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Ym(){return typeof document<"u"?document:null}function Eh(o){return new HC(o,!0)}class rT{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const A1="PersistentStream";class sT{constructor(e,n,r,s,a,u,f,h){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ye.RESOURCE_EXHAUSTED?(ts(n.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new De(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee(A1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ee(A1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class B4 extends sT{constructor(e,n,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,u),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=YC(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Le.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Le.min():u.readTime?Er(u.readTime):Le.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=bg(this.serializer),n.addTarget=(function(a,u){let f;const h=u.target;if(f=_g(h)?{documents:KC(a,h)}:{query:$C(a,h).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=QS(a,u.resumeToken);const d=Sg(a,u.expectedCount);d!==null&&(f.expectedCount=d)}else if(u.snapshotVersion.compareTo(Le.min())>0){f.readTime=sh(a,u.snapshotVersion.toTimestamp());const d=Sg(a,u.expectedCount);d!==null&&(f.expectedCount=d)}return f})(this.serializer,e);const r=ZC(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=bg(this.serializer),n.removeTarget=e,this.q_(n)}}class U4 extends sT{constructor(e,n,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=XC(e.writeResults,e.commitTime),r=Er(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=bg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>QC(this.serializer,r)))};this.q_(n)}}class F4{}class H4 extends F4{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new De(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,Tg(n,r),s,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new De(ye.UNKNOWN,a.toString())}))}Ho(e,n,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,Tg(n,r),s,u,f,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new De(ye.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class q4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(n),this.aa=!1):Ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ba="RemoteStore";class G4{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Ga(this)&&(Ee(Ba,"Restarting streams for network reachability change."),await(async function(h){const d=Be(h);d.Ea.add(4),await $u(d),d.Ra.set("Unknown"),d.Ea.delete(4),await bh(d)})(this))}))})),this.Ra=new q4(r,s)}}async function bh(o){if(Ga(o))for(const e of o.da)await e(!0)}async function $u(o){for(const e of o.da)await e(!1)}function aT(o,e){const n=Be(o);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),xp(n)?_p(n):oo(n).O_()&&vp(n,e))}function yp(o,e){const n=Be(o),r=oo(n);n.Ia.delete(e),r.O_()&&lT(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ga(n)&&n.Ra.set("Unknown"))}function vp(o,e){if(o.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=o.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oo(o).Y_(e)}function lT(o,e){o.Va.Ue(e),oo(o).Z_(e)}function _p(o){o.Va=new zC({getRemoteKeysForTarget:e=>o.remoteSyncer.getRemoteKeysForTarget(e),At:e=>o.Ia.get(e)||null,ht:()=>o.datastore.serializer.databaseId}),oo(o).start(),o.Ra.ua()}function xp(o){return Ga(o)&&!oo(o).x_()&&o.Ia.size>0}function Ga(o){return Be(o).Ea.size===0}function oT(o){o.Va=void 0}async function Y4(o){o.Ra.set("Online")}async function Q4(o){o.Ia.forEach(((e,n)=>{vp(o,e)}))}async function X4(o,e){oT(o),xp(o)?(o.Ra.ha(e),_p(o)):o.Ra.set("Unknown")}async function K4(o,e,n){if(o.Ra.set("Online"),e instanceof YS&&e.state===2&&e.cause)try{await(async function(s,a){const u=a.cause;for(const f of a.targetIds)s.Ia.has(f)&&(await s.remoteSyncer.rejectListen(f,u),s.Ia.delete(f),s.Va.removeTarget(f))})(o,e)}catch(r){Ee(Ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lh(o,r)}else if(e instanceof jf?o.Va.Ze(e):e instanceof GS?o.Va.st(e):o.Va.tt(e),!n.isEqual(Le.min()))try{const r=await iT(o.localStore);n.compareTo(r)>=0&&await(function(a,u){const f=a.Va.Tt(u);return f.targetChanges.forEach(((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.Ia.get(d);g&&a.Ia.set(d,g.withResumeToken(h.resumeToken,u))}})),f.targetMismatches.forEach(((h,d)=>{const g=a.Ia.get(h);if(!g)return;a.Ia.set(h,g.withResumeToken(wn.EMPTY_BYTE_STRING,g.snapshotVersion)),lT(a,h);const _=new Ls(g.target,h,d,g.sequenceNumber);vp(a,_)})),a.remoteSyncer.applyRemoteEvent(f)})(o,n)}catch(r){Ee(Ba,"Failed to raise snapshot:",r),await lh(o,r)}}async function lh(o,e,n){if(!lo(e))throw e;o.Ea.add(1),await $u(o),o.Ra.set("Offline"),n||(n=()=>iT(o.localStore)),o.asyncQueue.enqueueRetryable((async()=>{Ee(Ba,"Retrying IndexedDB access"),await n(),o.Ea.delete(1),await bh(o)}))}function uT(o,e){return e().catch((n=>lh(o,n,e)))}async function Ah(o){const e=Be(o),n=$s(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ip;for(;$4(e);)try{const s=await N4(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,W4(e,s)}catch(s){await lh(e,s)}cT(e)&&fT(e)}function $4(o){return Ga(o)&&o.Ta.length<10}function W4(o,e){o.Ta.push(e);const n=$s(o);n.O_()&&n.X_&&n.ea(e.mutations)}function cT(o){return Ga(o)&&!$s(o).x_()&&o.Ta.length>0}function fT(o){$s(o).start()}async function Z4(o){$s(o).ra()}async function J4(o){const e=$s(o);for(const n of o.Ta)e.ea(n.mutations)}async function eM(o,e,n){const r=o.Ta.shift(),s=cp.from(r,e,n);await uT(o,(()=>o.remoteSyncer.applySuccessfulWrite(s))),await Ah(o)}async function tM(o,e){e&&$s(o).X_&&await(async function(r,s){if((function(u){return kC(u)&&u!==ye.ABORTED})(s.code)){const a=r.Ta.shift();$s(r).B_(),await uT(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await Ah(r)}})(o,e),cT(o)&&fT(o)}async function w1(o,e){const n=Be(o);n.asyncQueue.verifyOperationInProgress(),Ee(Ba,"RemoteStore received new credentials");const r=Ga(n);n.Ea.add(3),await $u(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await bh(n)}async function nM(o,e){const n=Be(o);e?(n.Ea.delete(2),await bh(n)):e||(n.Ea.add(2),await $u(n),n.Ra.set("Unknown"))}function oo(o){return o.ma||(o.ma=(function(n,r,s){const a=Be(n);return a.sa(),new B4(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(o.datastore,o.asyncQueue,{Xo:Y4.bind(null,o),t_:Q4.bind(null,o),r_:X4.bind(null,o),H_:K4.bind(null,o)}),o.da.push((async e=>{e?(o.ma.B_(),xp(o)?_p(o):o.Ra.set("Unknown")):(await o.ma.stop(),oT(o))}))),o.ma}function $s(o){return o.fa||(o.fa=(function(n,r,s){const a=Be(n);return a.sa(),new U4(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(o.datastore,o.asyncQueue,{Xo:()=>Promise.resolve(),t_:Z4.bind(null,o),r_:tM.bind(null,o),ta:J4.bind(null,o),na:eM.bind(null,o)}),o.da.push((async e=>{e?(o.fa.B_(),await Ah(o)):(await o.fa.stop(),o.Ta.length>0&&(Ee(Ba,`Stopping write stream with ${o.Ta.length} pending writes`),o.Ta=[]))}))),o.fa}class Sp{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const u=Date.now()+r,f=new Sp(e,n,u,s,a);return f.start(r),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tp(o,e){if(ts("AsyncQueue",`${e}: ${o}`),lo(o))return new De(ye.UNAVAILABLE,`${e}: ${o}`);throw o}class Gl{static emptySet(e){return new Gl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=pu(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Gl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Gl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class R1{constructor(){this.ga=new kt(Ie.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Pe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class io{constructor(e,n,r,s,a,u,f,h,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,a){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new io(e,n,Gl.emptySet(n),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class iM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class rM{constructor(){this.queries=C1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Be(n),a=s.queries;s.queries=C1(),a.forEach(((u,f)=>{for(const h of f.Sa)h.onError(r)}))})(this,new De(ye.ABORTED,"Firestore shutting down"))}}function C1(){return new Ha((o=>NS(o)),vh)}async function sM(o,e){const n=Be(o);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new iM,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const f=Tp(u,`Initialization of query '${kl(e.query)}' failed`);return void e.onError(f)}n.queries.set(s,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Ep(n)}async function aM(o,e){const n=Be(o),r=e.query;let s=3;const a=n.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lM(o,e){const n=Be(o);let r=!1;for(const s of e){const a=s.query,u=n.queries.get(a);if(u){for(const f of u.Sa)f.Fa(s)&&(r=!0);u.wa=s}}r&&Ep(n)}function oM(o,e,n){const r=Be(o),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(n);r.queries.delete(e)}function Ep(o){o.Ca.forEach((e=>{e.next()}))}var Rg,M1;(M1=Rg||(Rg={})).Ma="default",M1.Cache="cache";class uM{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new io(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rg.Cache}}class hT{constructor(e){this.key=e}}class dT{constructor(e){this.key=e}}class cM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ze(),this.mutatedKeys=Ze(),this.eu=IS(e),this.tu=new Gl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new R1,s=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,u=s,f=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,_)=>{const x=s.get(g),p=_h(this.query,_)?_:null,T=!!x&&this.mutatedKeys.has(x.key),S=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;x&&p?x.data.isEqual(p.data)?T!==S&&(r.track({type:3,doc:p}),E=!0):this.su(x,p)||(r.track({type:2,doc:p}),E=!0,(h&&this.eu(p,h)>0||d&&this.eu(p,d)<0)&&(f=!0)):!x&&p?(r.track({type:0,doc:p}),E=!0):x&&!p&&(r.track({type:1,doc:x}),E=!0,(h||d)&&(f=!0)),E&&(p?(u=u.add(p),a=S?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:u,iu:r,Cs:f,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,_)=>(function(p,T){const S=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Rt:E})}};return S(p)-S(T)})(g.type,_.type)||this.eu(g.doc,_.doc))),this.ou(r),s=s??!1;const f=n&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,d=h!==this.Za;return this.Za=h,u.length!==0||d?{snapshot:new io(this.query,e.tu,a,u,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new R1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new dT(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new hT(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bp="SyncEngine";class fM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class hM{constructor(e){this.key=e,this.hu=!1}}class dM{constructor(e,n,r,s,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ha((f=>NS(f)),vh),this.Iu=new Map,this.Eu=new Set,this.du=new kt(Ie.comparator),this.Au=new Map,this.Ru=new dp,this.Vu={},this.mu=new Map,this.fu=no.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mM(o,e,n=!0){const r=_T(o);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await mT(r,e,n,!0),s}async function gM(o,e){const n=_T(o);await mT(n,e,!0,!1)}async function mT(o,e,n,r){const s=await I4(o.localStore,Tr(e)),a=s.targetId,u=o.sharedClientState.addLocalQueryTarget(a,n);let f;return r&&(f=await pM(o,e,a,u==="current",s.resumeToken)),o.isPrimaryClient&&n&&aT(o.remoteStore,s),f}async function pM(o,e,n,r,s){o.pu=(_,x,p)=>(async function(S,E,V,L){let z=E.view.ru(V);z.Cs&&(z=await S1(S.localStore,E.query,!1).then((({documents:R})=>E.view.ru(R,z))));const U=L&&L.targetChanges.get(E.targetId),N=L&&L.targetMismatches.get(E.targetId)!=null,j=E.view.applyChanges(z,S.isPrimaryClient,U,N);return N1(S,E.targetId,j.au),j.snapshot})(o,_,x,p);const a=await S1(o.localStore,e,!0),u=new cM(e,a.Qs),f=u.ru(a.documents),h=Ku.createSynthesizedTargetChangeForCurrentChange(n,r&&o.onlineState!=="Offline",s),d=u.applyChanges(f,o.isPrimaryClient,h);N1(o,n,d.au);const g=new fM(e,n,u);return o.Tu.set(e,g),o.Iu.has(n)?o.Iu.get(n).push(e):o.Iu.set(n,[e]),d.snapshot}async function yM(o,e,n){const r=Be(o),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((u=>!vh(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ag(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&yp(r.remoteStore,s.targetId),Cg(r,s.targetId)})).catch(ao)):(Cg(r,s.targetId),await Ag(r.localStore,s.targetId,!0))}async function vM(o,e){const n=Be(o),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yp(n.remoteStore,r.targetId))}async function _M(o,e,n){const r=wM(o);try{const s=await(function(u,f){const h=Be(u),d=Rt.now(),g=f.reduce(((p,T)=>p.add(T.key)),Ze());let _,x;return h.persistence.runTransaction("Locally write mutations","readwrite",(p=>{let T=ns(),S=Ze();return h.Ns.getEntries(p,g).next((E=>{T=E,T.forEach(((V,L)=>{L.isValidDocument()||(S=S.add(V))}))})).next((()=>h.localDocuments.getOverlayedDocuments(p,T))).next((E=>{_=E;const V=[];for(const L of f){const z=NC(L,_.get(L.key).overlayedDocument);z!=null&&V.push(new qa(L.key,z,bS(z.value.mapValue),Wr.exists(!0)))}return h.mutationQueue.addMutationBatch(p,d,V,f)})).next((E=>{x=E;const V=E.applyToLocalDocumentSet(_,S);return h.documentOverlayCache.saveOverlays(p,E.batchId,V)}))})).then((()=>({batchId:x.batchId,changes:VS(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,f,h){let d=u.Vu[u.currentUser.toKey()];d||(d=new kt(We)),d=d.insert(f,h),u.Vu[u.currentUser.toKey()]=d})(r,s.batchId,n),await Wu(r,s.changes),await Ah(r.remoteStore)}catch(s){const a=Tp(s,"Failed to persist write");n.reject(a)}}async function gT(o,e){const n=Be(o);try{const r=await M4(n.localStore,e);e.targetChanges.forEach(((s,a)=>{const u=n.Au.get(a);u&&(ct(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?ct(u.hu,14607):s.removedDocuments.size>0&&(ct(u.hu,42227),u.hu=!1))})),await Wu(n,r,e)}catch(r){await ao(r)}}function D1(o,e,n){const r=Be(o);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((a,u)=>{const f=u.view.va(e);f.snapshot&&s.push(f.snapshot)})),(function(u,f){const h=Be(u);h.onlineState=f;let d=!1;h.queries.forEach(((g,_)=>{for(const x of _.Sa)x.va(f)&&(d=!0)})),d&&Ep(h)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xM(o,e,n){const r=Be(o);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),a=s&&s.key;if(a){let u=new kt(Ie.comparator);u=u.insert(a,In.newNoDocument(a,Le.min()));const f=Ze().add(a),h=new Th(Le.min(),new Map,new kt(We),u,f);await gT(r,h),r.du=r.du.remove(a),r.Au.delete(e),Ap(r)}else await Ag(r.localStore,e,!1).then((()=>Cg(r,e,n))).catch(ao)}async function SM(o,e){const n=Be(o),r=e.batch.batchId;try{const s=await C4(n.localStore,e);yT(n,r,null),pT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wu(n,s)}catch(s){await ao(s)}}async function TM(o,e,n){const r=Be(o);try{const s=await(function(u,f){const h=Be(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let g;return h.mutationQueue.lookupMutationBatch(d,f).next((_=>(ct(_!==null,37113),g=_.keys(),h.mutationQueue.removeMutationBatch(d,_)))).next((()=>h.mutationQueue.performConsistencyCheck(d))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(d,g,f))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g))).next((()=>h.localDocuments.getDocuments(d,g)))}))})(r.localStore,e);yT(r,e,n),pT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wu(r,s)}catch(s){await ao(s)}}function pT(o,e){(o.mu.get(e)||[]).forEach((n=>{n.resolve()})),o.mu.delete(e)}function yT(o,e,n){const r=Be(o);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Cg(o,e,n=null){o.sharedClientState.removeLocalQueryTarget(e);for(const r of o.Iu.get(e))o.Tu.delete(r),n&&o.Pu.yu(r,n);o.Iu.delete(e),o.isPrimaryClient&&o.Ru.jr(e).forEach((r=>{o.Ru.containsKey(r)||vT(o,r)}))}function vT(o,e){o.Eu.delete(e.path.canonicalString());const n=o.du.get(e);n!==null&&(yp(o.remoteStore,n),o.du=o.du.remove(e),o.Au.delete(n),Ap(o))}function N1(o,e,n){for(const r of n)r instanceof hT?(o.Ru.addReference(r.key,e),EM(o,r)):r instanceof dT?(Ee(bp,"Document no longer in limbo: "+r.key),o.Ru.removeReference(r.key,e),o.Ru.containsKey(r.key)||vT(o,r.key)):Pe(19791,{wu:r})}function EM(o,e){const n=e.key,r=n.path.canonicalString();o.du.get(n)||o.Eu.has(r)||(Ee(bp,"New document in limbo: "+n),o.Eu.add(r),Ap(o))}function Ap(o){for(;o.Eu.size>0&&o.du.size<o.maxConcurrentLimboResolutions;){const e=o.Eu.values().next().value;o.Eu.delete(e);const n=new Ie(Vt.fromString(e)),r=o.fu.next();o.Au.set(r,new hM(n)),o.du=o.du.insert(n,r),aT(o.remoteStore,new Ls(Tr(op(n.path)),r,"TargetPurposeLimboResolution",mh.ce))}}async function Wu(o,e,n){const r=Be(o),s=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((f,h)=>{u.push(r.pu(h,e,n).then((d=>{if((d||n)&&r.isPrimaryClient){const g=d?!d.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(d){s.push(d);const g=gp.As(h.targetId,d);a.push(g)}})))})),await Promise.all(u),r.Pu.H_(s),await(async function(h,d){const g=Be(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>me.forEach(d,(x=>me.forEach(x.Es,(p=>g.persistence.referenceDelegate.addReference(_,x.targetId,p))).next((()=>me.forEach(x.ds,(p=>g.persistence.referenceDelegate.removeReference(_,x.targetId,p)))))))))}catch(_){if(!lo(_))throw _;Ee(pp,"Failed to update sequence numbers: "+_)}for(const _ of d){const x=_.targetId;if(!_.fromCache){const p=g.Ms.get(x),T=p.snapshotVersion,S=p.withLastLimboFreeSnapshotVersion(T);g.Ms=g.Ms.insert(x,S)}}})(r.localStore,a))}async function bM(o,e){const n=Be(o);if(!n.currentUser.isEqual(e)){Ee(bp,"User change. New user:",e.toKey());const r=await nT(n.localStore,e);n.currentUser=e,(function(a,u){a.mu.forEach((f=>{f.forEach((h=>{h.reject(new De(ye.CANCELLED,u))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wu(n,r.Ls)}}function AM(o,e){const n=Be(o),r=n.Au.get(e);if(r&&r.hu)return Ze().add(r.key);{let s=Ze();const a=n.Iu.get(e);if(!a)return s;for(const u of a){const f=n.Tu.get(u);s=s.unionWith(f.view.nu)}return s}}function _T(o){const e=Be(o);return e.remoteStore.remoteSyncer.applyRemoteEvent=gT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xM.bind(null,e),e.Pu.H_=lM.bind(null,e.eventManager),e.Pu.yu=oM.bind(null,e.eventManager),e}function wM(o){const e=Be(o);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TM.bind(null,e),e}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Eh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return R4(this.persistence,new b4,e.initialUser,this.serializer)}Cu(e){return new tT(mp.mi,this.serializer)}Du(e){return new V4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class RM extends oh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ct(this.persistence.referenceDelegate instanceof ah,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new u4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Yn.withCacheSize(this.cacheSizeBytes):Yn.DEFAULT;return new tT((r=>ah.mi(r,n)),this.serializer)}}class Mg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bM.bind(null,this.syncEngine),await nM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new rM})()}createDatastore(e){const n=Eh(e.databaseInfo.databaseId),r=(function(a){return new z4(a)})(e.databaseInfo);return(function(a,u,f,h){return new H4(a,u,f,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,a,u,f){return new G4(r,s,a,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>D1(this.syncEngine,n,0)),(function(){return b1.v()?new b1:new P4})())}createSyncEngine(e,n){return(function(s,a,u,f,h,d,g){const _=new dM(s,a,u,f,h,d);return g&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Be(n);Ee(Ba,"RemoteStore shutting down."),r.Ea.add(5),await $u(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Mg.provider={build:()=>new Mg};class CM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ws="FirestoreClient";class MM{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Nn.UNAUTHENTICATED,this.clientId=tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{Ee(Ws,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(Ee(Ws,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Tp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Qm(o,e){o.asyncQueue.verifyOperationInProgress(),Ee(Ws,"Initializing OfflineComponentProvider");const n=o.configuration;await e.initialize(n);let r=n.initialUser;o.setCredentialChangeListener((async s=>{r.isEqual(s)||(await nT(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>o.terminate())),o._offlineComponents=e}async function I1(o,e){o.asyncQueue.verifyOperationInProgress();const n=await DM(o);Ee(Ws,"Initializing OnlineComponentProvider"),await e.initialize(n,o.configuration),o.setCredentialChangeListener((r=>w1(e.remoteStore,r))),o.setAppCheckTokenChangeListener(((r,s)=>w1(e.remoteStore,s))),o._onlineComponents=e}async function DM(o){if(!o._offlineComponents)if(o._uninitializedComponentsProvider){Ee(Ws,"Using user provided OfflineComponentProvider");try{await Qm(o,o._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ye.FAILED_PRECONDITION||s.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Zl("Error using user provided cache. Falling back to memory cache: "+n),await Qm(o,new oh)}}else Ee(Ws,"Using default OfflineComponentProvider"),await Qm(o,new RM(void 0));return o._offlineComponents}async function xT(o){return o._onlineComponents||(o._uninitializedComponentsProvider?(Ee(Ws,"Using user provided OnlineComponentProvider"),await I1(o,o._uninitializedComponentsProvider._online)):(Ee(Ws,"Using default OnlineComponentProvider"),await I1(o,new Mg))),o._onlineComponents}function NM(o){return xT(o).then((e=>e.syncEngine))}async function IM(o){const e=await xT(o),n=e.eventManager;return n.onListen=mM.bind(null,e.syncEngine),n.onUnlisten=yM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vM.bind(null,e.syncEngine),n}function OM(o,e,n={}){const r=new Hs;return o.asyncQueue.enqueueAndForget((async()=>(function(a,u,f,h,d){const g=new CM({next:x=>{g.Nu(),u.enqueueAndForget((()=>aM(a,_)));const p=x.docs.has(f);!p&&x.fromCache?d.reject(new De(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&x.fromCache&&h&&h.source==="server"?d.reject(new De(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(x)},error:x=>d.reject(x)}),_=new uM(op(f.path),g,{includeMetadataChanges:!0,qa:!0});return sM(a,_)})(await IM(o),o.asyncQueue,e,n,r))),r.promise}function ST(o){const e={};return o.timeoutSeconds!==void 0&&(e.timeoutSeconds=o.timeoutSeconds),e}const O1=new Map;const TT="firestore.googleapis.com",V1=!0;class P1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new De(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TT,this.ssl=V1}else this.host=e.host,this.ssl=e.ssl??V1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<l4)throw new De(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ST(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new De(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new De(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new De(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new OR;switch(r.type){case"firstParty":return new LR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new De(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=O1.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),O1.delete(n),r.terminate())})(this),Promise.resolve()}}function VM(o,e,n,r={}){o=Lu(o,wp);const s=Zg(e),a=o._getSettings(),u={...a,emulatorOptions:o._getEmulatorOptions()},f=`${e}:${n}`;s&&(aw(`https://${f}`),cw("Firestore",!0)),a.host!==TT&&a.host!==f&&Zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:f,ssl:s,emulatorOptions:r};if(!Xf(h,u)&&(o._setSettings(h),r.mockUserToken)){let d,g;if(typeof r.mockUserToken=="string")d=r.mockUserToken,g=Nn.MOCK_USER;else{d=lw(r.mockUserToken,o._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new De(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Nn(_)}o._authCredentials=new VR(new dS(d,g))}}class Rp{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Rp(this.firestore,e,this._query)}}class gn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}toJSON(){return{type:gn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Qu(n,gn._jsonSchema))return new gn(e,r||null,new Ie(Vt.fromString(n.referencePath)))}}gn._jsonSchemaVersion="firestore/documentReference/1.0",gn._jsonSchema={type:an("string",gn._jsonSchemaVersion),referencePath:an("string")};class qu extends Rp{constructor(e,n,r){super(e,n,op(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new Ie(e))}withConverter(e){return new qu(this.firestore,e,this._path)}}function ET(o,e,...n){if(o=Kf(o),arguments.length===1&&(e=tp.newId()),HR("doc","path",e),o instanceof wp){const r=Vt.fromString(e,...n);return K_(r),new gn(o,null,new Ie(r))}{if(!(o instanceof gn||o instanceof qu))throw new De(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=o._path.child(Vt.fromString(e,...n));return K_(r),new gn(o.firestore,o instanceof qu?o.converter:null,new Ie(r))}}const k1="AsyncQueue";class L1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rT(this,"async_queue_retry"),this._c=()=>{const r=Ym();r&&Ee(k1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ym();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ym();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Hs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!lo(e))throw e;Ee(k1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",j1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Sp.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&Pe(47125,{Pc:j1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function j1(o){let e=o.message||"";return o.stack&&(e=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),e}class Cp extends wp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new L1,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new L1(e),this._firestoreClient=void 0,await e}}}function PM(o,e){const n=typeof o=="object"?o:xR(),r=typeof o=="string"?o:Jf,s=gR(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=rw("firestore");a&&VM(s,...a)}return s}function bT(o){if(o._terminated)throw new De(ye.FAILED_PRECONDITION,"The client has already been terminated.");return o._firestoreClient||kM(o),o._firestoreClient}function kM(o){const e=o._freezeSettings(),n=(function(s,a,u,f){return new tC(s,a,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,ST(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(o._databaseId,o._app?.options.appId||"",o._persistenceKey,e);o._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(o._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),o._firestoreClient=new MM(o._authCredentials,o._appCheckCredentials,o._queue,n,o._componentsProvider&&(function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}})(o._componentsProvider))}class Ii{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ii(wn.fromBase64String(e))}catch(n){throw new De(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ii(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qu(e,Ii._jsonSchema))return Ii.fromBase64String(e.bytes)}}Ii._jsonSchemaVersion="firestore/bytes/1.0",Ii._jsonSchema={type:an("string",Ii._jsonSchemaVersion),bytes:an("string")};class Mp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new De(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class AT{constructor(e){this._methodName=e}}class br{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new De(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new De(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:br._jsonSchemaVersion}}static fromJSON(e){if(Qu(e,br._jsonSchema))return new br(e.latitude,e.longitude)}}br._jsonSchemaVersion="firestore/geoPoint/1.0",br._jsonSchema={type:an("string",br._jsonSchemaVersion),latitude:an("number"),longitude:an("number")};class Ar{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ar._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qu(e,Ar._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ar(e.vectorValues);throw new De(ye.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ar._jsonSchemaVersion="firestore/vectorValue/1.0",Ar._jsonSchema={type:an("string",Ar._jsonSchemaVersion),vectorValues:an("object")};const LM=/^__.*__$/;class jM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xu(e,this.data,n,this.fieldTransforms)}}function wT(o){switch(o){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ac:o})}}class Dp{constructor(e,n,r,s,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Dp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return uh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(wT(this.Ac)&&LM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class zM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Eh(e)}Cc(e,n,r,s=!1){return new Dp({Ac:e,methodName:n,Dc:r,path:bn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function BM(o){const e=o._freezeSettings(),n=Eh(o._databaseId);return new zM(o._databaseId,!!e.ignoreUndefinedProperties,n)}function UM(o,e,n,r,s,a={}){const u=o.Cc(a.merge||a.mergeFields?2:0,e,n,s);DT("Data must be an object, but it was:",u,r);const f=CT(r,u);let h,d;if(a.merge)h=new Ki(u.fieldMask),d=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const x=FM(e,_,n);if(!u.contains(x))throw new De(ye.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);qM(g,x)||g.push(x)}h=new Ki(g),d=u.fieldTransforms.filter((_=>h.covers(_.field)))}else h=null,d=u.fieldTransforms;return new jM(new Ni(f),h,d)}function RT(o,e){if(MT(o=Kf(o)))return DT("Unsupported field value:",e,o),CT(o,e);if(o instanceof AT)return(function(r,s){if(!wT(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(o,e),null;if(o===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),o instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const a=[];let u=0;for(const f of r){let h=RT(f,s.wc(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}})(o,e)}return(function(r,s){if((r=Kf(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return AC(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Rt.fromDate(r);return{timestampValue:sh(s.serializer,a)}}if(r instanceof Rt){const a=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sh(s.serializer,a)}}if(r instanceof br)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ii)return{bytesValue:QS(s.serializer,r._byteString)};if(r instanceof gn){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:hp(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ar)return(function(u,f){return{mapValue:{fields:{[TS]:{stringValue:ES},[eh]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw f.Sc("VectorValues must only contain numeric values.");return up(f.serializer,d)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${np(r)}`)})(o,e)}function CT(o,e){const n={};return pS(o)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fa(o,((r,s)=>{const a=RT(s,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function MT(o){return!(typeof o!="object"||o===null||o instanceof Array||o instanceof Date||o instanceof Rt||o instanceof br||o instanceof Ii||o instanceof gn||o instanceof AT||o instanceof Ar)}function DT(o,e,n){if(!MT(n)||!mS(n)){const r=np(n);throw r==="an object"?e.Sc(o+" a custom object"):e.Sc(o+" "+r)}}function FM(o,e,n){if((e=Kf(e))instanceof Mp)return e._internalPath;if(typeof e=="string")return NT(o,e);throw uh("Field path arguments must be of type string or ",o,!1,void 0,n)}const HM=new RegExp("[~\\*/\\[\\]]");function NT(o,e,n){if(e.search(HM)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,o,!1,void 0,n);try{return new Mp(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,o,!1,void 0,n)}}function uh(o,e,n,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${r}`),u&&(h+=` in document ${s}`),h+=")"),new De(ye.INVALID_ARGUMENT,f+o+h)}function qM(o,e){return o.some((n=>n.isEqual(e)))}class IT{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(OT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GM extends IT{data(){return super.data()}}function OT(o,e){return typeof e=="string"?NT(o,e):e instanceof Mp?e._internalPath:e._delegate._internalPath}class YM{convertValue(e,n="none"){switch(Ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fa(e,((s,a)=>{r[s]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[eh].arrayValue?.values?.map((r=>Gt(r.doubleValue)));return new Ar(n)}convertGeoPoint(e){return new br(Gt(e.latitude),Gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ph(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zu(e));default:return null}}convertTimestamp(e){const n=Qs(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Vt.fromString(e);ct(JS(r),9688,{name:e});const s=new Bu(r.get(1),r.get(3)),a=new Ie(r.popFirst(5));return s.isEqual(n)||ts(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}function QM(o,e,n){let r;return r=o?o.toFirestore(e):e,r}class vu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class La extends IT{constructor(e,n,r,s,a,u){super(e,n,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(OT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new De(ye.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=La._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}La._jsonSchemaVersion="firestore/documentSnapshot/1.0",La._jsonSchema={type:an("string",La._jsonSchemaVersion),bundleSource:an("string","DocumentSnapshot"),bundleName:an("string"),bundle:an("string")};class zf extends La{data(e={}){return super.data(e)}}class Ru{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new vu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new zf(this._firestore,this._userDataWriter,r.key,r,new vu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new De(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((f=>{const h=new zf(s._firestore,s._userDataWriter,f.doc.key,f.doc,new vu(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((f=>a||f.type!==3)).map((f=>{const h=new zf(s._firestore,s._userDataWriter,f.doc.key,f.doc,new vu(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,g=-1;return f.type!==0&&(d=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),g=u.indexOf(f.doc.key)),{type:XM(f.type),doc:h,oldIndex:d,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new De(ye.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ru._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function XM(o){switch(o){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:o})}}function KM(o){o=Lu(o,gn);const e=Lu(o.firestore,Cp);return OM(bT(e),o._key).then((n=>JM(e,o,n)))}Ru._jsonSchemaVersion="firestore/querySnapshot/1.0",Ru._jsonSchema={type:an("string",Ru._jsonSchemaVersion),bundleSource:an("string","QuerySnapshot"),bundleName:an("string"),bundle:an("string")};class $M extends YM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ii(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function WM(o,e,n){o=Lu(o,gn);const r=Lu(o.firestore,Cp),s=QM(o.converter,e);return ZM(r,[UM(BM(r),"setDoc",o._key,s,o.converter!==null,n).toMutation(o._key,Wr.none())])}function ZM(o,e){return(function(r,s){const a=new Hs;return r.asyncQueue.enqueueAndForget((async()=>_M(await NM(r),s,a))),a.promise})(bT(o),e)}function JM(o,e,n){const r=n.docs.get(e._key),s=new $M(o);return new La(o,s,e._key,r,new vu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){so=s})(_R),Wf(new Pu("firestore",((r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),f=new Cp(new PR(r.getProvider("auth-internal")),new jR(u,r.getProvider("app-check-internal")),(function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new De(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(d.options.projectId,g)})(u,s),u);return a={useFetchStreams:n,...a},f._setSettings(a),f}),"PUBLIC").setMultipleInstances(!0)),ql(G_,Y_,e),ql(G_,Y_,"esm2020")})();const eD={apiKey:"AIzaSyAmIGT9nruL8_xOC-IvTjgD9pP40VWMGHg",authDomain:"drive-car-1b458.firebaseapp.com",projectId:"drive-car-1b458",storageBucket:"drive-car-1b458.firebasestorage.app",messagingSenderId:"72708338524",appId:"1:72708338524:web:df16803e5cc4b6af14c799"};let z1,Gu;try{z1=iS(eD),Gu=PM(z1),console.log(" Firebase ")}catch(o){console.error(" Firebase :",o),console.warn("  localStorage ")}const tD=async(o,e)=>{try{if(!Gu)return console.warn(" Firebase  localStorage "),localStorage.setItem(`custom-level-${o}`,JSON.stringify(e)),{success:!0,storage:"localStorage"};const n=ET(Gu,"customLevels",`level-${o}`);return await WM(n,{levelNumber:o,data:e,updatedAt:new Date().toISOString(),version:"3.9.0"}),console.log(`  ${o}  Firebase`),localStorage.setItem(`custom-level-${o}`,JSON.stringify(e)),{success:!0,storage:"firebase"}}catch(n){console.error(" Firebase :",n);try{return localStorage.setItem(`custom-level-${o}`,JSON.stringify(e)),console.log("  localStorage "),{success:!0,storage:"localStorage",warning:n.message}}catch(r){return{success:!1,error:r.message}}}},VT=async o=>{try{if(!Gu){console.warn(" Firebase  localStorage ");const s=localStorage.getItem(`custom-level-${o}`);return s?{data:JSON.parse(s),source:"localStorage"}:{data:null,source:"none"}}const e=ET(Gu,"customLevels",`level-${o}`),n=await KM(e);if(n.exists()){const s=n.data();return console.log(`  Firebase  ${o}`),localStorage.setItem(`custom-level-${o}`,JSON.stringify(s.data)),{data:s.data,source:"firebase"}}const r=localStorage.getItem(`custom-level-${o}`);return r?(console.log(`  localStorage  ${o}`),{data:JSON.parse(r),source:"localStorage"}):{data:null,source:"none"}}catch(e){console.error(" Firebase :",e);try{const n=localStorage.getItem(`custom-level-${o}`);return n?(console.log("  localStorage "),{data:JSON.parse(n),source:"localStorage"}):{data:null,source:"none"}}catch(n){return console.error(" localStorage :",n),{data:null,source:"error"}}}},PT=({onBack:o})=>{const e=ae.useRef(null),[n,r]=ae.useState(1),[s,a]=ae.useState(null),[u,f]=ae.useState(null),[h,d]=ae.useState(!1),[g,_]=ae.useState({x:0,y:0}),[x,p]=ae.useState("select"),T=1200,S=900,E=60,V=120,L=[{id:"car",name:"",icon:"",width:60,height:100,color:"#3B82F6"},{id:"wall",name:"",icon:"",width:15,height:150,color:"#6B7280"},{id:"pillar",name:"",icon:"",width:22,height:22,color:"#374151"},{id:"cone",name:"",icon:"",width:15,height:15,color:"#F59E0B"},{id:"sidewalk",name:"",icon:"",width:300,height:40,color:"#92400E"},{id:"curb",name:"",icon:"",width:200,height:20,color:"#78350F"},{id:"barrier",name:"",icon:"",width:20,height:20,color:"#DC2626"}];ae.useEffect(()=>{z(n)},[n]);const z=async H=>{try{const $=await VT(H);if($.data){console.log(`  ${H} (: ${$.source})`),a($.data);return}const J=await B1(Object.assign({"../../data/levels/level01.json":()=>ut(()=>import("./level01-BVmRH4ct.js"),[]),"../../data/levels/level02.json":()=>ut(()=>import("./level02-BTX95H3G.js"),[]),"../../data/levels/level03.json":()=>ut(()=>import("./level03-CWDJl8SF.js"),[]),"../../data/levels/level04.json":()=>ut(()=>import("./level04-JKluZ-IS.js"),[]),"../../data/levels/level05.json":()=>ut(()=>import("./level05-CuSOsyTs.js"),[]),"../../data/levels/level06.json":()=>ut(()=>import("./level06-BUMF8VpH.js"),[]),"../../data/levels/level07.json":()=>ut(()=>import("./level07-B64mG67k.js"),[]),"../../data/levels/level08.json":()=>ut(()=>import("./level08-BwIK40qU.js"),[]),"../../data/levels/level09.json":()=>ut(()=>import("./level09-BUdsw_jL.js"),[]),"../../data/levels/level10.json":()=>ut(()=>import("./level10-BQHnZyUB.js"),[]),"../../data/levels/level11.json":()=>ut(()=>import("./level11-CGhrQ_az.js"),[]),"../../data/levels/level12.json":()=>ut(()=>import("./level12-BShVOj8z.js"),[]),"../../data/levels/level13.json":()=>ut(()=>import("./level13-Dn50y8MJ.js"),[]),"../../data/levels/level14.json":()=>ut(()=>import("./level14-CUSrr0ea.js"),[]),"../../data/levels/level15.json":()=>ut(()=>import("./level15-CJh6r2PV.js"),[])}),`../../data/levels/level${H.toString().padStart(2,"0")}.json`,5);console.log(`  ${H}`),a(J.default)}catch($){console.error(`Failed to load level ${H}:`,$),a({levelNumber:H,title:`Custom Level ${H}`,difficulty:"custom",parkingSpot:{x:400,y:300,width:70,height:130,angle:0},obstacles:[],carStartPosition:{x:200,y:500,angle:0},timeLimit:120,par:{time:60,accuracy:95,collisions:0},hints:[]})}},U=async()=>{if(!s)return;const H=N(s);if(!H.valid){alert(`
${H.errors.join(`
`)}`);return}const $=await tD(n,s);if($.success){const J=$.storage==="firebase"?"Firebase ":"localStorage ";alert(`  ${n}  ${J}`),$.warning&&console.warn(" Firebase :",$.warning)}else alert(` ${$.error}`)},N=H=>{const $=[],J=H.parkingSpot;return(J.width<E||J.height<V)&&$.push(` (${J.width}${J.height}) ${E}${V}`),{valid:$.length===0,errors:$}};ae.useEffect(()=>{const H=e.current;if(!H||!s)return;const $=H.getContext("2d");j($,s)},[s,u]);const j=(H,$)=>{H.fillStyle="#1F2937",H.fillRect(0,0,T,S),H.strokeStyle="#374151",H.lineWidth=1;for(let J=0;J<T;J+=50)H.beginPath(),H.moveTo(J,0),H.lineTo(J,S),H.stroke();for(let J=0;J<S;J+=50)H.beginPath(),H.moveTo(0,J),H.lineTo(T,J),H.stroke();R(H,$.parkingSpot,u?.type==="parkingSpot"),b(H,$.carStartPosition,u?.type==="carStart"),$.obstacles.forEach((J,he)=>{C(H,J,u?.type==="obstacle"&&u?.index===he)})},R=(H,$,J)=>{H.save(),H.translate($.x,$.y),H.rotate($.angle||0),H.strokeStyle=J?"#10B981":"#F59E0B",H.lineWidth=J?4:2,H.setLineDash([10,5]),H.strokeRect(-$.width/2,-$.height/2,$.width,$.height),H.setLineDash([]),H.fillStyle=J?"rgba(16, 185, 129, 0.1)":"rgba(245, 158, 11, 0.1)",H.fillRect(-$.width/2,-$.height/2,$.width,$.height),H.fillStyle="#F59E0B",H.font="bold 16px sans-serif",H.textAlign="center",H.fillText(" ",0,0),H.restore()},b=(H,$,J)=>{H.save(),H.translate($.x,$.y),H.rotate($.angle||0),H.strokeStyle=J?"#10B981":"#3B82F6",H.fillStyle=J?"rgba(16, 185, 129, 0.3)":"rgba(59, 130, 246, 0.3)",H.lineWidth=J?4:2,H.fillRect(-E/2,-V/2,E,V),H.strokeRect(-E/2,-V/2,E,V),H.fillStyle="#3B82F6",H.beginPath(),H.moveTo(0,-V/2-10),H.lineTo(-10,-V/2),H.lineTo(10,-V/2),H.closePath(),H.fill(),H.restore()},C=(H,$,J)=>{const he=L.find(ge=>ge.id===$.type);he&&(H.save(),H.translate($.x,$.y),H.rotate($.angle||0),H.fillStyle=J?"rgba(16, 185, 129, 0.5)":`${he.color}CC`,H.strokeStyle=J?"#10B981":he.color,H.lineWidth=J?4:2,H.fillRect(-$.width/2,-$.height/2,$.width,$.height),H.strokeRect(-$.width/2,-$.height/2,$.width,$.height),H.font="20px sans-serif",H.textAlign="center",H.textBaseline="middle",H.fillText(he.icon,0,0),H.restore())},w=H=>{const $=e.current;if(!$||!s)return;const J=$.getBoundingClientRect(),he=H.clientX-J.left,ge=H.clientY-J.top;if(x.startsWith("add-")){const Me=x.replace("add-","");te(Me,he,ge),p("select");return}const xe=P(he,ge);xe?(f(xe),d(!0),_({x:he-xe.object.x,y:ge-xe.object.y})):f(null)},M=H=>{if(!h||!u||!s)return;const J=e.current.getBoundingClientRect(),he=H.clientX-J.left,ge=H.clientY-J.top,xe=he-g.x,Me=ge-g.y;ce(u,xe,Me)},I=()=>{d(!1)},P=(H,$)=>{if(!s)return null;const J=s.parkingSpot;if(ee(H,$,J.x,J.y,J.width,J.height,J.angle||0))return{type:"parkingSpot",object:J};const he=s.carStartPosition;if(ee(H,$,he.x,he.y,E,V,he.angle||0))return{type:"carStart",object:he};for(let ge=s.obstacles.length-1;ge>=0;ge--){const xe=s.obstacles[ge];if(ee(H,$,xe.x,xe.y,xe.width,xe.height,xe.angle||0))return{type:"obstacle",object:xe,index:ge}}return null},ee=(H,$,J,he,ge,xe,Me)=>{const Se=Math.cos(-Me),Oe=Math.sin(-Me),Ue=H-J,Ge=$-he,Pn=Ue*Se-Ge*Oe,yn=Ue*Oe+Ge*Se;return Math.abs(Pn)<=ge/2&&Math.abs(yn)<=xe/2},te=(H,$,J)=>{const he=L.find(Se=>Se.id===H);if(!he)return;const ge={type:H,x:$,y:J,width:he.width,height:he.height,angle:0},xe=q(ge,s);ge.x=xe.x,ge.y=xe.y;const Me={...s,obstacles:[...s.obstacles,ge]};a(Me),f({type:"obstacle",object:ge,index:Me.obstacles.length-1})},q=(H,$)=>{let J=H.x,he=H.y;const ge=20;let xe=0;for(;xe<ge;){let Me=!1;const Se={...H,x:J,y:he},Oe=W(Se,{...$.parkingSpot,width:$.parkingSpot.width,height:$.parkingSpot.height});Oe.overlapping&&(J+=Oe.pushX,he+=Oe.pushY,Me=!0);for(const Ue of $.obstacles){if(Ue===H)continue;const Ge=W(Se,Ue);if(Ge.overlapping){J+=Ge.pushX,he+=Ge.pushY,Me=!0;break}}if(!Me)break;xe++}return J=Math.max(H.width/2+10,Math.min(T-H.width/2-10,J)),he=Math.max(H.height/2+10,Math.min(S-H.height/2-10,he)),{x:J,y:he}},W=(H,$)=>{const J=$.x-H.x,he=$.y-H.y,ge=(H.width+$.width)/2,xe=(H.height+$.height)/2,Me=ge-Math.abs(J),Se=xe-Math.abs(he);if(Me>0&&Se>0){let Oe=0,Ue=0;return Me<Se?Oe=J>0?-Me:Me:Ue=he>0?-Se:Se,{overlapping:!0,pushX:Oe,pushY:Ue}}return{overlapping:!1,pushX:0,pushY:0}},ce=(H,$,J)=>{const he={...s};if(H.type==="parkingSpot")he.parkingSpot={...he.parkingSpot,x:$,y:J};else if(H.type==="carStart")he.carStartPosition={...he.carStartPosition,x:$,y:J};else if(H.type==="obstacle"){he.obstacles=[...he.obstacles];const ge={...he.obstacles[H.index],x:$,y:J},xe=q(ge,he);ge.x=xe.x,ge.y=xe.y,he.obstacles[H.index]=ge}a(he)},ve=H=>{if(!u)return;const $=H*Math.PI/180,J={...s};u.type==="parkingSpot"?J.parkingSpot={...J.parkingSpot,angle:$}:u.type==="carStart"?J.carStartPosition={...J.carStartPosition,angle:$}:u.type==="obstacle"&&(J.obstacles=[...J.obstacles],J.obstacles[u.index]={...J.obstacles[u.index],angle:$}),a(J),f({...u,object:{...u.object,angle:$}})},we=(H,$)=>{if(!u||u.type==="carStart")return;const J={...s};u.type==="parkingSpot"?J.parkingSpot={...J.parkingSpot,[H]:$}:u.type==="obstacle"&&(J.obstacles=[...J.obstacles],J.obstacles[u.index]={...J.obstacles[u.index],[H]:$}),a(J),f({...u,object:{...u.object,[H]:$}})},Y=()=>{if(!u||u.type!=="obstacle")return;const H={...s,obstacles:s.obstacles.filter(($,J)=>J!==u.index)};a(H),f(null)};return k.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col",children:[k.jsx("div",{className:"bg-gray-800 border-b border-gray-700 p-4",children:k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{className:"flex items-center gap-4",children:[k.jsx("button",{onClick:o,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:" "}),k.jsx("h1",{className:"text-2xl font-bold text-white",children:" "}),k.jsx("select",{value:n,onChange:H=>r(Number(H.target.value)),className:"bg-gray-700 text-white px-4 py-2 rounded-lg font-semibold",children:Array.from({length:15},(H,$)=>$+1).map(H=>k.jsxs("option",{value:H,children:[" ",H]},H))})]}),k.jsx("button",{onClick:U,className:"bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg font-semibold transition-colors",children:" "})]})}),k.jsxs("div",{className:"flex-1 flex",children:[k.jsxs("div",{className:"bg-gray-800 border-r border-gray-700 p-4 w-64",children:[k.jsx("h3",{className:"text-white font-bold mb-4",children:" "}),k.jsxs("div",{className:"space-y-2",children:[k.jsx("button",{onClick:()=>p("select"),className:`w-full px-4 py-2 rounded-lg font-semibold transition-colors ${x==="select"?"bg-blue-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:" "}),k.jsx("div",{className:"border-t border-gray-700 my-4"}),k.jsx("h4",{className:"text-gray-400 text-sm font-semibold mb-2",children:""}),L.map(H=>k.jsxs("button",{onClick:()=>p(`add-${H.id}`),className:`w-full px-4 py-2 rounded-lg font-semibold transition-colors text-left ${x===`add-${H.id}`?"bg-blue-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[H.icon," ",H.name]},H.id))]})]}),k.jsx("div",{className:"flex-1 flex items-center justify-center p-8 bg-gray-900",children:k.jsx("canvas",{ref:e,width:T,height:S,onMouseDown:w,onMouseMove:M,onMouseUp:I,onMouseLeave:I,className:"border-4 border-gray-700 rounded-lg shadow-2xl cursor-pointer"})}),k.jsxs("div",{className:"bg-gray-800 border-l border-gray-700 p-4 w-64 overflow-y-auto",children:[k.jsx("h3",{className:"text-white font-bold mb-4",children:" "}),u?k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{children:[k.jsx("label",{className:"text-gray-400 text-sm",children:""}),k.jsxs("p",{className:"text-white font-semibold",children:[u.type==="parkingSpot"&&" ",u.type==="carStart"&&" ",u.type==="obstacle"&&`${L.find(H=>H.id===u.object.type)?.icon} ${L.find(H=>H.id===u.object.type)?.name}`]})]}),k.jsxs("div",{children:[k.jsx("label",{className:"text-gray-400 text-sm",children:""}),k.jsxs("p",{className:"text-white",children:["X: ",Math.round(u.object.x),", Y: ",Math.round(u.object.y)]})]}),k.jsxs("div",{children:[k.jsx("label",{className:"text-gray-400 text-sm mb-2 block",children:""}),k.jsx("input",{type:"range",min:"0",max:"360",value:(u.object.angle||0)*180/Math.PI,onChange:H=>ve(Number(H.target.value)),className:"w-full"}),k.jsxs("p",{className:"text-white text-center",children:[Math.round((u.object.angle||0)*180/Math.PI),""]})]}),(u.type==="parkingSpot"||u.type==="obstacle")&&k.jsxs(k.Fragment,{children:[k.jsxs("div",{children:[k.jsx("label",{className:"text-gray-400 text-sm mb-2 block",children:""}),k.jsx("input",{type:"number",min:"10",max:"500",value:u.object.width,onChange:H=>we("width",Number(H.target.value)),className:"w-full bg-gray-700 text-white px-3 py-2 rounded"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"text-gray-400 text-sm mb-2 block",children:""}),k.jsx("input",{type:"number",min:"10",max:"500",value:u.object.height,onChange:H=>we("height",Number(H.target.value)),className:"w-full bg-gray-700 text-white px-3 py-2 rounded"})]})]}),u.type==="obstacle"&&k.jsx("button",{onClick:Y,className:"w-full bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:" "}),k.jsx("div",{className:"border-t border-gray-700 pt-4",children:k.jsx("button",{onClick:()=>f(null),className:"w-full bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg font-semibold transition-colors",children:""})})]}):k.jsx("p",{className:"text-gray-500 text-sm",children:""})]})]}),k.jsx("div",{className:"bg-gray-800 border-t border-gray-700 p-3 text-center",children:k.jsx("p",{className:"text-gray-400 text-sm",children:"  | "})})]})};PT.propTypes={onBack:ke.func.isRequired};const kT=ae.createContext(null),LT={currentLevel:1,levelProgress:Array.from({length:15},(o,e)=>({levelNumber:e+1,unlocked:e===0,stars:0,bestScore:0,attempts:0,completed:!1})),settings:{soundEnabled:!0,musicEnabled:!0,showTutorial:!0},totalScore:0,lastPlayedLevel:1},Di={SET_LEVEL:"SET_LEVEL",COMPLETE_LEVEL:"COMPLETE_LEVEL",UNLOCK_LEVEL:"UNLOCK_LEVEL",UPDATE_SETTINGS:"UPDATE_SETTINGS",LOAD_PROGRESS:"LOAD_PROGRESS",RESET_PROGRESS:"RESET_PROGRESS"},nD=(o,e)=>{switch(e.type){case Di.SET_LEVEL:return{...o,currentLevel:e.payload,lastPlayedLevel:e.payload};case Di.COMPLETE_LEVEL:{const{levelNumber:n,stars:r,score:s}=e.payload,a=[...o.levelProgress],u=n-1,f=a[u];a[u]={...f,completed:!0,stars:Math.max(f.stars,r),bestScore:Math.max(f.bestScore,s),attempts:f.attempts+1},n<15&&(a[n].unlocked=!0);const h=a.reduce((d,g)=>d+g.bestScore,0);return{...o,levelProgress:a,totalScore:h}}case Di.UNLOCK_LEVEL:{const{levelNumber:n}=e.payload,r=[...o.levelProgress];return n>0&&n<=15&&(r[n-1].unlocked=!0),{...o,levelProgress:r}}case Di.UPDATE_SETTINGS:return{...o,settings:{...o.settings,...e.payload}};case Di.LOAD_PROGRESS:return{...o,...e.payload};case Di.RESET_PROGRESS:return LT;default:return o}},iD=()=>{try{const o=localStorage.getItem(Gx.PROGRESS);if(o)return JSON.parse(o)}catch(o){console.error("Failed to load progress:",o)}return null},rD=o=>{try{localStorage.setItem(Gx.PROGRESS,JSON.stringify(o))}catch(e){e.name==="QuotaExceededError"?console.warn("localStorage quota exceeded"):console.error("Failed to save progress:",e)}},sD=({children:o})=>{const[e,n]=ae.useReducer(nD,LT);ae.useEffect(()=>{const a=iD();a&&n({type:Di.LOAD_PROGRESS,payload:a})},[]),ae.useEffect(()=>{rD(e)},[e]);const s={state:e,...{setLevel:a=>{n({type:Di.SET_LEVEL,payload:a})},completeLevel:(a,u,f)=>{n({type:Di.COMPLETE_LEVEL,payload:{levelNumber:a,stars:u,score:f}})},unlockLevel:a=>{n({type:Di.UNLOCK_LEVEL,payload:{levelNumber:a}})},updateSettings:a=>{n({type:Di.UPDATE_SETTINGS,payload:a})},resetProgress:()=>{window.confirm("Are you sure you want to reset all progress?")&&n({type:Di.RESET_PROGRESS})},getLevelProgress:a=>e.levelProgress[a-1]||null,getUnlockedLevels:()=>e.levelProgress.filter(a=>a.unlocked),getTotalStars:()=>e.levelProgress.reduce((a,u)=>a+u.stars,0)}};return k.jsx(kT.Provider,{value:s,children:o})},aD=()=>{const o=ae.useContext(kT);if(!o)throw new Error("useGame must be used within GameProvider");return o},lD=(o,e,n,r)=>{const s=Math.max(0,Math.min(100,o));let a=0;e<=r.time?a=100:e<=r.time*2?a=100-(e-r.time)/r.time*50:e<=r.time*3?a=50-(e-r.time*2)/r.time*50:a=0,a=Math.max(0,Math.min(100,a));let u=0;n===0?u=100:n===1?u=75:n===2?u=50:n===3?u=25:u=0;const f=Math.round(s*Mi.WEIGHTS.ACCURACY+a*Mi.WEIGHTS.TIME+u*Mi.WEIGHTS.COLLISIONS);return{totalScore:Math.max(0,Math.min(100,f)),breakdown:{accuracy:{score:Math.round(s),weight:Mi.WEIGHTS.ACCURACY,contribution:Math.round(s*Mi.WEIGHTS.ACCURACY)},time:{score:Math.round(a),weight:Mi.WEIGHTS.TIME,contribution:Math.round(a*Mi.WEIGHTS.TIME)},collisions:{score:Math.round(u),weight:Mi.WEIGHTS.COLLISIONS,contribution:Math.round(u*Mi.WEIGHTS.COLLISIONS)}},metrics:{accuracy:o,timeTaken:e,collisions:n,parTime:r.time,parAccuracy:r.accuracy,parCollisions:r.collisions}}},oD=o=>o>=Mi.STAR_THRESHOLDS.THREE_STAR?3:o>=Mi.STAR_THRESHOLDS.TWO_STAR?2:(o>=Mi.STAR_THRESHOLDS.ONE_STAR,1);function uD(){ae.useEffect(()=>{console.log("%c  v3.9.0","color: #EF4444; font-size: 16px; font-weight: bold"),console.log("%c  - Firebase ","color: #10B981; font-size: 14px"),console.log(" Firebase Firestore "),console.log(" "),console.log(" Firebase  localStorage"),console.log(" Console  Firebase /  localStorage"),console.log("---"),console.log(" "),console.log("  (1-15)"),console.log(" "),console.log(" "),console.log(" "),console.log("  Firebase Firestore + localStorage "),console.log(" 7"),console.log(" "),console.log(" : Ackermann  + Sutherland-Hodgman ")},[]);const[o,e]=ae.useState("menu"),[n,r]=ae.useState(1),[s,a]=ae.useState(null),[u,f]=ae.useState(0),[h,d]=ae.useState("P"),[g,_]=ae.useState(!1),[x,p]=ae.useState(!1),[T,S]=ae.useState(!1),[E,V]=ae.useState(!1),[L,z]=ae.useState(!1),[U,N]=ae.useState({stars:0,totalScore:0,breakdown:{}}),[j,R]=ae.useState({reason:"",stats:{}}),[b,C]=ae.useState({level:1,time:0,score:0,speed:0,accuracy:0,collisions:0,gear:"P"}),{setLevel:w,completeLevel:M,gameProgress:I}=aD(),P=async Se=>{try{const Oe=await VT(Se);let Ue;if(Oe.data){Ue=Oe.data;const Ge=Oe.source==="firebase"?"":"";console.log(`  ${Se} ${Ge} (: ${Oe.source})`)}else Ue=(await B1(Object.assign({"./data/levels/level01.json":()=>ut(()=>import("./level01-BVmRH4ct.js"),[]),"./data/levels/level02.json":()=>ut(()=>import("./level02-BTX95H3G.js"),[]),"./data/levels/level03.json":()=>ut(()=>import("./level03-CWDJl8SF.js"),[]),"./data/levels/level04.json":()=>ut(()=>import("./level04-JKluZ-IS.js"),[]),"./data/levels/level05.json":()=>ut(()=>import("./level05-CuSOsyTs.js"),[]),"./data/levels/level06.json":()=>ut(()=>import("./level06-BUMF8VpH.js"),[]),"./data/levels/level07.json":()=>ut(()=>import("./level07-B64mG67k.js"),[]),"./data/levels/level08.json":()=>ut(()=>import("./level08-BwIK40qU.js"),[]),"./data/levels/level09.json":()=>ut(()=>import("./level09-BUdsw_jL.js"),[]),"./data/levels/level10.json":()=>ut(()=>import("./level10-BQHnZyUB.js"),[]),"./data/levels/level11.json":()=>ut(()=>import("./level11-CGhrQ_az.js"),[]),"./data/levels/level12.json":()=>ut(()=>import("./level12-BShVOj8z.js"),[]),"./data/levels/level13.json":()=>ut(()=>import("./level13-Dn50y8MJ.js"),[]),"./data/levels/level14.json":()=>ut(()=>import("./level14-CUSrr0ea.js"),[]),"./data/levels/level15.json":()=>ut(()=>import("./level15-CJh6r2PV.js"),[])}),`./data/levels/level${Se.toString().padStart(2,"0")}.json`,4)).default,console.log(`  ${Se}`);return a(Ue),r(Se),w(Se),Se===1&&z(!0),Ue}catch(Oe){return console.error(`Failed to load level ${Se}:`,Oe),alert(`Failed to load level ${Se}. Please try again.`),e("levelSelect"),null}},ee=()=>{e("levelSelect")},te=()=>{e("simple")},q=async Se=>{await P(Se)&&(e("level"),f(0),d("P"),_(!1))},W=Se=>{f(Se)},ce=Se=>{d(Se)},ve=Se=>{_(Se)},we=Se=>{C(Oe=>({...Oe,...Se}))},Y=({timeTaken:Se,accuracy:Oe,collisions:Ue})=>{const Ge=lD(Oe,Se,Ue,s.par),Pn=oD(Ge.totalScore);M(s.levelNumber,Pn,Ge.totalScore),N({stars:Pn,totalScore:Ge.totalScore,breakdown:{accuracy:Oe,timeTaken:Se,collisions:Ue}}),p(!0)},H=({reason:Se})=>{R({reason:Se,stats:{timeTaken:b.time,collisions:b.collisions,accuracy:b.accuracy}}),S(!0)},$=async()=>{p(!1);const Se=n+1;Se<=15?await q(Se):(alert("Congratulations! You have completed all levels!"),e("menu"))},J=()=>{p(!1),S(!1),V(!1),P(n)},he=()=>{V(!0)},ge=()=>{V(!1)},xe=()=>{p(!1),S(!1),V(!1),e("menu")},Me=()=>{a({...s})};return ae.useEffect(()=>{if(o!=="game")return;const Se=Ue=>{switch(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"," "].includes(Ue.key)&&Ue.preventDefault(),Ue.key){case"ArrowUp":case"w":case"W":h==="P"&&d("D");break;case"ArrowDown":case"s":case"S":h==="P"&&d("R");break;case"ArrowLeft":case"a":case"A":f(-1);break;case"ArrowRight":case"d":case"D":f(1);break;case" ":_(!0);break;case"p":case"P":d("P");break;case"Escape":he();break}},Oe=Ue=>{switch(Ue.key){case"ArrowLeft":case"ArrowRight":case"a":case"A":case"d":case"D":f(0);break;case" ":_(!1);break}};return window.addEventListener("keydown",Se),window.addEventListener("keyup",Oe),()=>{window.removeEventListener("keydown",Se),window.removeEventListener("keyup",Oe)}},[o,h]),o==="menu"?k.jsx(RA,{onStartGame:ee,onTutorial:te,onSettings:()=>e("editor"),onLeaderboard:()=>console.log("Leaderboard")}):o==="simple"?k.jsx(FA,{}):o==="editor"?k.jsx(PT,{onBack:()=>e("menu")}):o==="levelSelect"?k.jsx(CA,{onSelectLevel:q,onBack:()=>e("menu"),unlockedLevels:I?.unlockedLevels||1,levelScores:I?.levelScores||{}}):o==="level"?k.jsx(HA,{levelData:s,onLevelComplete:Y,onLevelFailed:H,onNextLevel:$,currentLevelNumber:n}):k.jsxs("div",{className:"min-h-screen bg-gray-900 relative overflow-hidden",children:[k.jsx(NA,{level:b.level,time:b.time,score:b.score,speed:b.speed,accuracy:b.accuracy,onPause:he,onRestart:Me,onHome:xe}),s&&k.jsx(UA,{levelData:s,onLevelComplete:Y,onLevelFailed:H,onStatsUpdate:we,steeringInput:u,gearInput:h,brakeInput:g}),k.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 flex justify-between items-end pointer-events-none",children:[k.jsx("div",{className:"pointer-events-auto",children:k.jsx(MA,{onSteer:W})}),k.jsx("div",{className:"pointer-events-auto",children:k.jsx(DA,{currentGear:h,onGearChange:ce,onBrake:ve})})]}),k.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 pointer-events-none",children:k.jsxs("div",{className:"bg-gray-800/80 backdrop-blur-sm px-4 py-2 rounded-lg text-xs text-gray-300 text-center",children:[" ",k.jsx("span",{className:"font-semibold",children:""}),k.jsx("span",{className:"mx-2",children:"W/ (D)"}),k.jsx("span",{className:"mx-2",children:"S/ (R)"}),k.jsx("span",{className:"mx-2",children:"A/ D/ "}),k.jsx("span",{className:"mx-2",children:" "}),k.jsx("span",{className:"mx-2",children:"P (P)"})]})}),k.jsx(Yx,{isOpen:x,stars:U.stars,totalScore:U.totalScore,breakdown:U.breakdown,onNextLevel:$,onRetry:J,onHome:xe}),k.jsx(Qx,{isOpen:T,reason:j.reason,stats:j.stats,onRetry:J,onHome:xe}),k.jsx(Xx,{isOpen:E,stats:b,onResume:ge,onRestart:J,onSettings:()=>console.log("Settings"),onHome:xe}),k.jsx(Kx,{isOpen:L,steps:s?.hints||[],onClose:()=>z(!1)})]})}b2.createRoot(document.getElementById("root")).render(k.jsx(ae.StrictMode,{children:k.jsx(sD,{children:k.jsx(uD,{})})}));
